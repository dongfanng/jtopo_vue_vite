(function(f,Vt){typeof exports=="object"&&typeof module<"u"?Vt(exports):typeof define=="function"&&define.amd?define(["exports"],Vt):(f=typeof globalThis<"u"?globalThis:f||self,Vt(f.jtopo={}))})(this,function(f){"use strict";const Vt=Ke;(function(x,e){const t=Ke,n=x();for(;[];)try{if(-parseInt(t(120))/1*(-parseInt(t(118))/2)+parseInt(t(117))/3+-parseInt(t(114))/4+-parseInt(t(116))/5*(-parseInt(t(123))/6)+parseInt(t(112))/7+parseInt(t(125))/8+-parseInt(t(113))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_n,594849);function co(x,e,t){return x[0]=e[0]+t[0],x[1]=e[1]+t[1],x}function xr(x,e,t){return x[0]=e[0]*t,x[1]=e[1]*t,x}function lo(x,e,t){return x[0]=e[0]*t,x[1]=e[1]*t,x}function _n(){const x=["6754544pYFcKU","add","2143204HzmHEx","18548703HZtlSI","1066432lmsprd","projection","5kFGmwN","1053951JcuMOD","2GEaRZb","sqrt","500429vCMoBe","multiplyC","dot","5521128Imqnnp","negate"];return _n=function(){return x},_n()}function ho(x,e){return x[0]=-e[0],x[1]=-e[1],x}function Ke(x,e){const t=_n();return Ke=function(n,s){return n=n-112,t[n]},Ke(x,e)}function uo(x,e){let n=Math[Ke(119)](e[0]*e[0]+e[1]*e[1]);return n==0?(x[0]=0,x[0]=0,x):(x[0]=e[0]/n,x[1]=e[1]/n,x)}function fo(x){return Math[Ke(119)](x[0]*x[0]+x[1]*x[1])}function sr(x,e){return x[0]*e[0]+x[1]*e[1]}function po(x,e,t){let n=sr(e,t);return xr(x,t,n),x}class B{}B[Vt(121)]=xr,B.scale=lo,B.len=fo,B[Vt(124)]=ho,B[Vt(126)]=co,B.normalize=uo,B[Vt(122)]=sr,B[Vt(115)]=po;const bt=mn;function mn(x,e){const t=In();return mn=function(n,s){return n=n-114,t[n]},mn(x,e)}function In(){const x=["zoomAfter","crosshair","4NCVxQj","508120kixaqa","894132bJzaKw","196434KRvbgC","8xLshmQ","center","horizontal","mid1","58632Zamhfg","resize","fullWindow","7JJaAMZ","vertical","4rCHVxs","267615jWdhHl","modeChange","zoom","fold2","view","3351360QoVvQo","8275157WAgiOq"];return In=function(){return x},In()}(function(x,e){const t=mn,n=x();for(;[];)try{if(-parseInt(t(131))/1*(parseInt(t(116))/2)+-parseInt(t(122))/3*(parseInt(t(121))/4)+parseInt(t(132))/5+-parseInt(t(133))/6*(parseInt(t(119))/7)+parseInt(t(135))/8*(parseInt(t(134))/9)+-parseInt(t(127))/10+parseInt(t(128))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(In,185110);const ft={DefaultFont:"10px sans-serif"},re={PointClosestEpsilon:.01,DefaultLightName:"DefaultLight",DefaultDarkName:"DefaultDark",flatten:!![]},Qe=2*Math.PI,wn="2.5.3_试用版",yt={drag:"drag",edit:"edit",normal:"normal",select:"select",view:bt(126)},ir={auto:"auto",move:"move",hand:"hand",crosshair:bt(130),s_resize:"s-resize",n_resize:"n-resize",w_resize:"w-resize",e_resize:"e-resize"},ke={horizontal:bt(114),vertical:bt(120)},v={lt:"lt",ct:"ct",rt:"rt",lm:"lm",center:bt(136),rm:"rm",lb:"lb",cb:"cb",rb:"rb",nearest:"nearest",begin:"begin",end:"end",ctrlPoint:"ctrlPoint",ctrlPoint1:"ctrlPoint1",ctrlPoint2:"ctrlPoint2",fold1:"fold1",fold2:bt(125),mid:"mid",mid1:bt(115),mid2:"mid2",up:"up",down:"down",left:"left",right:"right"},rr={lt:v.rb,ct:v.cb,rt:v.lb,rm:v.lm,rb:v.lt,cb:v.ct,lb:v.rt,lm:v.rm},$e={HandlerLayerCanvas:99,FullWindowDom:1e3,Link:1,Node:2,EditorNewLink:3,IntersectPoint:999,NodeCtrlBox:1e3,LinkCtrlBox:1001},si=0,D0=1,at={zoom:bt(124),resize:bt(117),zoomAfter:bt(129),fullWindow:bt(118),modeChange:bt(123),groupdrag:"groupdrag",groupdragend:"groupdragend",selectObject:"selectObject"};function d(x){return(e,t)=>{e[t]=x}}const Ot=M0;function M0(x,e){const t=vn();return M0=function(n,s){return n=n-120,t[n]},M0(x,e)}(function(x,e){const t=M0,n=x();for(;[];)try{if(parseInt(t(142))/1*(-parseInt(t(122))/2)+-parseInt(t(137))/3+-parseInt(t(131))/4*(-parseInt(t(144))/5)+-parseInt(t(129))/6*(parseInt(t(125))/7)+-parseInt(t(128))/8*(parseInt(t(133))/9)+parseInt(t(121))/10*(parseInt(t(123))/11)+parseInt(t(138))/12*(parseInt(t(134))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vn,732465);function vn(){const x=["interpolate","35HKhJSq","createPoints","14585zDvTmj","calculatePointOnMultiPointLine","length","5982290AIdWjq","51354QEWVOU","22NMAsHf","push","7rRNMeU","distancePoint","assert error betweenPoints","8YEPFej","6707976ImnGwl","distance","552OOIESW","atan2","8292168qlwuyy","6981Cplpsu","cos","offsetWithAngle","854556gzhdmw","52656izUxUh","sqrt","rotate"];return vn=function(){return x},vn()}class T{constructor(e=0,t=0){this.x=e,this.y=t}toJSON(){return{x:this.x,y:this.y}}static isLikePoint(e){const t=M0;return e instanceof T?!![]:Object.keys(e)[t(120)]==2&&e.x!=null&&e.y!=null}static looksSame(e,t,n){if(e===t)return!![];let s=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return n==null&&(n=.01),s<n&&i<n}static middle(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}static getAngle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}static[Ot(140)](e,t,n,s,i){return{x:(e-n)*Math.cos(i)-(t-s)*Math.sin(i)+n,y:(e-n)*Math.sin(i)+(t-s)*Math.cos(i)+s}}static rotatePoint(e,t,n){return{x:(e.x-t.x)*Math.cos(n)-(e.y-t.y)*Math.sin(n)+t.x,y:(e.x-t.x)*Math.sin(n)+(e.y-t.y)*Math.cos(n)+t.y}}static[Ot(130)](e,t,n,s){let i=n-e,r=s-t;return Math.sqrt(i*i+r*r)}static distancePoint(e,t){const n=Ot;let s=t.x-e.x,i=t.y-e.y;return Math[n(139)](s*s+i*i)}static mergeClosestPoints(e,t=re.PointClosestEpsilon){const n=Ot;let s=[e[0]];for(let i=1;i<e.length-1;i++){let r=s[s.length-1],o=e[i],a=e[i+1];if(o.x===a.x&&o.y===a.y)continue;let c=B.normalize([],[o.x-r.x,o.y-r.y]),l=B.normalize([],[a.x-o.x,a.y-o.y]);Math.abs(c[0]-l[0])<t&&Math.abs(c[1]-l[1])<t||s.push(o)}return s[n(124)](e[e.length-1]),s}static forward(e,t,n){const s=Ot;let i=Math[s(132)](t.y-e.y,t.x-e.x);return{x:e.x+n*Math[s(135)](i),y:e.y+n*Math.sin(i)}}static[Ot(136)](e,t,n){return typeof n=="number"&&(n={x:Math[Ot(135)](t)*n,y:Math.sin(t)*n}),{x:e.x+n.x,y:e.y+n.y}}static createPoints(e,t,n=1,s=![]){const i=s?[e]:[],r=s?n-1:n;let o=e;for(var a=0;a<r;a++){const c={x:o.x+t[0],y:o.y+t[1]};i.push(c),o=c}return i}static createPointsBidirectional(e,t,n){const s=Ot;if(n==0)return[];const i=[-t[0],-t[1]];if(n%2==0){const a=[t[0]/2,t[1]/2],c={x:e.x-a[0],y:e.y-a[1]},l={x:e.x+a[0],y:e.y+a[1]},h=T.createPoints(c,i,n/2,!![]),p=T.createPoints(l,t,n/2,!![]);return h.concat(p)}const r=T.createPoints(e,i,(n-1)/2+1,!![]),o=T[s(143)](e,t,(n-1)/2,![]);return r.concat(o)}static interpolate(e,t,n){let s=(1-n)*e.x,i=(1-n)*e.y,r=n*t.x,o=n*t.y;return{x:s+r,y:i+o}}static getDistanceSum(e){const t=Ot;let n=e.length;if(n<2)throw new Error("points.length < 2");let s=e[0],i=e[n-1];if(e.length==2)return T[t(126)](s,i);let r=0;for(var o=1;o<n;o++)r+=T.distancePoint(e[o-1],e[o]);return r}static[Ot(145)](e,t){const n=Ot;let s=e[n(120)];if(e[n(120)]<2)throw new Error("points.length < 2");let i=e[0],r=e[e.length-1];if(e.length==2)return T.interpolate(i,r,t);if(t<0)return T.interpolate(e[0],e[1],t);if(t>1)return T.interpolate(e[e[n(120)]-2],e[e[n(120)]-1],t);let o=T.getDistanceSum(e),a=o*t,c=0;for(var l=1;l<s;l++){let h=T.distancePoint(e[l-1],e[l]);if(a>=c&&a<=c+h){let p=a-c,b=p/h;return T[n(141)](e[l-1],e[l],b)}c+=h}throw console.log(e,t),new Error(n(127))}}function kn(){const x=["156246yFtRGt","2287305FwzHhM","1897920qmMmlC","getScale","point","scaleX","height","translate","483nqmgPV","width","skewY","2432580KhhgZo","6126060tlOhXI","cos","186MjrWoY","20898171KEUviX","rotateTarget","13256ymzRfj","getMatrix"];return kn=function(){return x},kn()}const Mt=B0;(function(x,e){const t=B0,n=x();for(;[];)try{if(parseInt(t(121))/1*(parseInt(t(105))/2)+parseInt(t(108))/3+-parseInt(t(118))/4+-parseInt(t(119))/5+-parseInt(t(107))/6*(parseInt(t(115))/7)+parseInt(t(109))/8+parseInt(t(103))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kn,924316);function B0(x,e){const t=kn();return B0=function(n,s){return n=n-103,t[n]},B0(x,e)}class t0{constructor(e){const t=B0;this[t(116)]=1,this.height=1,this.rotation=0,this.m=e&&e.slice()||[1,0,0,1,0,0]}get skewX(){return this.m[1]}get[Mt(117)](){return this.m[2]}get[Mt(112)](){return this.m[0]}get scaleY(){return this.m[3]}get x(){return this.m[4]}get y(){return this.m[5]}copy(){const e=Mt;let t=new t0(this.m);return t[e(116)]=this[e(116)],t[e(113)]=this.height,t.rotation=this.rotation,t}identity(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}transform(e,t,n,s,i,r){let o=[e,t,n,s,i,r],a=this.m[0]*o[0]+this.m[2]*o[1],c=this.m[1]*o[0]+this.m[3]*o[1],l=this.m[0]*o[2]+this.m[2]*o[3],h=this.m[1]*o[2]+this.m[3]*o[3],p=this.m[0]*o[4]+this.m[2]*o[5]+this.m[4],b=this.m[1]*o[4]+this.m[3]*o[5]+this.m[5];this.m[0]=a,this.m[1]=c,this.m[2]=l,this.m[3]=h,this.m[4]=p,this.m[5]=b}[Mt(111)](e){let t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[3]*e.y+t[1]*e.x+t[5]}}vec(e,t){let n=this.m;return e[0]=n[0]*t[0]+n[2]*t[1],e[1]=n[3]*t[1]+n[1]*t[0],e}points(e){const t=Mt;let n=[];for(var s=0;s<e.length;s++){let i=e[s];n.push(this[t(111)](i))}return n}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}translateTo(e,t){return this.m[4]=e,this.m[5]=t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}[Mt(110)](){return{x:this.m[0],y:this.m[3]}}rotate(e){let n=Math[Mt(120)](e),s=Math.sin(e),i=this.m[0]*n+this.m[2]*s,r=this.m[1]*n+this.m[3]*s,o=this.m[0]*-s+this.m[2]*n,a=this.m[1]*-s+this.m[3]*n;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=a,this}[Mt(104)](e,t,n){this[Mt(114)](t,n),this.rotate(e),this.translate(-t,-n)}getTranslation(){return{x:this.m[4],y:this.m[5]}}multiply(e){let t=this.m,n=e.m,s=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],r=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],a=t[0]*n[4]+t[2]*n[5]+t[4],c=t[1]*n[4]+t[3]*n[5]+t[5];return this.m[0]=s,this.m[1]=i,this.m[2]=r,this.m[3]=o,this.m[4]=a,this.m[5]=c,this}invert(){let e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,n=-this.m[1]*e,s=-this.m[2]*e,i=this.m[0]*e,r=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=n,this.m[2]=s,this.m[3]=i,this.m[4]=r,this.m[5]=o,this}[Mt(106)](){return this.m}setAbsolutePosition(e,t){let n=this.m[0],s=this.m[1],i=this.m[2],r=this.m[3],o=this.m[4],a=this.m[5],c=(n*(t-a)-s*(e-o))/(n*r-s*i),l=(e-o-i*c)/n;return this.translate(l,c)}}function Pn(){const x=["1978866HOnYUP","max","1445328DdnwNV","2363336HyTsPJ","top","getRight","center","normal","toString","21aAjrYa","union","clone","40TPLVRr","1233652xUNhdP","44oLnenF","5cjoZYi","height"," y:","equals","98006kncTff"," height:"," width:","1406712WRNWIZ","8pDhWOW","getBottom","bottom","242034IfgMUH","abs","toPoints","sign","width","right","setTo"];return Pn=function(){return x},Pn()}const H=j0;(function(x,e){const t=j0,n=x();for(;[];)try{if(-parseInt(t(288))/1+-parseInt(t(281))/2*(-parseInt(t(271))/3)+parseInt(t(265))/4+parseInt(t(277))/5*(-parseInt(t(295))/6)+parseInt(t(275))/7*(-parseInt(t(285))/8)+parseInt(t(297))/9*(parseInt(t(274))/10)+parseInt(t(276))/11*(-parseInt(t(284))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pn,359238);class j{constructor(e=0,t=0,n=0,s=0){const i=j0;this.x=0,this.y=0,this[i(292)]=0,this[i(278)]=0,this.x=e,this.y=t,this.width=n,this.height=s}setTo(e=0,t=0,n=0,s=0){this.x=e,this.y=t,this.width=n,this.height=s}getRect(){return this}[H(273)](){return new j(this.x,this.y,this.width,this.height)}[H(270)](){const e=H;return"[x: "+this.x+e(279)+this.y+e(283)+this.width+e(282)+this.height+"]"}[H(280)](e){const t=H;return e.x==this.x&&e.y==this.y&&e.width==this.width&&e[t(278)]==this.height}containsRect(e){const t=H;return e.x>this.x&&e[t(267)]()<this.getRight()&&e.y>this.y&&e.getBottom()<this.getBottom()?!![]:![]}contains(e,t){const n=H;return e>=this.x&&e<=this.x+this[n(292)]&&t>=this.y&&t<=this.y+this.height}isIntersectRect(e){return e.x>this.getRight()||e.y>this.getBottom()?![]:e.getRight()<this.x||e.getBottom()<this.y?![]:!![]}[H(267)](){return this.x+this.width}getBottom(){const e=H;return this.y+this[e(278)]}isEmpty(){return this.x===0&&this.y===0&&this.width===0&&this.height===0}setToEmpty(){this[H(294)](0,0,0,0)}getCenter(){const e=H;return{x:this.x+this[e(292)]/2,y:this.y+this.height/2}}[H(290)](){return[{x:this.x,y:this.y},{x:this.right,y:this.y},{x:this.right,y:this.bottom},{x:this.x,y:this.bottom}]}static[H(272)](e,t){const n=H;let s=Math.min(e.x,t.x),i=Math.min(e.y,t.y),r=Math.max(e.getRight(),t.getRight()),o=Math[n(296)](e.getBottom(),t[n(286)]());return e.setTo(s,i,r-s,o-i),e}static unionRects(e){let t=e[0].clone();for(let n=1;n<e.length;n++)t=j.union(t,e[n]);return t}static[H(269)](e,t){const n=H;let s=t.x-e.x,i=t.y-e.y;return Math[n(289)](s)>Math.abs(i)?[Math[n(291)](s),0]:[0,Math.sign(i)]}get left(){return this.x}set left(e){this.x=e}get[H(293)](){return this.x+this.width}set right(e){this.x=e-this.width}get[H(266)](){return this.y}set top(e){this.y=e+this.height}get bottom(){return this.y+this.height}set[H(287)](e){const t=H;this.y=e-this[t(278)]}get[H(268)](){const e=H;return this.x+this[e(292)]*.5}set center(e){this.x=e-this.width*.5}get middle(){return this.y+this.height*.5}set middle(e){const t=H;this.y=e-this[t(278)]*.5}}class Bt{constructor(){}contains(e,t){return this.aabb.contains(e,t)==![]?![]:!![]}static toAABB(e,t){let n=e[0],s={x:n.x,y:n.y},i={x:n.x,y:n.y},r={x:n.x,y:n.y},o={x:n.x,y:n.y};for(let a=1;a<e.length;a++){let c=e[a];c.x<s.x&&(s.x=c.x),c.x>i.x&&(i.x=c.x),c.y<r.y&&(r.y=c.y),c.y>o.y&&(o.y=c.y)}return t==null||t<=1?new j(s.x,r.y,i.x-s.x,o.y-r.y):new j(s.x-t,r.y-t,i.x-s.x+t+t,o.y-r.y+t+t)}}function j0(x,e){const t=Pn();return j0=function(n,s){return n=n-265,t[n]},j0(x,e)}(function(x,e){for(var t=ii,n=x();[];)try{var s=parseInt(t(264))/1+parseInt(t(274))/2+-parseInt(t(271))/3*(parseInt(t(270))/4)+-parseInt(t(268))/5*(parseInt(t(267))/6)+parseInt(t(265))/7*(parseInt(t(266))/8)+parseInt(t(273))/9*(-parseInt(t(272))/10)+-parseInt(t(269))/11;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sn,735557);function ii(x,e){var t=Sn();return ii=function(n,s){n=n-264;var i=t[n];return i},ii(x,e)}function Sn(){var x=["978131stykBt","1981KxgpUm","41096zWyyBB","644034fLcfAq","25MNKtAs","22010758WTyOZh","208SdWCdk","11679DcjEwG","160gyBfFf","53172XCAlFB","2276584Qbivva"];return Sn=function(){return x},Sn()}function On(){var x=["3825KdBiuP","749NutjPx","39132aoBUPl","81196jlnSZA","21xFZbfs","162288QAxhwc","979654iXLZMS","85MNKnfY","1397nWyycB","218282LcGqne","6306280XOTDzo","5752IflCnM"];return On=function(){return x},On()}function ri(x,e){var t=On();return ri=function(n,s){n=n-440;var i=t[n];return i},ri(x,e)}(function(x,e){for(var t=ri,n=x();[];)try{var s=parseInt(t(441))/1+-parseInt(t(444))/2*(parseInt(t(451))/3)+-parseInt(t(450))/4*(parseInt(t(442))/5)+parseInt(t(449))/6*(-parseInt(t(448))/7)+-parseInt(t(446))/8*(-parseInt(t(447))/9)+-parseInt(t(445))/10+parseInt(t(443))/11*(parseInt(t(440))/12);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(On,565225);const Ln=En;(function(x,e){const t=En,n=x();for(;[];)try{if(parseInt(t(270))/1+parseInt(t(271))/2+parseInt(t(259))/3+-parseInt(t(264))/4+-parseInt(t(260))/5*(-parseInt(t(265))/6)+parseInt(t(266))/7*(parseInt(t(267))/8)+-parseInt(t(261))/9*(parseInt(t(269))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cn,312862);function Cn(){const x=["142915Oappcl","2412ckrFby","type","removeEventListener","1977612mDkCJo","102kiQuyb","119wBJjRQ","222008HBYVgk","addEventListener","57410msGKoS","483447SkSSUL","1099212CTHkjT","length","listeners","1065366AQwMYD"];return Cn=function(){return x},Cn()}class _t{constructor(){this.listeners={}}hasListener(e){return e in this.listeners}[Ln(268)](e,t){const n=Ln;!(e in this.listeners)&&(this[n(273)][e]=[]),this.listeners[e].push(t)}[Ln(263)](e,t){if(!(e in this.listeners))return;let n=this.listeners[e];for(var s=0,i=n.length;s<i;s++)if(n[s]===t)return n.splice(s,1),this.removeEventListener(e,t)}dispatchEvent(e){const t=Ln;if(!(e.type in this.listeners))return;let n=this.listeners[e[t(262)]];for(var s=0,i=n[t(272)];s<i;s++)n[s].call(this,e)}on(e,t){return this.addEventListener(e,t)}}function En(x,e){const t=Cn();return En=function(n,s){return n=n-259,t[n]},En(x,e)}function jt(x,e){const t=Tn();return jt=function(n,s){return n=n-122,t[n]},jt(x,e)}function Tn(){const x=["max","234561tFJboo","union","map","rotate","4273524LrruiE","splice","1848784OsssGn","14914269hKNyAj","MIN_SAFE_INTEGER","2190ZNIwid","2789612VIavvt","height","width","push","274OxGDYQ","5kinvRc","6047816VMZqQk"];return Tn=function(){return x},Tn()}(function(x,e){const t=jt,n=x();for(;[];)try{if(parseInt(t(129))/1*(-parseInt(t(124))/2)+parseInt(t(133))/3+parseInt(t(125))/4+-parseInt(t(130))/5*(parseInt(t(137))/6)+parseInt(t(139))/7+-parseInt(t(131))/8+parseInt(t(122))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tn,928582);class z{static hasChild(e,t){return e.indexOf(t)!=-1}static notContains(e,t){return e.indexOf(t)==-1}static addAll(e,t){const n=jt;for(var s=0;s<t.length;s++)e[n(128)](t[s]);return e}static removeAt(e,t){return e.splice(t,1)}static remove(e,t){const n=jt;let s=e.indexOf(t);return s==-1?-1:(e[n(138)](s,1),s)}static getPointsRect(e){const t=jt;let n=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,i=Number[t(123)],r=Number.MIN_SAFE_INTEGER;return e.forEach(function(o){o.x<n&&(n=o.x),o.y<s&&(s=o.y),o.x>i&&(i=o.x),o.y>r&&(r=o.y)}),new j(n,s,i-n,r-s)}static getRectsNormalization(e,t){const n=jt;let s=new j;s.setTo(e[0].x,e[0].y,e[0].width,e[0].height);for(let l=1;l<e.length;l++)j[n(134)](s,e[l]);let i=s.width,r=s.height,o=s.x,a=s.y;return e.map(l=>{const h=n;let p=l[h(127)]/i,b=l[h(126)]/r,_=(l.x-o)/i,g=(l.y-a)/r,I=p*t.width,m=b*t[h(126)],C=t.x+_*t[h(127)],S=t.y+g*t.height;return new j(C,S,I,m)})}static getMinMax(e){const t=jt;let n={x:e[0].x,y:e[0].y},s={x:e[0].x,y:e[0].y};for(let i=1;i<e.length;i++){let r=e[i];n.x=Math.min(n.x,r.x),n.y=Math.min(n.y,r.y),s.x=Math.max(s.x,r.x),s.y=Math[t(132)](s.y,r.y)}return{min:n,max:s}}static getPointsNormalization(e,t=-.5,n=-.5,s=!![]){const i=jt;let r=z.getMinMax(e),o=r.min,a=r[i(132)],c=a.x-o.x,l=a.y-o.y;if(c==l||s==![])return e[i(135)](_=>({x:(_.x-o.x)/c+t,y:(_.y-o.y)/l+n}));if(c>l){let b=(c-l)*.5;return l=c,e.map(g=>({x:(g.x-o.x)/c+t,y:(g.y+b-o.y)/l+n}))}let h=(l-c)*.5;return c=l,e[i(135)](b=>({x:(b.x+h-o.x)/c+t,y:(b.y-o.y)/l+n}))}static rotateNormaledPoints(e,t,n=0,s=0){const i=jt;if(t==0||t%6.283185307179586==0)return e.slice();let r=e[i(135)](o=>T[i(136)](o.x,o.y,n,s,t));return z.getPointsNormalization(r)}}const Jt=Pe;(function(x,e){const t=Pe,n=x();for(;[];)try{if(parseInt(t(105))/1*(parseInt(t(115))/2)+-parseInt(t(110))/3+-parseInt(t(101))/4+parseInt(t(100))/5+parseInt(t(103))/6+-parseInt(t(113))/7*(parseInt(t(119))/8)+-parseInt(t(124))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(An,736481);function An(){const x=["set","cacheObj","size","allLoadedResolve","923868iPUQdC","log","showImgLoadErrorLog","errorLog","onerror","get","加载完成: ","5782715KkAnDg","684000nJhEVl","whenAllLoaded","1272450QAgcbi","dispatchEvent","25fRMNxJ","objCache","error","onload","clear","1466109IAUpkE","removeObject","imageCache","7bKPXzV","load","39286NhQwQH","callbackCache","hasLoaded","next","2886856FpgqAq"];return An=function(){return x},An()}class go extends _t{constructor(){const e=Pe;super(),this[e(126)]=!![],this.imageCache=new Map,this[e(116)]=new Map,this.objCache=new Map}errorLog(e){this[Pe(126)]&&console.error(e)}[Jt(102)](){let e=this;return new Promise((t,n)=>{e.allLoadedResolve=t})}whenAllImagesLoaded(e,t=![]){const n=this.imageCache,s=this;function i(o){return new Promise((a,c)=>{const l=Pe;let h=new Image;h.src=o,t&&console.log("开始加载: ",o),h[l(108)]=function(){const p=l;t&&console[p(125)](p(130),o),h.complete&&h.naturalWidth>0?(n.set(o,h),a(h)):s[p(127)]("图片加载失败: "+o)},h.onerror=function(){s.errorLog("image load error: "+o),a(null)}})}let r=e.map(i);return Promise.all(r)}clearCache(){const e=Jt;this[e(112)][e(109)](),this.callbackCache[e(109)](),this.objCache.clear()}[Jt(111)](e){this[Jt(106)].delete(e)}cancelCallback(e){const t=Jt;let n=this.objCache[t(129)](e);n!=null&&(n.canceled=!![],this.objCache.delete(e))}onload(e,t){const n=Jt,s=this,i=this.callbackCache[n(129)](e);if(i==null)return;for(let o=0;o<i.length;o++){let a=i[o];a.canceled!=!![]&&(a(t),a[n(121)]&&this.objCache.delete(a[n(121)]),a.next&&a[n(118)](t))}this.callbackCache.delete(e),t!=null&&this.imageCache.set(e,t),this[n(117)]=!![],this[n(104)]({type:"loaded",resource:t}),this[n(116)][n(122)]==0&&this.allLoadedResolve&&(s.allLoadedResolve(t),s[n(123)]=null)}addToCallbackList(e,t){const n=Jt;if(t==null)return null;let s=this.callbackCache[n(129)](e);s==null&&(s=[],this[n(116)].set(e,s)),s.push(t)}loadImageWithObj(e,t,n){const s=Jt;let i=this.objCache.get(e);return i!=null&&(i.canceled=!![]),n.cacheObj=e,n.canceled=null,this.objCache[s(120)](e,n),this.loadImage(t,n)}loadImage(e,t){const n=Jt;let s=this,i=this[n(116)].get(e),r=i!=null;if(s.lastResource=e,this.addToCallbackList(e,t),r)return;let o=this[n(112)].get(e);if(o!=null){this[n(108)](e,o);return}setTimeout(function(){const a=n;let c=new Image;c.src=e,c.addEventListener(a(114),l=>{s.onload(e,c)}),c[a(128)]=function(){console[a(107)]("Image load error: "+e),s.onload(e,null)}},1)}}function Pe(x,e){const t=An();return Pe=function(n,s){return n=n-100,t[n]},Pe(x,e)}const tt=new go;(function(x,e){const t=N0,n=x();for(;[];)try{if(parseInt(t(385))/1*(parseInt(t(383))/2)+parseInt(t(378))/3+parseInt(t(381))/4+parseInt(t(375))/5*(-parseInt(t(379))/6)+-parseInt(t(382))/7*(-parseInt(t(377))/8)+parseInt(t(372))/9*(parseInt(t(374))/10)+-parseInt(t(376))/11*(parseInt(t(380))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mn,319401);function or(x,e,t){return typeof x=="function"?ar(x.name,x,e):ar(x,e,t)}function ar(x,e,t){const n=N0;if(ft[x]!=null)throw new Error("class already reg, name:"+x);const s=e.prototype;t!=null&&t.length>0&&(s[n(386)]=s.serializers[n(384)](t)),Object.defineProperties(s,{className:{writable:!![]}}),s.className=x,Object.defineProperties(s,{className:{writable:![]}}),ft[x]=e}function N0(x,e){const t=Mn();return N0=function(n,s){return n=n-372,t[n]},N0(x,e)}function Dn(x){const e=N0;let t=ft[x];if(t==null)throw(x==e(373)||x=="ShapeNode")&&(t=ft.Node),new Error("class not exist name:"+x);return t}function e0(x,e){let t,n=Dn(x);return t=new n,e&&Object.assign(t,e),t}function Mn(){const x=["7rHxZDf","106AFDkxQ","concat","5505UtCHwX","serializers","18lXniFa","ArrowNode","2365460dpPxPt","600mWifMs","18288457tRimju","4576504tlqJWH","854652emhzCz","834lbAiIN","12QNhKPW","1507456EhDBtZ"];return Mn=function(){return x},Mn()}const P=jn;(function(x,e){const t=jn,n=x();for(;[];)try{if(parseInt(t(207))/1+parseInt(t(198))/2+-parseInt(t(224))/3+parseInt(t(194))/4+-parseInt(t(216))/5*(-parseInt(t(218))/6)+-parseInt(t(203))/7*(-parseInt(t(193))/8)+-parseInt(t(211))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bn,609250);function Bn(){const x=["385oUhhor","push","ctrlPoints","step","272979BIwNZw","center","defineProperty","end","7391736DPWsuS","ctrlPoint2","begin","Damond","length","785pvMXhW","cos","6618sNRyWM","LineShape","outerGrid","pointCount","width","prototype","613647ZDHiqL","lineWidth","className","Rect","nearest","Scale","circlePoints","Arrow","direction","moveTo","anticlockwise","getPointsNormalization","sin","anchorPoints","isClosed","closePath","points","rotateNormaledPoints","updatePoints","49304rpasrV","752196Ujivxs","dirty","CircleShape","forEach","1323878irzqKr","fromPoints","Line","pointToSize","draw"];return Bn=function(){return x},Bn()}function jn(x,e){const t=Bn();return jn=function(n,s){return n=n-177,t[n]},jn(x,e)}var bo=Object[P(209)],yo=Object.getOwnPropertyDescriptor,W=(x,e,t,n)=>{for(var s=n>1?void 0:n?yo(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&bo(e,t,s),s};const ct=class{constructor(x){const e=P;this.isClosed=!![],this[e(190)]=x}[P(192)](x){const e=P;this[e(190)]=x,this[e(195)]=!![]}toJSON(){const x=P;let e={className:this[x(226)]};return e[x(190)]=this[x(190)],e.isClosed=this.isClosed,e}clone(){const x=P;return new ct(this[x(190)].slice())}static fromJSON(x){const e=P;let t=Dn(x.className),n=new t(x[e(190)]);return n.isClosed=x.isClosed,n}static[P(199)](x,e=!![]){let n=z[P(185)](x,-.5,-.5,e);return new ct(n)}static normalPoints(x,e=!![]){return z.getPointsNormalization(x,-.5,-.5,e)}[P(202)](x,e,t){const n=P;t=t||this.points;let s=t[0];x[n(183)](s.x,s.y);for(let r=1;r<t.length-1;r++){if(t[r].x===s.x&&t[r].y===s.y){s=t[r];continue}x.lineTo(t[r].x,t[r].y),s=t[r]}let i=t[t[n(215)]-1];x.lineTo(i.x,i.y),this.isClosed&&x.closePath()}rotate(x){const e=P;return this.points=z[e(191)](this[e(190)],x),this.dirty=!![],this}scale(x,e){const t=P;return this[t(190)][t(197)](n=>{n.x*=x,n.y*=e}),this.points=z.getPointsNormalization(this.points),this.dirty=!![],this}static[P(179)](x,e){return function(n){return n.x*=x,n.y*=e,n}}skew(x,e){return this.points.forEach(t=>{let n=t.x,s=t.y;t.x=n+s*e,t.y=s+n*x}),this.points=z.getPointsNormalization(this.points),this.dirty=!![],this}static[P(201)](x,e,t,n=![]){return n==!![]&&e!=t&&(e>t?e=t:t=e),x.map(i=>({x:i.x*e,y:i.y*t}))}static polygon(x=3,e=0){let t=[],n=2*Math.PI/x;for(var s=0;s<x;s++){let r=Math.cos(e+s*n),o=Math.sin(e+s*n);t.push({x:r,y:o})}return ct.fromPoints(t)}static parallelogram(x=.2){let e=[{x,y:0},{x:1,y:0},{x:1-x,y:1},{x:0,y:1}];return ct.fromPoints(e)}static[P(217)](x){const e=P;x.begin=x[e(213)]|0,x.end=x[e(210)]|Qe;let t=[];if(x.pointCount==null){x.step=x.step|.2;for(let n=x.begin;n<=x[e(210)];n+=x[e(206)]){let s=n;t.push({x:s,y:Math[e(217)](s)})}}else{x.step=(x[e(210)]-x[e(213)])/x.pointCount;for(let n=0;n<x[e(221)];n++){let s=(n+1)*x[e(206)];t.push({x:s,y:Math.cos(s)})}}return ct[e(199)](t)}static circle(x){let e=ct.circlePoints(x);return ct.fromPoints(e)}static[P(180)](x){const e=P;x[e(213)]=x[e(213)]||0,x[e(210)]=x[e(210)]||Qe;let t=[];if(x.pointCount==null){x[e(206)]=x[e(206)]|.2;for(let n=x.begin;n<=x.end;n+=x.step){let s=n;t[e(204)]({x:Math.sin(s),y:Math[e(217)](s)})}}else{let n=(x.end-x.begin)/x.pointCount;for(let s=0;s<x.pointCount;s++){let i=s*n;t.push({x:Math[e(186)](i),y:Math.cos(i)})}}return t}static fn(x){const e=P;let t=x();return ct[e(199)](t)}static[P(220)](x,e){const t=P;let n=[],s=1/(e-1),i=1/(x-1);for(let r=0;r<x;r++)for(let o=0;o<e;o++){let a={y:r*i-.5,x:o*s-.5};n[t(204)](a)}return new ct(n)}static innerGrid(x,e){let t=[],n=1/(e+1),s=1/(x+1),i=n,r=s;for(let o=0;o<x;o++)for(let a=0;a<e;a++){let c={x:i+a*n-.5,y:r+o*s-.5};t.push(c)}return new ct(t)}};let D=ct;D[P(214)]=(()=>{let x=[{x:-.5,y:0},{x:0,y:-.5},{x:.5,y:0},{x:0,y:.5}];return new ct(x)})(),D.Triangle=(()=>{let x=[{x:-.5,y:-.5},{x:.5,y:0},{x:-.5,y:.5}];return new ct(x)})(),D.tip=(()=>{let x=[{x:0,y:0},{x:1,y:0},{x:1,y:.8},{x:.8,y:.8},{x:.5,y:1},{x:.2,y:.8},{x:0,y:.8},{x:0,y:0}];return ct.fromPoints(x)})(),W([d("Shape")],D.prototype,P(226),2),W([d(["ct","cb","lm","rm"])],D.prototype,"anchorPoints",2),W([d(["rotate","lt","lb","rt","rb"])],D.prototype,"ctrlPoints",2),W([d(!![])],D[P(223)],P(188),2),W([d(!![])],D.prototype,"isUnit",2),W([d(![])],D.prototype,P(195),2),D.Polygon=D.polygon;class n0 extends D{constructor(e=[{x:-.5,y:-.5},{x:.4,y:0},{x:-.5,y:.5},{x:-.5,y:0}]){super(e)}draw(e,t,n){const s=P;n=n||this.points,e[s(183)](n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y),e.lineTo(n[2].x,n[2].y),e.lineCap="square";let i=t._computedStyle[s(225)]||1,r=i*.5/t[s(222)];r>1&&(r=1),e.moveTo(n[3].x-r,n[3].y),e.lineTo(n[1].x-r,n[1].y)}}W([d("ArrowShape")],n0.prototype,"className",2),W([d(![])],n0.prototype,"isClosed",2),ft.ArrowShape=n0,D[P(181)]=new n0,D.ArrowShape=D.Arrow;class z0 extends D{constructor(e=[{x:-.5,y:-.5},{x:.5,y:-.5},{x:.5,y:.5},{x:-.5,y:.5}]){super(e)}[P(202)](e,t){e.rect(-.5,-.5,1,1)}}W([d("RectShape")],z0[P(223)],"className",2),ft.RectShape=z0,D.Rect=new z0,D.RectShape=D[P(177)];class Nn extends D{constructor(e=[{x:0,y:0}]){super(e)}draw(e,t){let n=this.points[0];e.arc(n.x,n.y,.5,0,Qe)}}W([d(P(196))],Nn.prototype,"className",2),D.Circle=new Nn;class zn extends D{constructor(e=[{x:0,y:0},{x:-.5,y:0},{x:-.5,y:0}]){super(e)}draw(e,t){const n=P;let s=this[n(190)][0],i=this.points[1],r=this[n(190)][2],o=T.distancePoint(s,i),a=T.distancePoint(s,r);e.ellipse(s.x,s.y,o,a,0,0,Qe)}}W([d("EllipseShape")],zn.prototype,P(226),2),D.Ellipse=new zn;class x0 extends D{constructor(e=[]){super(e),this.isClosed=![]}}W([d(P(219))],x0.prototype,"className",2),W([d(["begin","end"])],x0[P(223)],"anchorPoints",2),W([d(["begin",P(210)])],x0.prototype,P(205),2),D[P(200)]=new x0;class s0 extends D{constructor(e=[]){const t=P;super(e),this[t(188)]=![]}draw(e,t,n){const s=P;let i=n[0],r=n[1],o=n[2];e[s(183)](i.x,i.y),e.quadraticCurveTo(r.x,r.y,o.x,o.y),this.isClosed&&e[s(189)]()}}W([d("CurveShape")],s0.prototype,"className",2),W([d(["begin","end"])],s0.prototype,"anchorPoints",2),W([d(["begin","end"])],s0.prototype,"ctrlPoints",2),D.Curve=new s0;class i0 extends D{constructor(e=[]){const t=P;super(e),this[t(188)]=![]}draw(e,t,n){let s=n[0],i=n[1],r=n[3],o=n[4];e.beginPath(),e.moveTo(s.x,s.y),e.bezierCurveTo(i.x,i.y,r.x,r.y,o.x,o.y),this.isClosed&&e.closePath()}}W([d("BezierCurveShape")],i0.prototype,P(226),2),W([d(["begin","end"])],i0[P(223)],P(187),2),W([d(["begin",P(210),"ctrlPoint1",P(212)])],i0.prototype,"ctrlPoints",2),D.BezierCurve=new i0;class r0 extends D{constructor(e=[]){const t=P;super(e),this[t(188)]=![]}[P(202)](e,t,n){const s=P;let i=n[0],r=n[n.length-1];if(t&&t[s(182)]==s(184)){let o=Math.atan2(i.y-r.y,i.x-r.x);e.arc(0,0,.5,o,o+Math.PI,!![])}else{let o=Math.atan2(i.y-r.y,i.x-r.x);e.arc(0,0,.5,o,o+Math.PI,![])}this[s(188)]&&e.closePath()}}W([d("ArcShape")],r0.prototype,"className",2),W([d([P(213),P(210)])],r0.prototype,"anchorPoints",2),W([d(["begin",P(210)])],r0.prototype,"ctrlPoints",2),D.Arc=new r0;const _o=D[P(220)](3,3).points,mo=[v.lt,v.ct,v.rt,v.lm,v.center,v.rm,v.lb,v.cb,v.rb],qt={};mo.forEach((x,e)=>{qt[x]=_o[e]}),qt[v.nearest]=function(){return this[P(178)]};function oi(x){if(x==P(208))throw new Error("center is zero vector");let t=qt[x];return B.normalize([],[t.x,t.y])}function ai(x){let e=qt[x];return Math.atan2(e.y,e.x)}class Se extends D{constructor(e=[]){super(e),this.isClosed=!![]}draw(e,t){const n=P;let s=t,i=-s[n(222)]*.5,r=-s.height*.5,o=s.width,a=s.arrowsSize,c=s.height-a,l=0;e[n(183)](i,r),e.lineTo(i+o,r),e.lineTo(i+o,r+c),e.lineTo(l+(a-2),r+c),e.lineTo(l,r+c+a),e.lineTo(l-(a-2),r+c),e.lineTo(i,r+c),e.lineTo(i,r)}}W([d("TipShape")],Se.prototype,"className",2),W([d(![])],Se.prototype,"isUnit",2),W([d([])],Se.prototype,"anchorPoints",2),W([d([])],Se.prototype,"ctrlPoints",2);function Rn(){const x=["removeFromParent","348XfRWQp","Roots","parent","push","564lULDHX","33593EPjjjy","5572RyydwU","1245aHfffv","length","fromJSON","startsWith","data","5355LPBOAX","filter","38gxDIJB","10666hjDScK","CustomStyle","390SfqbfB","forEach","2474420mejDRq","get","end","137929NGgFbY","5822248oPAVVT","className","styles"];return Rn=function(){return x},Rn()}(function(x,e){const t=Wn,n=x();for(;[];)try{if(parseInt(t(310))/1*(parseInt(t(309))/2)+parseInt(t(302))/3*(parseInt(t(301))/4)+parseInt(t(314))/5+parseInt(t(326))/6*(-parseInt(t(300))/7)+-parseInt(t(318))/8+parseInt(t(307))/9*(parseInt(t(312))/10)+parseInt(t(317))/11*(parseInt(t(322))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rn,483582);function Wn(x,e){const t=Rn();return Wn=function(n,s){return n=n-300,t[n]},Wn(x,e)}function ci(x,e){const t=Wn;let n={},s={},i={},r=x[t(323)]||[0],o=x.DisplayObjects||[],a=x.Styles||[],c=x.Shapes||[],l=x.Resources||[],h=x[t(311)]||{};if(o.forEach(m=>{const C=t;if(m.hasOwnProperty("userData")&&!m.hasOwnProperty("data")){let S=m.userData;delete m.userData,m[C(306)]=S}m.isLink&&m.path==null&&(m.path=[m.begin,m.end],delete m.begin,delete m[C(316)])}),h[t(320)]==null){let m={},C=Object.keys(h);for(let S=0;S<C[t(303)];S++){let A=C[S];A[t(305)](".")&&(m[A]=h[A],delete h[A])}h.styles=m}a[t(313)](function(m,C){const S=t;s[C]=it[S(304)](m,l)}),c.forEach(function(m,C){let S=D.fromJSON(m);i[C]=S});let p=[];function b(m,C){const S=t;let A;return e&&(A=e[S(315)](m.id)),A==null&&(A=e0(m[S(319)])),C<r[S(303)]&&p[S(325)](A),A._afterFromJSON(m,l,s,i),n[C]=A,A}let _=o.map(b);_[t(313)](m=>{m.removeAllChild()}),o[t(313)]((m,C)=>{const S=t;let A=_[C];if(m.parent!=null){let Z=n[m[S(324)]];A[S(324)]!=null&&A[S(321)](),Z.addChild(A)}});let g=o[t(308)](m=>m.isLink),I=_.filter(m=>m.isLink);return g.forEach(function(m,C){I[C]._updateBeginEndAfterJson(m,n)}),p}const cr=Hn;(function(x,e){const t=Hn,n=x();for(;[];)try{if(-parseInt(t(142))/1+-parseInt(t(144))/2+parseInt(t(138))/3+-parseInt(t(147))/4*(-parseInt(t(145))/5)+parseInt(t(137))/6+-parseInt(t(146))/7*(parseInt(t(141))/8)+parseInt(t(140))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fn,172144);function Fn(){const x=["1336NkESXC","49863WMGrNW","back","383486SnqDbS","2005mwgLtq","3507AsfkWS","1148FprCUV","910500dohbIU","636234jrAseE","getMax","166518MFtXUR"];return Fn=function(){return x},Fn()}let R0=0,mt={};function Hn(x,e){const t=Fn();return Hn=function(n,s){return n=n-137,t[n]},Hn(x,e)}mt.next=function(){return++R0},mt[cr(143)]=function(){return--R0},mt[cr(139)]=function(){return R0},mt.resetTo=function(x){R0=x},mt.compare=function(x){x!=null&&x>R0&&mt.resetTo(x+1)};const lr=Oe;(function(x,e){const t=Oe,n=x();for(;[];)try{if(parseInt(t(119))/1*(parseInt(t(104))/2)+parseInt(t(115))/3*(-parseInt(t(117))/4)+-parseInt(t(118))/5+parseInt(t(112))/6*(-parseInt(t(109))/7)+-parseInt(t(105))/8+parseInt(t(120))/9+parseInt(t(108))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xn,567133);function Oe(x,e){const t=Xn();return Oe=function(n,s){return n=n-104,t[n]},Oe(x,e)}function Xn(){const x=["forEach","692ipkCmZ","4317270mHPafE","344769Rwqnbp","6830694gYePDA","6QyqKoX","3177976zcpewY","type","getState","15278950YtoVUx","7voNYqf","restoreToJson","styleSystem","5437032PJyiVO","CustomStyle","img","10182YPXoIf"];return Xn=function(){return x},Xn()}let Io=new Map;const hr=class{constructor(){}setNumberFixed(x){hr.numberFixed=x}objectsToJSON(x,e=![]){return li(x,e)}jsonToObjects(x,e){return ci(x,e)}copyAndToJSON(x){let e=li(x);return e.DisplayObjects.forEach(t=>{t.id=void 0}),e}static getEmptyInstance(x){let e=Io.get(x);return e==null&&(e=e0(x)),e}static getProtoDefaultProperties(x){let e=x.serializers,t=Object.getPrototypeOf(x),n={};for(var s=0;s<e.length;s++){let i=e[s],r=t[i],o=x[i];o===r&&(n[i]=o)}return n}componentToObjects(x){const e=Oe;let t=JSON.parse(x);return t.DisplayObjects[e(116)](i=>{delete i.id}),ci(t)}objectsToComponent(x){let e=this.copyAndToJSON(x);return JSON.stringify(e)}fillByJson(x,e,t=![]){const n=Oe;let s=e;typeof e=="string"&&(s=JSON.parse(e));let i=this;function r(){const o=Oe;let a=s.DisplayObjects,c=a[0];c.className=="Layer"&&(x.id=c.id),a[o(116)](l=>mt.compare(l.id)),s[o(113)]!=null&&x.stage[o(111)].fromJson(s),i.restoreToJson(x,s)}if(t){let o=s.Resources,a=o.filter(c=>c[n(106)]==n(114)&&c.src!="canvas").map(c=>c.src);return new Promise((c,l)=>{if(a.length==0){r(),c(!![]);return}tt.whenAllImagesLoaded(a).then(()=>{r(),c(!![])}).catch(()=>{l(![])})})}return r(),null}[lr(107)](x){return li([x])}[lr(110)](x,e){if(e!=null){let t=x.toIdMap();ci(e,t)}return e}};let Le=hr;Le.numberFixed=6;function Yn(){const x=["' height='",`'>
<rect x='0' y='0' width='`,"454692gVepxz","21595ylfLjx","</g></svg>","match"," H ","6346854QtBXvJ","2242715VQtbqk","30234710cjSxHu","6CpbQtd","rgb(20,20,20)","data","491450YWNeCK","Image url error: ","; stroke-width:0.5;'>","74157XpaoRK","height","M 0 ","rgb(255,255,255)","<svg xmlns='http://www.w3.org/2000/svg' width='","ctx","912hKBxbe","15CxgyZN","162hVHPpf",'url("',"width","#242424","startsWith","length"];return Yn=function(){return x},Yn()}const Gt=Un;(function(x,e){const t=Un,n=x();for(;[];)try{if(-parseInt(t(405))/1*(-parseInt(t(399))/2)+-parseInt(t(412))/3*(parseInt(t(421))/4)+parseInt(t(397))/5+-parseInt(t(396))/6+-parseInt(t(422))/7*(parseInt(t(411))/8)+parseInt(t(413))/9*(-parseInt(t(402))/10)+parseInt(t(398))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yn,557150);const ur=document.createElement("canvas"),Nt=class{static bgGrid(x,e,t,n,s=Gt(416),i="#151515"){const r=Gt;let o=r(409)+x+"' height='"+e+r(420)+x+r(419)+e+"' style='fill:"+s+";stroke:"+i+`;stroke-width:1;'/>
<g style='stroke:`+i+r(404),a=e/t,c=x/n,l="";for(let p=1;p<=t;p++)l+=r(407)+a*p+r(425)+x+" ";o+="<path d='"+l+"'/>";let h="";for(let p=1;p<=n;p++)h+="M "+c*p+" 0 V "+e+" ";return o+="<path d='"+h+"'/>",o+=r(423),o=o.replace(/\n/g,""),o}static createGridImage(x=100,e=100,t=5,n=5,s,i){const r=Gt;let o=Nt.bgGrid(x,e,t,n,s,i);return r(414)+Nt.svgToImageUrl(o)+'")'}static createLightGridImg(){const x=Gt;return Nt.createGridImage(100,100,5,5,x(408),"rgb(240,240,240)")}static createDarkGridImg(){const x=Gt;return Nt.createGridImage(100,100,5,5,"rgb(36,36,36)",x(400))}static svgToImageUrl(x){return"data:image/svg+xml;charset=UTF-8,"+x}static canvasColorFilter(x,e){const t=Gt,n=x.getContext("2d"),s=n.getImageData(0,0,x[t(415)],x[t(406)]);let i=(o,a,c,l)=>[e[0]*o/255,e[1]*a/255,e[2]*c/255];typeof e=="function"&&(i=e);for(var r=0;r<s[t(401)].length;r+=4){let o=i(s.data[r],s.data[r+1],s[t(401)][r+2],s[t(401)][r+3]);s.data[r]=o[0],s.data[r+1]=o[1],s.data[r+2]=o[2],o.length>3&&o[3]!=null&&(s[t(401)][r+3]=o[3])}n.putImageData(s,0,0)}static colorFilter(x,e){const t=Gt,n=Nt.canvas,s=Nt.ctx;n.width=x[t(415)],n.height=x[t(406)],s.drawImage(x,0,0),Nt.canvasColorFilter(n,e);const i=new Image;return i.src=n.toDataURL("image/png"),i}static imageToBase64(x){const e=Gt,t=Nt.canvas,n=Nt[e(410)];return t.width=x[e(415)],t.height=x[e(406)],n.drawImage(x,0,0),t.toDataURL()}static parseImgUrl(x){const e=Gt;if(x.startsWith("data:image/"))return x;if(x[e(417)]("url(")){let t=x[e(424)](/url\((['"]?)(.*?)\1\)/);if(t)return t[2];throw new Error(e(403)+x)}return x}};let Lt=Nt;Lt.canvas=ur,Lt.ctx=ur.getContext("2d",{willReadFrequently:!![]});function Un(x,e){const t=Yn();return Un=function(n,s){return n=n-396,t[n]},Un(x,e)}(function(x,e){const t=Ce,n=x();for(;[];)try{if(-parseInt(t(341))/1+-parseInt(t(364))/2+parseInt(t(347))/3*(parseInt(t(342))/4)+parseInt(t(348))/5*(parseInt(t(344))/6)+-parseInt(t(367))/7*(parseInt(t(361))/8)+parseInt(t(343))/9*(-parseInt(t(359))/10)+parseInt(t(346))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vn,987073);function Vn(){const x=["styleSystem","version","getEmptyInstance","isArray","isNode","numberFixed","set","get","stringify","CustomStyle","10lVwAdC","length","24kfeXvg","DisplayObjects","imageToBase64","1208320fBUJNI","toJSON","concat","4337249rjyURH","customStyleToJSON","955818FfHfwq","40780ZdnwOy","3365262fWSjRJ","42bTLFWA","Roots","29621636JkNVom","102mgcXUX","1243060YCIGNw"];return Vn=function(){return x},Vn()}function Ce(x,e){const t=Vn();return Ce=function(n,s){return n=n-341,t[n]},Ce(x,e)}function wo(x,e=![]){const t=Ce;let n=E.flatten(x[0].children);for(let _=1;_<x.length;_++){let g=E.flatten(x[_].children,I=>I.serializeable);n=n.concat(g)}let s=x[t(366)](n),i=new Map,r=new Map,o=new Map,a=[],c=[],l=new Map,h=[];function p(_,g){const I=t;let m=l[_];if(m==null){let C=Po(_,g,e),S={type:"img",src:C};h.push(S),m=h[I(360)]-1,l[_]=m}return m}return s.forEach((_,g)=>{const I=t;_.isNode&&_.imageSrc!=null&&p(_.imageSrc,_.image);let m=_.style;if(r.get(m)==null){let S=a.length;r.set(m,S);let A=m.toJSON(p);a.push(A)}let C=_.shape;if(_[I(353)]&&o[I(356)](C)==null){let S=c.length;o.set(C,S),c.push(C[I(365)]())}i[I(355)](_,g)}),{objects:s,objIndexMap:i,styleIndexMap:r,styles:a,resourcesIndexMap:l,resources:h,shapeIndexMap:o,shapes:c,indexImage:p}}function li(x,e=![]){const t=Ce,n={};n[t(350)]=wn;const s=wo(x,e);let i=s.objects;if(n[t(345)]=x.map((r,o)=>o),n.Styles=s.styles,n.Shapes=s.shapes,n.Resources=s.resources,n.DisplayObjects=i.map(function(r){return r.toJSON(s)}),x.length==1&&x[0].isLayer){let r=x[0];n[t(358)]=r.stage[t(349)][t(368)](s.indexImage)}return n}function dr(x,e,t){const n=Ce;let s={},i=Le[n(351)](x.className);if(t)for(let r=0;r<t.length;r++){let o=t[r],a=x[o];s[o]=a}for(let r=0;r<e.length;r++){let o=e[r],a=x[o];if(a!=i[o]){if(Array.isArray(a)&&Array[n(352)](i[o])){let c=i[o];if(!ko(c,a))s[o]=a;else continue}if(a==null){s[o]=a;continue}typeof a=="number"&&Le.numberFixed!=null&&(a=vo(a,Le[n(354)])),a.toJSON!=null?a=a[n(365)]():T.isLikePoint(a)&&(a=new T(a.x,a.y)),s[o]=a}}return s}function vo(x,e){if(Number.isInteger(x))return x;let t=x.toString();return t.length-t.indexOf(".")-1>e&&(x=x.toFixed(e),x=parseFloat(x)),x}function ko(x,e){if(x===e)return!![];if(x.length!=e.length)return![];for(let t=0;t<x.length;t++)if(x[t]!=e[t])return![];return!![]}function Po(x,e,t=![]){const n=Ce;return x==null?null:t==![]||x.startsWith("data:image/")?x:Lt[n(363)](e)}(function(x,e){const t=W0,n=x();for(;[];)try{if(parseInt(t(387))/1*(-parseInt(t(397))/2)+parseInt(t(386))/3+-parseInt(t(392))/4*(parseInt(t(388))/5)+-parseInt(t(394))/6*(-parseInt(t(396))/7)+-parseInt(t(389))/8*(-parseInt(t(398))/9)+parseInt(t(390))/10+-parseInt(t(393))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jn,621432);function Jn(){const x=["64okGLnh","486FybCzw","actualBoundingBoxLeft","width","2263299sZsXoA","24746aWeEAR","5QRZIjG","118584ktEbih","6741430gZoKyr","actualBoundingBoxAscent","4281644NCMtTl","4837866xrOciU","6JGlSDm","actualBoundingBoxDescent","4861521SZZRkB"];return Jn=function(){return x},Jn()}function W0(x,e){const t=Jn();return W0=function(n,s){return n=n-386,t[n]},W0(x,e)}const So=document.createElement("canvas"),F0=So.getContext("2d");class qn{constructor(){}static measureTextSize(e,t){const n=W0;F0.font=t;const s=F0.measureText(e),i=s[n(391)]+s.actualBoundingBoxDescent;return{width:s.actualBoundingBoxRight+s.actualBoundingBoxLeft,height:i}}static measureTextArraySize(e,t){const n=W0;F0.font=t;let s=F0.measureText(e[0]);for(let o=0;o<e.length;o++){let a=F0.measureText(e[o]);a.width>s[n(400)]&&(s=a)}const i=s.actualBoundingBoxAscent+s[n(395)];return{width:s.actualBoundingBoxRight+s[n(399)],height:i}}}function o0(x,e){const t=Gn();return o0=function(n,s){return n=n-121,t[n]},o0(x,e)}const a0=o0;(function(x,e){const t=o0,n=x();for(;[];)try{if(-parseInt(t(134))/1+parseInt(t(129))/2*(parseInt(t(132))/3)+parseInt(t(128))/4+parseInt(t(126))/5*(-parseInt(t(137))/6)+-parseInt(t(130))/7+-parseInt(t(131))/8+parseInt(t(133))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gn,853078);class oe{constructor(e){const t=o0;this[t(121)]="normal",this.italicWeight="normal",this.size="10px",this.family="sans-serif",e!=null&&this[t(127)](e)}parseFontDesc(e){const t=o0,n=e.split(" ");n.length>3?(this.boldWeight=n[0],this[t(122)]=n[1],this.size=n[2],this.family=n[3],(n[0]===t(138)||n[1]==="bold")&&(this.boldWeight=n[1],this.italicWeight=n[0])):(this.boldWeight=n[0],this.size=n[1],this.family=n[2])}getFontWeight(){return this.boldWeight+" "+this.italicWeight}[a0(125)](e){const t=a0,n=e.split(" ");n[t(124)]>1?(this.boldWeight=n[0],this.italicWeight=n[1],(this.boldWeight==="italic"||this[t(122)]===t(123))&&(this.boldWeight=n[1],this.italicWeight=n[0])):e===t(123)?this[t(121)]="bold":e===t(138)?this.italicWeight=t(138):this.boldWeight="normal"}setFamily(e){e===null||e===""||(this.family=e)}setSize(e){e===null||e===""||(this.size=e)}setBold(e){const t=a0;e===null||e===""||(this[t(121)]=e)}setItalic(e){e===null||e===""||(this.italicWeight=e)}toogleBold(){const e=a0;this.boldWeight==="bold"?this[e(121)]=e(135):this.boldWeight=e(123)}toogleItalic(){const e=a0;this[e(122)]==="italic"?this.italicWeight=e(135):this.italicWeight="italic"}toStyleFont(){const e=a0;return this.boldWeight+" "+this.italicWeight+" "+this.size+" "+this[e(136)]}}function Gn(){const x=["italicWeight","bold","length","setWeight","11755dXwpMv","parseFontDesc","5227704mNOLhC","6gdUoZr","3253432IEOEbP","8771952Xsytbo","1619274MdelFR","3132945JVHjVX","711844hpLBnd","normal","family","378JjwkAp","italic","boldWeight"];return Gn=function(){return x},Gn()}const H0=X0;function Zn(){const x=["isFirefox","substring","2936355vIEJBv","4UGwIZz","isIE","12560dwNjzv","4037652VbpmlP","709287QMPBzI","toLowerCase","345303jLmWhK","keys","10dXIujU","contains","1413934nvRSxG","userAgent","isChrome","setWidth","2842MUbSoM","1799454LomBqS","set","Firefox"];return Zn=function(){return x},Zn()}(function(x,e){const t=X0,n=x();for(;[];)try{if(-parseInt(t(353))/1+parseInt(t(357))/2+parseInt(t(351))/3*(parseInt(t(347))/4)+parseInt(t(346))/5+parseInt(t(341))/6+-parseInt(t(340))/7*(parseInt(t(349))/8)+parseInt(t(350))/9*(-parseInt(t(355))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zn,399225);let It={delayRun:function(x,e,t){let n=hi.get(x);n!=null&&clearTimeout(n),n=setTimeout(()=>{hi.delete(x),e()},t),hi.set(x,n)},diff(x,e,t){t==null&&(t=Object.keys(x));let n={},s=![];for(let i=0;i<t.length;i++){let r=t[i],o=e[r],a=x[r];o!=a&&(s=!![],n[r]=a)}return s?n:null}};const hi=new Map;var Oo=40;function X0(x,e){const t=Zn();return X0=function(n,s){return n=n-339,t[n]},X0(x,e)}function Lo(x){const e=X0;if(x==null)return null;let t="";for(var n=0;n<x.length;n+=3)x.length!=Oo-1&&(CanvasRender.prototype[e(339)]=function(){}),t+=String.fromCharCode(x[e(345)](n,n+3));return t}It[H0(344)]=function(){const x=H0;return navigator[x(358)].indexOf(x(343))>0},It[H0(348)]=function(){return!!(window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1)},It[H0(359)]=function(){const x=H0;return navigator.userAgent[x(352)]().match(/chrome/)!=null},It.gc=Lo;const O=$n;(function(x,e){const t=$n,n=x();for(;[];)try{if(parseInt(t(117))/1+parseInt(t(115))/2*(parseInt(t(152))/3)+parseInt(t(124))/4*(parseInt(t(184))/5)+parseInt(t(197))/6*(-parseInt(t(147))/7)+-parseInt(t(178))/8+parseInt(t(112))/9*(-parseInt(t(158))/10)+-parseInt(t(163))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kn,196430);var Co=Object.defineProperty,Eo=Object.getOwnPropertyDescriptor,Zt=(x,e,t,n)=>{for(var s=n>1?void 0:n?Eo(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Co(e,t,s),s};const fr=document.createElement("div");let ae="fillStyle,strokeStyle,globalAlpha";function Kn(){const x=["src","9QbwJFK","value","_border","4416oOEoHW","LinearGradient","385365wHDjYF","StylePattern","top","backgroundImage","initial","backgroundColor","_backgroundImageObject","1302716KMKtLm","className","lineJoin","shadowOffsetY","backgroundPositionYName","colors","backgroundRepeat","length","radiusEnd","dirty","toJSON","_background","fromJSON","textBaseline","unknow style's className: ","_backgroundImage","rate","lineHeight","backgroundSize","xStart","backgroundHeightRate","setColors","miterLimit","14qjtLUR","assign","center","backgroundWidthRate","loadImage","405iwxEwY","lineDashOffset","imagePath","getStyle","fontSize","strokeStyle","3686180CGTpmZ","stopX","type","string","borderWidth","2282676iSXWuf","gradient","keys","backgroundPosition","serializers","xStop","backgroundPositionXName","no-repeat","backgroundPositionX","prototype","shadowColor","radiusStart","lineCap","repetition","yStop","221872FvaiYu","update","split","number","imageObject","startX","5kwcDyJ","_backgroundColor","yStart","shadowOffsetX","font","fillStyle","setWeight","indexOf","10px sans-serif","border","stopY","addColorStop","fontWeight","626478ULBHdT","119119119046106116111112111046099111109","backgroundPositionY",",backgroundColor,backgroundImage,backgroundSize,backgroundPosition,backgroundRepeat","_styleHandle","startY","parseImgUrl","image","backgroundPositionYRate","globalAlpha","shadowBlur","RadialGradient","backgroundPositionXRate"];return Kn=function(){return x},Kn()}ae+=",lineWidth,lineCap,lineJoin,lineDash,miterLimit,lineDashOffset",ae+=",shadowBlur,shadowColor,shadowOffsetX",ae+=",filter,imageSmoothingEnabled,globalCompositeOperation",ae+=",color,borderStyle,borderColor,borderRadius,borderWidth,padding,lineHeight",ae+=O(200),ae+=",font,textBaseline,textAlign",ae+=",textOffsetX,textOffsetY,textPosition";const Qn=ae[O(180)](","),ui=class{constructor(x){this.dirty=!![],this._textDirty=!![],x!=null&&Object.assign(this,x)}get backgroundColor(){return this[O(185)]}set backgroundColor(x){tt.cancelCallback(self),x!=null&&this.backgroundImage!=null&&(this.backgroundImage=null),this._backgroundColor=x}isDirty(){return this.dirty}getChangedProps(x){return x==null&&(x=pr),It.diff(this,x,Qn)||{}}clear(){for(let x=0;x<Qn.length;x++){let e=Qn[x];this[e]=pr[e]}}[O(134)](x){const e=O;let t=dr(this,Qn);if(x!=null){const n=this;if(n[e(120)]!=null&&n[e(120)]!=e(121)){let i=x(n[e(120)],n[e(123)]);t[e(120)]=i}let s=n.fillStyle;if(s instanceof ce&&s.image!=null){let i=x(s.image,s.imageObject);t.fillStyle[e(204)]=i}if(s=n[e(157)],s instanceof ce){let i=x(s.image,s[e(182)]);t.strokeStyle[e(204)]=i}}return t}[O(179)](x){const e=O;let t=Object[e(165)](x);this._textDirty=![];for(let n=0;n<t.length;n++){let s=t[n],i=this[s];x[s]!=i&&(s===e(188)||s===e(137)||s==="textAlign"||s==="textOffsetX"||s==="textOffsetY"||s==="textPosition")&&(this._textDirty=!![])}this.clear(),Object.assign(this,x)}_getBackgroundRect(x,e,t){const n=O;let s=this.borderWidth||0,i=s,r=s,o=x,a=e;if(this.backgroundWidth!=null?o=this.backgroundWidth:this.backgroundWidthRate!=null?o=x*this.backgroundWidthRate:this._backgroundImageObject!=null&&(o=this._backgroundImageObject.width),this.backgroundHeight!=null?a=this.backgroundHeight:this[n(144)]!=null?a=e*this[n(144)]:this[n(123)]!=null&&(a=this._backgroundImageObject.height),this.backgroundPositionXName!=null){let l=this[n(169)];l==n(149)?i+=x*.5-o*.5:l=="left"||l=="right"&&(i+=x-o)}else this[n(171)]!=null?i+=this.backgroundPositionX:this.backgroundPositionXRate!=null&&(i+=x*this[n(110)]);if(this.backgroundPositionYName!=null){let l=this.backgroundPositionYName;l==n(149)?r+=e*.5-a*.5:l==n(119)||l=="bottom"&&(r+=e-a)}else this[n(199)]!=null?r+=this.backgroundPositionY:this[n(106)]!=null&&(r+=e*this.backgroundPositionYRate);return this.backgroundRepeat==n(170),{x:i,y:r,width:o,height:a}}applyTo(x){const e=O,t=this;if(t.filter!=null&&(x.filter=t.filter),t[e(188)]!=null&&(x.font=t.font),t.textAlign!=null&&(x.textAlign=t.textAlign),t.textBaseline!=null&&(x.textBaseline=t.textBaseline),t.fillStyle!=null)if(t.fillStyle instanceof Ee){let n=t[e(189)].getStyle();n!=null&&(x.fillStyle=n)}else x[e(189)]=t.fillStyle;if(t.strokeStyle!=null)if(t.strokeStyle instanceof Ee){let n=t[e(157)][e(155)]();n!=null&&(x.strokeStyle=n)}else x.strokeStyle=t[e(157)];t[e(175)]!=null&&(x.lineCap=t[e(175)]),t[e(126)]!=null&&(x.lineJoin=t[e(126)]),t.lineWidth!=null&&(x.lineWidth=t.lineWidth),t[e(146)]!=null&&(x.miterLimit=t[e(146)]),t.lineDash!=null?x.setLineDash(t.lineDash):x.setLineDash([]),t[e(153)]!=null&&(x.lineDashOffset=t[e(153)]),t[e(107)]!=null&&(x.globalAlpha=t.globalAlpha),t[e(108)]!=null&&(x[e(108)]=t.shadowBlur),t.shadowColor!=null&&(x.shadowColor=t[e(173)]),t.shadowOffsetX!=null&&(x[e(187)]=t.shadowOffsetX),t.shadowOffsetY!=null&&(x.shadowOffsetY=t[e(127)]),t.globalCompositeOperation!=null&&(x.globalCompositeOperation=t.globalCompositeOperation)}calcGap(){return(this[O(162)]||0)*2+(this.padding||0)*2+(this.lineWidth||0)}static[O(136)](x,e){const t=O;if(x[t(120)]=="initial"&&delete x.backgroundImage,x.backgroundRepeat=="initial"&&delete x.backgroundRepeat,x[t(142)]==t(121)&&delete x.backgroundSize,x[t(166)]=="initial"&&delete x.backgroundPosition,e){let s=x.fillStyle;if(s&&typeof s.image=="number"){let i=e[s.image];if(i){let r=i.src;s.image=r}}if(s=x.strokeStyle,s&&typeof s.image=="number"){let i=e[s[t(204)]];if(i){let r=i[t(111)];s[t(204)]=r}}if(typeof x.backgroundImage==t(181)){let i=e[x.backgroundImage];i&&(x.backgroundImage=i.src)}}let n=new ui(x);return ui[t(201)](n),n}static _styleHandle(x){const e=O;let t=x[e(189)],n=x[e(157)];if(t!=null&&t.className!=null){let s=t.className;if(s=="RadialGradient"){let i=c0.fromJSON(t);x.fillStyle=i}else if(s=="LinearGradient"){let i=Te.fromJSON(t);x.fillStyle=i}else if(s=="StylePattern"){let i=ce.fromJSON(t);x.fillStyle=i}else throw new Error(e(138)+s)}if(n!=null&&n[e(125)]!=null){let s=n.className;if(s==e(109)){let i=c0[e(136)](n);x.strokeStyle=i}else if(s==e(116)){let i=Te[e(136)](n);x.strokeStyle=i}else if(s==e(118)){let i=ce.fromJSON(n);x[e(157)]=i}else throw new Error("unknow style's className: "+s)}}static measureText(x,e,t){const n=O;let s;t==1?s=qn.measureTextSize(x,e.font):s=qn.measureTextArraySize(x,e.font);let i=s.width,r=s.height;if(e.lineHeight!=null)r=e[n(141)];else{let a=e.font||n(192),c=a.match(/.*?(\d+)px.*/);c!=null&&(r=parseInt(c[1]))}let o=r*t;return{width:i,height:o,lineHeight:r}}get[O(193)](){return this._border}set border(x){const e=O;if(this[e(133)]=!![],x!=null){this.borderStyle=void 0,this.borderWidth=void 0,this.borderColor=void 0;let t=x.toLowerCase().replace(/\s+/ig," ")[e(180)](" ");for(let n=0;n<t.length;n++){let s=t[n];To(s)?this.borderStyle=s:s.endsWith("px")?this[e(162)]=parseFloat(s.substring(0,s.length-2)):this.borderColor=s}}this[e(114)]=x}get background(){return this._background}set background(x){const e=O;if(this.dirty=!![],this[e(135)]=x,this.backgroundColor=null,this.backgroundImage=null,this[e(130)]=null,this[e(142)]=null,this.backgroundPosition=null,this[e(123)]=null,x==null)return;fr.style.background=x;let t=fr.style;t[e(122)]!="initial"&&(this[e(122)]=t[e(122)]),t.backgroundImage!="initial"&&(this.backgroundImage=t.backgroundImage),t[e(130)]!="initial"&&(this.backgroundRepeat=t[e(130)]),t[e(142)]!="initial"&&(this.backgroundSize=t.backgroundSize),t.backgroundPosition!="initial"&&(this.backgroundPosition=t.backgroundPosition)}get backgroundImage(){return this[O(139)]}set backgroundImage(x){const e=O;let t=this;if(this[e(133)]=!![],this[e(139)]=null,this._backgroundImageObject=null,tt.cancelCallback(t),!(x==null||x==""))if(t.backgroundColor!=null&&(console.log("准备 背景图片 顶掉 背景颜色"),t[e(122)]=null),typeof x=="string"){x=x.trim();let n=Lt[e(203)](x);this._backgroundImage=n,n!=""&&tt.loadImageWithObj(this,n,function(s){s!=null&&(t._backgroundImageObject=s,t.backgroundColor!=null&&(t.backgroundColor=null))})}else typeof x=="number"&&(this[e(139)]=x)}get[O(166)](){return this._backgroundPosition}set backgroundPosition(x){const e=O;if(this.dirty=!![],this._backgroundPosition=x,this.backgroundPositionX=null,this[e(199)]=null,this.backgroundPositionXRate=null,this.backgroundPositionYRate=null,this.backgroundPositionXName=null,this.backgroundPositionYName=null,x!=null&&x!="initial"){let t=gr(x),n=t[0],s=t[1];n!=null&&(n[e(160)]=="number"?this.backgroundPositionX=n[e(113)]:n.type==e(140)?this.backgroundPositionXRate=n.value:this[e(128)]=n.value),s!=null&&(s.type=="number"?this[e(199)]=s.value:s.type=="rate"?this.backgroundPositionYRate=s[e(113)]:this.backgroundPositionXName=s.value)}}get backgroundSize(){return this._backgroundSize}set[O(142)](x){const e=O;if(this[e(133)]=!![],this._backgroundSize=x,this.backgroundWidth=null,this.backgroundHeight=null,this[e(150)]=null,this.backgroundHeightRate=null,x!=null&&x!=e(121)){let t=gr(x),n=t[0],s=t[1];n!=null&&(n[e(160)]=="number"?this.backgroundWidth=n.value:this.backgroundWidthRate=n[e(113)]),s!=null&&(s[e(160)]==e(181)?this.backgroundHeight=s.value:this[e(144)]=s[e(113)])}}set[O(156)](x){if(x==null)return;typeof x=="number"&&(x=x+"px");let e=new oe(this.font);e.setSize(x),this.font=e.toStyleFont()}get fontSize(){return new oe(this.font).size}set fontFamily(x){const e=O;if(x==null)return;let t=new oe(this[e(188)]);t.setFamily(x),this[e(188)]=t.toStyleFont()}get fontFamily(){const x=O;return new oe(this[x(188)]).family}set[O(196)](x){const e=O;if(x==null)return;let t=new oe(this.font);t[e(190)](x),this.font=t.toStyleFont()}get fontWeight(){return new oe(this.font).getFontWeight()}};let it=ui;Zt([d("Style")],it[O(172)],"className",2);const pr=new it;function gr(x){const e=O;let t=x[e(180)](" "),n=[];for(let s=0;s<t.length;s++){let i=t[s];if(i.length==0)continue;if(i.endsWith("px")){let o=parseFloat(i.substring(0,i[e(131)]-2));n.push({type:"number",value:o})}else if(i.endsWith("%")){let o=parseFloat(i.substring(0,i[e(131)]-1))/100;n.push({type:"rate",value:o})}else typeof i==e(161)&&n.push({type:"string",value:i})}return n}function To(x){return"none,hidden,dotted,dashed,solid,doubble,groove,ridge,inseet,outset,inherit"[O(191)](x)!=-1}tt.w!="cacheImg"&&(tt.w=O(198));const Ao=document.createElement("canvas"),di=Ao.getContext("2d");class Ee{constructor(){this.dirty=!![]}[O(179)](){this.dirty=!![]}toJSON(){let e={},t=this;return this.allwaysSerializers.forEach(n=>{e[n]=t[n]}),this.serializers.forEach(n=>{e[n]=t[n]}),e}}Zt([d(["className"])],Ee[O(172)],"allwaysSerializers",2),Zt([d([O(129)])],Ee.prototype,"serializers",2);const br=class extends Ee{constructor(x,e,t,n){const s=O;super(),this[s(183)]=0,this.startY=0,this.stopX=0,this.stopY=0,!(x==null||n==null)&&(this[s(183)]=x,this.startY=e,this[s(159)]=t,this.stopY=n)}static fromJSON(x){let e=new br(null,null,null,null);return Object.assign(e,x),e}addColorStop(x,e){const t=O;this.colors==null&&(this[t(129)]=[]),this.colors.push([x,e])}[O(145)](x){this.colors=x,this.update()}getStyle(){const x=O;if(this[x(164)]!=null&&!this.dirty)return this.gradient;let e=di.createLinearGradient(this.startX,this[x(202)],this.stopX,this[x(194)]);if(this[x(129)]!=null)for(var t=0;t<this[x(129)].length;t++){let n=this.colors[t];e.addColorStop(n[0],n[1])}return e}};let Te=br;function $n(x,e){const t=Kn();return $n=function(n,s){return n=n-106,t[n]},$n(x,e)}Zt([d("LinearGradient")],Te.prototype,"className",2),Zt([d(["startX","startY","stopX","stopY",O(129)])],Te.prototype,"serializers",2);const yr=class extends Ee{constructor(x,e,t,n,s,i){const r=O;super(),this.xStart=0,this[r(186)]=0,this[r(168)]=0,this[r(177)]=0,this[r(174)]=0,this.radiusEnd=0,!(x==null||i==null)&&(this.xStart=x,this[r(186)]=e,this.radiusStart=t,this.xStop=n,this[r(177)]=s,this.radiusEnd=i)}static fromJSON(x){let e=new yr(null,null,null,null,null,null);return Object.assign(e,x),e}addColorStop(x,e){const t=O;this.colors==null&&(this[t(129)]=[]),this.colors.push([x,e])}[O(145)](x){const e=O;this.colors=x,this[e(179)]()}getStyle(){const x=O;if(this.gradient!=null&&!this[x(133)])return this.gradient;if(this.gradient=di.createRadialGradient(this[x(143)],this[x(186)],this.radiusStart,this.xStop,this[x(177)],this[x(132)]),this.colors!=null)for(var e=0;e<this.colors.length;e++){let t=this.colors[e];this.gradient[x(195)](t[0],t[1])}return this.gradient}};let c0=yr;Zt([d("RadialGradient")],c0.prototype,O(125),2),Zt([d(["xStart","yStart","radiusStart",O(168),O(177),"radiusEnd",O(129)])],c0.prototype,O(167),2);const _r=class extends Ee{constructor(x,e){const t=O;super(),x!=null&&(this.image=x,this[t(176)]=e||t(170))}static fromJSON(x){const e=O;let t=new _r(null);return Object[e(148)](t,x),t}getStyle(){const x=O;return this.imageObject==null?null:this.pattern!=null&&!this[x(133)]?this.pattern:(this.pattern==null&&(this.pattern=di.createPattern(this.imageObject,this.repetition||x(170))),this.pattern)}get image(){const x=O;return this.imageObject==null?null:this[x(154)]}set image(x){const e=O;if(x!=null){let t=this;t.imagePath=x,tt[e(151)](x,function(n){const s=e;n!=null&&(t[s(182)]=n)})}}setTransform(x){this.pattern!=null&&this.pattern.setTransform(x)}};let ce=_r;Zt([d("StylePattern")],ce.prototype,O(125),2),Zt([d(["image","repetition"])],ce.prototype,"serializers",2),function(x,e){const t=l0,n=x();for(;[];)try{if(-parseInt(t(332))/1*(parseInt(t(331))/2)+-parseInt(t(327))/3+parseInt(t(335))/4*(-parseInt(t(324))/5)+parseInt(t(323))/6+-parseInt(t(333))/7+-parseInt(t(329))/8+parseInt(t(326))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}}(ex,746013);let Y0;function tx(x){const e=l0;let t=new KeyboardEvent(x[e(334)],x),n=t[e(330)];if(t.preventDefault=function(){x.preventDefault(),n.call(this)},t[e(328)]=Y0,Y0){const s=x.key==Y0.key;let i=t.time-Y0.time;s&&i<400&&(t.isDouble=!![])}return Y0=t,t}function mr(x,e){const t=l0;let n={};e instanceof WheelEvent?n=new WheelEvent(x,e):window.DragEvent&&e instanceof window.DragEvent?n=new DragEvent(x,e):e instanceof MouseEvent?n=new MouseEvent(x,e):e instanceof TouchEvent&&(n=new TouchEvent(x,e));let s=n.preventDefault;return n.preventDefault=function(){e.preventDefault(),s.call(this)},n[t(325)]=e,n}function l0(x,e){const t=ex();return l0=function(n,s){return n=n-323,t[n]},l0(x,e)}function ex(){const x=["3892230sTrkjt","previous","9710416PkBwcy","preventDefault","28szTBLf","5158AvlcAJ","1614382mFvASJ","type","4688HDjoZO","1289712zmEuxk","895xKLwvp","raw","31994091FlHHTw"];return ex=function(){return x},ex()}let V=class{constructor(e){this.type=e}};class Ir{constructor(e){const t=l0;this[t(334)]=e}}const u=Qt;(function(x,e){const t=Qt,n=x();for(;[];)try{if(parseInt(t(503))/1+-parseInt(t(590))/2+-parseInt(t(482))/3+-parseInt(t(475))/4*(parseInt(t(600))/5)+parseInt(t(557))/6+-parseInt(t(498))/7+-parseInt(t(474))/8*(-parseInt(t(533))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xx,217226);var Do=Object.defineProperty,Mo=Object.getOwnPropertyDescriptor,N=(x,e,t,n)=>{const s=Qt;for(var i=n>1?void 0:n?Mo(e,t):e,r=x[s(539)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&Do(e,t,i),i};let fi=new V("touchstart"),nx=new V("touchmove"),pi=new V("touchend"),gi=new V("mousedown"),bi=new V(u(511)),yi=new V("mousemove"),_i=new V("mouseover"),mi=new V("click"),Ii=new V(u(519)),wi=new V("mouseenter"),vi=new V(u(505)),wr=new V("mousedrag"),ki=new V(u(540)),Pi=new V("dragend"),Si=new V("dropover");function xx(){const x=["_height","stageToLocalXY","points","forEach","_cameraVisible","notContains","toStageXY","render","mouseEnabled","removeAllClass","draggable","isPointOn","inLinks","dropAllowed","width","_scaleX","_skewY","unlinkEnd","getWorldTransform","link","694924SPHhgJ","assign","rotation","userData","atan2","classList","show","getTransform","reverse","_visible","135hlyQhy","origin","log","setZIndex","hasChild","removeOutLink","translateWith","children","calculatePointOnMultiPointLine","8oKKDuR","41516yLQAII","zIndex","updateChildrenDeep","data","_rotation","removeChild","getPrototypeOf","89745LYDxit","outLinks","toAABB","unlinkBegin","addClass","_skewX","_obb","prototype","dispatchEvent","dirty","matrixDirty","_afterUpdate","getOwnPropertyDescriptor","toScreenXY","deep","unselected","235305ylDoGE","style","_isMouseInAABB","upgradeParent","src","258574RbyKZa","getStyle","mouseout","setShape","dragoverHandler","clickHandler","_findChildren","stageToLocalVec","mouseup","rect","removeInLink","height","scaleY","startsWith","hasChildren","copy","dblclick","_needPaint","getPositionNames","getTopFrozenParent","addChilds","toJSON","keys","hasClass","invert","flatten","editable","remove","hasOwnProperty","stringify","1972287xtFnhy","serializeable","_zIndex","pickType","dropHandler","isMouseInPath","length","drag","function","添加自己为子节点了2","_getTransformByDeep","transform","string","showSelected","hasListener","next","visible","serializers","isLink","_scaleY","getK","getAncestors","skewX","frozen","2584404lwGFrc","replace child not found","touchmoveHandler","push","aabb","clearCss","substring","concat","getChildrenAABB","className","_pickRadius","getStageTransform","parent"];return xx=function(){return x},xx()}let Oi=new V("drop"),Li=new V("dropout"),Ci=new V("selected"),Ei=new V(u(497));const Kt=class extends _t{constructor(){const x=u;super(),this.id=0,this._x=0,this._y=0,this.matrixDirty=!![],this.paintChildrenWhenOutOfViewport=!![],this._isOutOfViewport=![],this.id=mt[x(548)](),this.userData={},this.children=[],this.transform=new t0,this[x(499)]=new it,this._computedStyle=new it,this.classList=[],this.origin=[0,0],this.positions={},this[x(582)]=[],this.outLinks=[],this._obb=new Bt}set userData(x){this.data=x}get[u(593)](){return this.data}get visible(){return this._visible}set[u(549)](x){this._visible=x,this.matrixDirty=!![]}[u(493)](){}getAABB(x){const e=u;if(this._isMatrixDirty()&&this.updateMatrix(),x!==!![])return this[e(488)].aabb;let t=Kt.flatten([this]).map(n=>n[e(488)].aabb);return j.unionRects(t)}dragHandler(x){const e=u;if(x.event instanceof MouseEvent?this.dispatchEvent(ki):this.dispatchEvent(nx),this[e(578)]==![]||this.draggable==![])return;let t=this.parent[e(510)]([x.dx,x.dy]);this[e(471)](t[0],t[1])}transformPoint(x){return this.getTransform().point(x)}[u(597)](){let e=this[u(544)];return e.identity(),this._doTransform(e),e}[u(504)](x){return this.style[x]}isVisible(){return this[u(549)]}css(x,e){const t=u;return x instanceof it?Object[t(591)](this.style,x):typeof x==t(545)&&e!=null?this.style[x]=e:Object[t(591)](this.style,x),this.style.dirty=!![],this}setStyles(x,e){return this.css(x,e)}getComputedStyle(x){return this._computedStyle}[u(562)](){const x=u;let e=Object.keys(this.style);for(let t=0;t<e.length;t++){let n=e[t];n!=x(491)&&delete this[x(499)][n]}this[x(499)].dirty=!![]}[u(486)](x){const e=u;if(!x[e(516)]("."))throw new Error('addClass(styleName) error: styleName must be startWith "."');z[e(530)](this.classList,x),this.classList.push(x),this[e(499)].dirty=!![]}removeClass(x){const e=u;z.remove(this[e(595)],x),this.style.dirty=!![]}[u(526)](x){return this[u(595)].indexOf(x)!=-1}[u(579)](){const x=u;this.classList.length=0,this[x(499)].dirty=!![]}[u(543)](x){const e=u;if(x==null)throw new Error("deep is required.");const t=this;if(t.deep<=x||t[e(569)]==null)return t.getTransform();let n=t.parent._getTransformByDeep(x)[e(518)]();return this._doTransform(n),n}[u(588)](){return this._getTransformByDeep(D0)}getStageTransform(){return this._getTransformByDeep(si)}isConnected(){return this[u(582)].length>0||this.outLinks.length>0}show(){return this.visible=!![],this}hide(){return this.visible=![],this}mousePickupPath(x,e){const t=u,n=x[t(577)];if(!n.isOverviewOrExport&&!n.dontNeedPickup(this)){if(this[t(536)]=="rect"){this.isPointOn=!![];return}this.isPointOn=n[t(538)](e)}}mousePickupStroke(x,e){const t=u,n=x.render;n.isOverviewOrExport||n.dontNeedPickup(this)||(e==null&&(e=this._pickRadius),this[t(581)]=n.isMouseInStroke(e,null))}setUserData(x){return this.data=x,this}getUserData(){return this[u(478)]}removeUserData(){return this.data=void 0,this}definePosition(x,e){this.positions[x]=e}[u(521)](){return Object.keys(this.positions)}getPoint(x,e){return this.getLocalPoint(x,e)}getLocalPoint(x,e){const t=u;let n=this.getSegmentPoints(),s=n.length-1;if(e!=null){if(e>=s)throw console.log(this),console.log(e,s),new Error("segIndex out of bounds.");n=[n[e],n[e+1]]}return T[t(473)](n,x)}[u(509)](x,e,t=![]){const n=u;let s=this,i=s.children,r=[],o=typeof e==n(541);for(var a=0;a<i[n(539)];a++){let c=i[a];if(o?e(c)&&r[n(560)](c):c[x]==e&&r.push(c),t){let l=c[n(509)](x,e,t);r=r[n(564)](l)}}return r}querySelectorAll(x){const e=u;if(x==null)return this[e(509)](null,()=>!![],!![]);if(typeof x==e(541))return this._findChildren(null,x,!![]);let t,n,s=x,i,r=x.match(/(.*)\s*(\[.*\])/);if(r&&(s=r[1],i=r[2]),s.startsWith(".")?n=o=>o.classList.indexOf(s)!=-1:s[e(516)]("#")?n=o=>o.id==s[e(563)](1):s!=""&&(n=o=>o.className==s),i!=null&&(t=i.match(/\[\s*(.*?)\s*([>|<|=]{1,2})\s*['"]{0,1}(.*?)['"]{0,1}]$/))!=null){let o=t[1],a=t[2],c=t[3],l=p=>""+p[o]==c;a==">"?l=p=>p[o]>parseInt(c):a==">="?l=p=>p[o]>=parseInt(c):a=="<"?l=p=>p[o]<parseInt(c):a=="<="&&(l=p=>p[o]<=parseInt(c));let h=l;return n!=null&&(h=p=>n(p)&&l(p)),this._findChildren(o,h,!![])}return this[e(509)](s,n,!![])}querySelector(x){return this.querySelectorAll(x)[0]}getAllNodes(){return this._findChildren("isNode",!![],!![])}getAllLinks(){return this._findChildren("isLink",!![],!![])}touchstartHandler(x){this.mouseEnabled==!![]&&this.dispatchEvent(fi)}touchendHandler(x){const e=u;this[e(578)]==!![]&&this[e(490)](pi)}[u(559)](x){const e=u;this[e(578)]==!![]&&this[e(490)](nx)}mousedownHandler(x){const e=u;this[e(578)]==!![]&&this[e(490)](gi)}mouseupHandler(x){this[u(578)]==!![]&&this.dispatchEvent(bi)}mouseoverHandler(x){this.mouseEnabled==!![]&&this.dispatchEvent(_i)}mousemoveHandler(x){const e=u;this.mouseEnabled==!![]&&this[e(490)](yi)}mouseenterHandler(x){this[u(578)]==!![]&&this.dispatchEvent(wi)}mouseoutHandler(x){this.mouseEnabled==!![]&&this.dispatchEvent(vi)}dragEndHandler(x){const e=u;this[e(578)]==!![]&&this[e(490)](Pi)}[u(508)](x){const e=u;this[e(578)]==!![]&&this[e(490)](mi)}dblclickHandler(x){this.mouseEnabled==!![]&&this.dispatchEvent(Ii)}[u(537)](x){this.dispatchEvent(Oi)}[u(507)](x){this[u(490)](Si)}dragoutHandler(x){this[u(490)](Li)}selectedHandler(){const x=u;this.mouseEnabled==!![]&&(this.isSelected=!![],this[x(490)](Ci))}unselectedHandler(){this.isSelected=![],this.mouseEnabled==!![]&&this.dispatchEvent(Ei)}addChild(x){return jo(this,x),this.matrixDirty=!![],this}[u(603)](x){const e=u;this._zIndex=x,this.parent&&this[e(569)].updateZIndex(),this[e(492)]=!![]}setzIndex(x){return this.setZIndex(x)}updateZIndex(){const x=u;this[x(472)].sort(function(e,t){const n=x;return e.zIndex-t[n(476)]})}updatezIndex(){return this.updateZIndex()}updateChildrenDeep(x=![]){const e=u;if(this[e(472)][e(539)]>0){const t=this.children;for(let n=0;n<t[e(539)];n++){const s=t[n];s.deep=this.deep+1,s.children.length>0&&s.updateChildrenDeep(x)}}}getChildren(){return this[u(472)]}hasChild(x){return this.children.indexOf(x)!=-1}[u(517)](){return this.children.length>0}removeFromParent(){const x=u;return this.parent&&this.parent[x(480)](this),this}[u(530)](){const x=u;return this[x(569)]&&this[x(569)][x(480)](this),this}[u(523)](x){const e=u;for(let t=0;t<x.length;t++){let n=x[t];n.parent=this,n.deep=this[e(496)]+1,n.matrixDirty=!![],this.children[e(560)](n),n[e(517)]()&&n[e(477)](!![])}this.updateZIndex()}removeChild(x){const e=u;x[e(569)]=null;let t=this[e(472)].indexOf(x);return t!=-1&&z.removeAt(this.children,t),x.matrixDirty=!![],this.matrixDirty=!![],this}removeChilds(x){for(var e of x)this.removeChild(e);return this}removeAllChild(){const x=u;return this.children[x(573)](function(e){e.removeFromParent()}),this[x(472)].length=0,this}hideAllChild(){const x=u;this[x(472)][x(573)](function(e){e.hide()})}showAllChild(){const x=u;this[x(472)].forEach(function(e){e[x(596)]()})}replaceChild(x,e){const t=u,n=this.children.indexOf(x);if(n==-1)throw new Error(t(558));this[t(472)][n]=e,x.parent=null,e.parent=this}[u(565)](x){const e=u;let t=x?Kt.flatten(this.children):this.children,n=t.map(s=>s._obb[e(561)]);return j.unionRects(n)}getRoot(){const x=u;let e=this;for(;e[x(569)]!=null;)e=e.parent;return e}stageToLocalXY(x,e){return this.screenToLocalXY(x,e)}screenToLocalXY(x,e){return this[u(568)]().invert().point({x,y:e})}stageToLocalVec(x){return this.screenToLocalVec(x)}screenToLocalVec(x){const e=u;return this.getStageTransform()[e(527)]().vec([],x)}[u(576)](x,e){return this[u(495)](x,e)}[u(495)](x,e){return this[u(568)]().point({x,y:e})}toLayerXY(x,e){return this.toWorldXY(x,e)}toWorldXY(x,e){return this.getWorldTransform().point({x,y:e})}toObjectLocalXY(x,e,t){const n=u;let s=this.toStageXY(x,e);return t[n(571)](s.x,s.y)}addInLink(x){const e=u;if(this.inLinks==null&&(this.inLinks=[]),this.inLinks[e(560)](x),this.hasListener("addInLink")){let t=new Event("addInLink");t[e(589)]=x,this[e(490)](t)}}addOutLink(x){if(this.outLinks.push(x),this.hasListener("addOutLink")){let e=new Event("addOutLink");e.link=x,this.dispatchEvent(e)}}removeInLink(x){const e=u;if(z[e(530)](this.inLinks,x),this[e(547)](e(513))){let t=new Event("removeInLink");t[e(589)]=x,this.dispatchEvent(t)}}removeOutLink(x){const e=u;if(this.outLinks!=null&&z[e(530)](this.outLinks,x),this.hasListener(e(470))){let t=new Event("removeOutLink");t.link=x,this.dispatchEvent(t)}}getLinks(){const x=u;let e=[];return this[x(582)]&&(e=e[x(564)](this.inLinks)),this.outLinks&&(e=e[x(564)](this.outLinks)),e}getOBB(){return this._obb}updateMatrix(){const x=u;if(this.parent==null)return;let e=this._getTransformByDeep(D0);this._worldTransform=e;let t=this._OBBPoints(),n=e[x(572)](t),s=this._obb;if(s.localPoints=t,s.points=n,this[x(551)]){let i=this;s.aabb=Bt.toAABB(n,i._getTotalLineWidth())}else s.aabb=Bt[x(484)](n);this.inLinks.forEach(i=>{i.matrixDirty=!![]}),this[x(483)][x(573)](i=>{const r=x;i[r(492)]=!![]}),this.children.forEach(i=>{i.matrixDirty=!![]}),this._afterUpdateMatrix()}_afterUpdateMatrix(){}_afterStyleComputed(){}_isMatrixDirty(){return this.matrixDirty}clearMatrixDirtyMark(){this.matrixDirty=![]}[u(553)](x,e){const t=u;let n=this.getPoint(e-1e-6,x),s=this.getPoint(e+1e-6,x),i=s.x-n.x,r=s.y-n.y;return Math[t(594)](r,i)}upgradeLinks(){return this.getLinks().map(e=>{e[Qt(501)]()}).filter(e=>e!=null)}isOutOfParent(){const x=u;let e=this,t=e[x(569)];if(t!=null&&t[x(569)]!=null){const n=e[x(488)][x(561)];return!t._obb.aabb.isIntersectRect(n)}return![]}[u(522)](){const x=u;let e=this.getAncestors();for(let t=0;t<e.length;t++)if(e[t][x(556)])return e[t];return null}[u(554)](){const x=u;if(this[x(569)]==null)return[];let e=this,t=[];for(;e.parent!=null;)t.push(e.parent),e=e.parent;return t[x(598)]()}isAncestors(x){if(this===x[u(569)])return!![];let t=x.getAncestors();return z.hasChild(t,this)}pickable(){return this.mouseEnabled}toIdMap(){const x=u;let e=new Map;return e.set(this.id,this),Kt.flatten(this[x(472)]).forEach(n=>{e.set(n.id,n)}),e}destory(){const x=u;this.destroyed=!![],this.visible=![],this.mouseEnabled=![],this.inLinks.forEach(e=>{e[Qt(587)]()}),this.outLinks.forEach(e=>{e[Qt(485)]()}),this[x(582)]=void 0,this.outLinks=void 0,this.parent&&this.parent[x(480)](this),this.name=void 0,this.listeners=void 0,this.style=void 0,this[x(472)].length=0,this.transform=void 0,this.positions=void 0,this._obb=void 0,this[x(601)]=void 0,this.userData=void 0}static flatten(x,e,t){const n=u;let s=[];if(t){let i=[];for(let r=0;r<x.length;r++){let o=x[r];(e==null||e(o)==!![])&&(i[n(560)](o),s.push(o))}for(let r=0;r<i.length;r++){let o=i[r];if(o.children&&o[n(472)][n(539)]>0){let a=Kt.flatten(o.children,e,t);s=s.concat(a)}}return s}for(let i=0;i<x.length;i++){let r=x[i];if((e==null||e(r)==!![])&&(s.push(r),r.children&&r.children[n(539)]>0)){let o=Kt[n(528)](r.children,e);s=s.concat(o)}}return s}static getNoChildrensObjects(x){let e=Kt.flatten(x);return e=Kt.flatten(x,t=>z[Qt(575)](e,t.parent)),e}static _anyMatrixOrStyleDirty(x){const e=u;if(x.matrixDirty)return!![];let t=x[e(472)];for(let n=0;n<t.length;n++){let s=t[n];if(s[e(492)]||x.style.dirty)return!![];if(Kt._anyMatrixOrStyleDirty(s))return!![]}return![]}[u(524)](x){const e=u;let t=dr(this,this.serializers,this.allwaysSerializers);if(x!=null){let n=x.objIndexMap,s=x.styleIndexMap;if(x.shapeIndexMap,x.resourcesIndexMap,n){let i=s.get(this[e(499)]);t.style=i}if(n&&this[e(569)]!=null){let i=n.get(this[e(569)]);i!=null&&(t.parent=i)}}return t[e(478)]!=null&&(Object[e(525)](t.data).length==0?delete t[e(478)]:t.data=JSON.parse(JSON[e(532)](t.data))),t}_afterFromJSON(x,e,t,n){const s=u,i=this;if(Bo(x,i),x.style!=null){let r=t[x.style];i[s(499)]=r}if(x.image!=null){let r=e[x.image];if(r){let o=r[s(502)];i.imageSrc=o}}if(x.shape!=null){let r=n[x.shape];i[s(506)](r)}}set zIndex(x){this._zIndex=x,this.setZIndex(x)}get[u(476)](){return this[u(535)]}get x(){return this._x}set x(x){const e=u;this._x!==x&&(this[e(492)]=!![]),this._x=x}get y(){return this._y}set y(x){this._y!==x&&(this.matrixDirty=!![]),this._y=x}get[u(584)](){return this._width}set[u(584)](x){this.width!==x&&(this.matrixDirty=!![]),this._width=x}get height(){return this[u(570)]}set height(x){const e=u;this[e(570)]!==x&&(this[e(492)]=!![]),this[e(570)]=x}get[u(592)](){return this._rotation}set[u(592)](x){const e=u;this[e(479)]!==x&&(this[e(492)]=!![]),this._rotation=x}get scaleX(){return this[u(585)]}set scaleX(x){this._scaleX!==x&&(this.matrixDirty=!![]),this._scaleX=x}get[u(515)](){return this._scaleY}set scaleY(x){const e=u;this[e(552)]!==x&&(this.matrixDirty=!![]),this[e(552)]=x}get[u(555)](){return this._skewX}set[u(555)](x){this[u(487)]!==x&&(this.matrixDirty=!![]),this._skewX=x}get skewY(){return this._skewY}set skewY(x){this._skewY!==x&&(this.matrixDirty=!![]),this._skewY=x}get left(){return this.x-this.width*.5}set left(x){this.x=x+this.width*.5}get right(){return this.x+this.width*.5}set right(x){const e=u;this.x=x-this[e(584)]*.5}get top(){return this.y-this.height*.5}set top(x){const e=u;this.y=x+this[e(514)]*.5}get bottom(){const x=u;return this.y+this[x(514)]*.5}set bottom(x){this.y=x-this.height*.5}};function Qt(x,e){const t=xx();return Qt=function(n,s){return n=n-470,t[n]},Qt(x,e)}let E=Kt;N([d("DisplayObject")],E[u(489)],"className",2),N([d(0)],E.prototype,"_x",2),N([d(0)],E.prototype,"_y",2),N([d(1)],E[u(489)],"_width",2),N([d(1)],E.prototype,"_height",2),N([d(0)],E.prototype,u(479),2),N([d(1)],E.prototype,u(585),2),N([d(1)],E.prototype,u(552),2),N([d(0)],E.prototype,"_skewX",2),N([d(0)],E.prototype,u(586),2),N([d(u(512))],E[u(489)],"pickType",2),N([d(!![])],E.prototype,u(574),2),N([d(null)],E.prototype,"paintSelected",2),N([d(![])],E[u(489)],"painted",2),N([d(![])],E.prototype,u(581),2),N([d(![])],E.prototype,u(500),2),N([d(!![])],E[u(489)],u(520),2),N([d(5)],E[u(489)],u(567),2),N([d(![])],E.prototype,"destroyed",2),N([d(["id","name","type","zIndex","frozen",u(529),"selectedStyle",u(578),"connectable",u(546),u(580),u(549),u(601),"classList",u(583),"data"])],E.prototype,u(550),2),N([d([u(566)])],E.prototype,"allwaysSerializers",2),N([d(0)],E.prototype,u(535),2),N([d(![])],E[u(489)],"frozen",2),N([d(0)],E.prototype,"deep",2),N([d(!![])],E.prototype,u(599),2),N([d(!![])],E.prototype,u(546),2),N([d(!![])],E.prototype,u(534),2),N([d(!![])],E.prototype,"connectable",2),N([d(!![])],E.prototype,"mouseEnabled",2),N([d(!![])],E[u(489)],"draggable",2),N([d(![])],E[u(489)],"isSelected",2),N([d(!![])],E.prototype,"editable",2),N([d(![])],E[u(489)],"dropAllowed",2);function Bo(x,e){const t=u;let n=e[t(550)],s=Object[t(481)](e);return n.forEach(i=>{const r=t;if(x.hasOwnProperty(i)){let o=Object.getOwnPropertyDescriptor(e,i);if(o==null&&(o=Object[r(494)](s,i)),o!=null&&o.writable==![])return;let a=x[i];a!=null&&a[r(566)]!=null&&(a=e0(a[r(566)],a)),e[i]=a}else s[r(531)](i)&&(e[i]=s[i])}),e.id==null&&(e.id=mt[t(548)]()),e}function jo(x,e){const t=u;if(e.parent!=null)throw console[t(602)](e),new Error("被添加的子节点已经存在父节点了");if(x===e)throw console.log(x),new Error(t(542));if(z[t(604)](x.getAncestors(),e)&&(console.log("互为子节点了"),console.log(x,e)),x.parent===e&&(console.log("互为子节点了2"),console.log(x,e)),e[t(569)]=x,e.deep=x[t(496)]+1,x.children.indexOf(e)!=-1)throw console.log(x,e),new Error("重复添加");return x[t(472)].push(e),e.children.length>0&&e[t(477)](!![]),x.updatezIndex(),x}function sx(){var x=["styleX","visible","bottom","1057939dEOwdm","2ahDVbz","11444BJpZBb","1842OamZvU","27702389UNrsJu","8336298NmRIFR","207tWAvlp","24hNUULs","7AxVhOP","7302559yarEbg","right","8773795sCUzzR","10zvBMhr","226880gMTmwH"];return sx=function(){return x},sx()}(function(x,e){for(var t=U0,n=x();[];)try{var s=parseInt(t(480))/1*(-parseInt(t(481))/2)+parseInt(t(483))/3*(parseInt(t(482))/4)+parseInt(t(474))/5+-parseInt(t(485))/6*(-parseInt(t(471))/7)+-parseInt(t(476))/8*(-parseInt(t(469))/9)+parseInt(t(475))/10*(parseInt(t(472))/11)+parseInt(t(470))/12*(-parseInt(t(484))/13);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sx,897100);function U0(x,e){var t=sx();return U0=function(n,s){n=n-469;var i=t[n];return i},U0(x,e)}class No{constructor(){var e=U0;this[e(478)]=![],this.lineDashScale=1,this[e(477)]=new it({strokeStyle:"rgba(255,0,0,0.3)",fillStyle:"rgba(255,0,0,0.9)",textAlign:e(473),textBaseline:"top",lineWidth:1}),this.styleY=new it({strokeStyle:"rgba(0,255,0, 0.4)",fillStyle:"rgba(0,255,0, 0.9)",textBaseline:e(479),lineWidth:1})}show(){var e=U0;this[e(478)]=!![]}hide(){this.visible=![]}}const Ti=ix;(function(x,e){const t=ix,n=x();for(;[];)try{if(parseInt(t(421))/1*(parseInt(t(422))/2)+parseInt(t(416))/3*(parseInt(t(427))/4)+-parseInt(t(425))/5+parseInt(t(420))/6+parseInt(t(423))/7*(parseInt(t(424))/8)+parseInt(t(428))/9+-parseInt(t(426))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(rx,831338);function ix(x,e){const t=rx();return ix=function(n,s){return n=n-416,t[n]},ix(x,e)}let $t={isDebug:localStorage[Ti(418)]("_jtopo_debug_mode")==Ti(419),showFPS:![],paintAABB:![],debugInfo:null,debugMode:function(){const x=Ti;let e=localStorage.getItem(x(417))=="true",t=!e;localStorage.setItem("_jtopo_debug_mode",""+t),$t.isDebug=t}};function rx(){const x=["9128304JfEgqo","5118460NnwaiA","33682830qRFpwU","63208dcyXTt","14056749ykojgp","84HNtPzA","_jtopo_debug_mode","getItem","true","4354122EFjufo","450757RfZEcL","6sBFtQC","7xfNsam"];return rx=function(){return x},rx()}function ox(){var x=["7cTkvSp","1756863LkdDKf","546QDpCOA","32571HZpPJg","2422dyMHIR","323928zZoaaK","24758228pOlZkr","850528LiwkVH","130mWBriR","120FuBLFq","147816HbzTyb"];return ox=function(){return x},ox()}(function(x,e){for(var t=Ai,n=x();[];)try{var s=-parseInt(t(143))/1*(parseInt(t(145))/2)+-parseInt(t(142))/3+parseInt(t(146))/4+parseInt(t(150))/5*(-parseInt(t(140))/6)+parseInt(t(141))/7*(-parseInt(t(148))/8)+-parseInt(t(144))/9*(parseInt(t(149))/10)+parseInt(t(147))/11;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ox,340276);function Ai(x,e){var t=ox();return Ai=function(n,s){n=n-140;var i=t[n];return i},Ai(x,e)}class V0{constructor(e){this.length=0,this.x=e.x,this.y=e.y}}(function(x,e){const t=lt,n=x();for(;[];)try{if(parseInt(t(427))/1+-parseInt(t(436))/2*(parseInt(t(435))/3)+-parseInt(t(451))/4*(-parseInt(t(439))/5)+-parseInt(t(454))/6*(parseInt(t(446))/7)+-parseInt(t(437))/8+parseInt(t(443))/9+-parseInt(t(444))/10*(-parseInt(t(447))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ax,495558);function ax(){const x=["lenght of points less than 2","2112uOojsI","toFixed","423738ZGUFvw","rate","segIndex","multiplyC","distancePoint","projectionLen","points","length","1010943UubJGk","4tnkdTi","6404216iYghsI","normalize","4416820uTVOBE","begin","segLen","abs","2138553SlwJSY","12640iKIEDy","distance","12229JUXLAK","9053XrnQZp","dist","push","createPointsBidirectional","4FODcAG","positionToLocalPoint"];return ax=function(){return x},ax()}function lt(x,e){const t=ax();return lt=function(n,s){return n=n-426,t[n]},lt(x,e)}function vr(x,e,t,n){const s=lt,i=x.x,r=e.x,o=x.y,a=e.y,c=[r-i,a-o];B.normalize(c,c);const l=[-c[1]*n,c[0]*n],h=T[s(450)](x,l,t),p=T.createPointsBidirectional(e,l,t);return[h,p]}function kr(x,e,t){const n=x.x,s=e.x,i=x.y,r=e.y,o=[s-n,r-i];B.normalize(o,o);const a=[-o[1]*t,o[0]*t],c=T.createPointsBidirectional(x,a,1),l=T.createPointsBidirectional(e,a,1);return[c[0],l[0]]}function zo(x,e,t){const n=lt,s=[x.x-e.x,x.y-e.y],i=[t.x-e.x,t.y-e.y],r=B[n(438)]([],i),o=B.dot(s,r),a=B[n(430)]([],r,o);return a.projectionLen=o,a}function Pr(x,e,t){const n=lt,s=zo(x,e,t),i=[t.x-e.x,t.y-e.y],r=B.len(i),o=s.projectionLen/r,a=new V0;return a.x=e.x+s[0],a.y=e.y+s[1],a.segLen=r,a[n(432)]=s[n(432)],a[n(428)]=o,a}function Ro(x,e,t){const n=lt,s=[x.x-e.x,x.y-e.y],i=[t.x-e.x,t.y-e.y],r=B[n(438)]([],i),o=B.len(i);let a;const c=B.dot(s,r);if(c>o)a=t;else if(c<0)a=e;else{let h=B.multiplyC([],r,c);a={x:e.x+h[0],y:e.y+h[1]}}let l=new V0(a);return l[n(441)]=o,l.projectionLen=c,l[n(428)]=c/o,l}function cx(x,e){const t=lt;if(e[t(434)]<2)throw new Error("number of points is less than 2");let n=new V0(e[0]),s=Number.MAX_SAFE_INTEGER;for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1],a=Ro(x,r,o),c=T[t(431)](a,x);c<s&&(n=a,n.seg=[r,o],n[t(448)]=c,n.segIndex=i,s=c)}return n}function J0(x,e,t,n,s=![]){const i=[e.x-x.x,e.y-x.y],r=[n.x-t.x,n.y-t.y],o=B.normalize([],[-i[1],i[0]]),a=B.normalize([],[-r[1],r[0]]),c=o[0],l=o[1],h=a[0],p=a[1],b=c*p-h*l;if(b==0)return null;const _=B.dot(o,[x.x,x.y]),g=B.dot(a,[t.x,t.y]),I={x:(p*_-l*g)/b,y:(c*g-h*_)/b};return s==![]&&(!Sr(I,x,e)||!Sr(I,t,n))?null:I}function Di(x,e,t,n=![]){const s=lt;if(t[s(434)]<2)throw new Error(s(453));let i=[];for(var r=0;r<t[s(434)]-1;r++){const o=t[r],a=t[r+1];let c=J0(x,e,o,a,n);c!=null&&i.push(c)}return i=Wo(i),i}function Sr(x,e,t){let n=[t.x-e.x,t.y-e.y],s=B.len(n),i={x:(e.x+t.x)/2,y:(e.y+t.y)/2},r=[x.x-i.x,x.y-i.y];return B.len(r)<=s*.5+1e-8}function Wo(x){const e=lt;let t={},n=[];for(var s=0;s<x.length;s++){let i=x[s],r=i.x[e(426)](6)+"-"+i.y.toFixed(6);t[r]==null&&(n[e(449)](i),t[r]=i)}return n}function Or(x,e,t,n){const s=lt;let i=Number.MAX_SAFE_INTEGER,r=null,o=x.getTransform();for(var a=0;a<t[s(434)];a++){const c=t[a],l=o.points(c._obb[s(433)]);c.isNode&&l.push(l[0]);let h=cx(e,l);h[s(448)]<i&&h[s(448)]<n&&(i=h[s(448)],h.object=c,r=h)}return r}function Lr(x,e,t){const n=lt;let s=[];for(let i=0;i<e[n(434)];i++){const r=e[i],o=r.getStageTransform();let a=r.getAnchorPoints();a==null&&console.log(r);for(let c=0;c<a.length;c++){let l=a[c],h=r[n(452)](l),p=o.point(h),b=T.distancePoint(p,x);if(b<t){const _={distance:b,object:r,anchorName:l};s.push(_)}}}return s.sort((i,r)=>i[n(445)]-r[n(445)]),s}function Cr(x,e){const t=lt;let n=x[t(429)],s=x.rate,i=x.object,r=s>=.25&&s<=.75,o=s-.5,a=Math.abs(x[t(441)]*o);if(i.isNode){if(a>e||!r)return null;if(n==0)return v.ct;if(n==1)return v.rm;if(n==2)return v.cb;if(n==3)return v.lm;throw new Error("error segIndex:"+n)}else if(i.isLink){let c=i.stageToLocalXY(x.x,x.y);return T[t(431)](c,i.getBeginPoint())<=e?v[t(440)]:T.distancePoint(c,i.getEndPoint())<=e?v.end:null}else throw new Error("unkwnow object!")}function q0(x){const e=lt;return Math[e(442)](Math[e(442)](x)%Math.PI)<.5}function lx(x,e,t){return x<e?e:x>t?t:x}const y=G0;(function(x,e){const t=G0,n=x();for(;[];)try{if(-parseInt(t(305))/1*(parseInt(t(332))/2)+parseInt(t(333))/3+parseInt(t(307))/4*(-parseInt(t(404))/5)+-parseInt(t(392))/6*(parseInt(t(382))/7)+-parseInt(t(304))/8+parseInt(t(387))/9+parseInt(t(308))/10*(parseInt(t(344))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hx,882659);var Fo=Object.defineProperty,Ho=Object[y(381)],J=(x,e,t,n)=>{const s=y;for(var i=n>1?void 0:n?Ho(e,t):e,r=x[s(342)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&Fo(e,t,i),i};function G0(x,e){const t=hx();return G0=function(n,s){return n=n-297,t[n]},G0(x,e)}const Er=class extends E{constructor(x,e=0,t=0,n=1,s=1){const i=y;super(),this._drawContentDesc={hasBorder:![],hasBackgroundColor:![],hasBackgroundImage:![],hasShape:![],hasImage:![],onlyImage:![],onlyText:![],shapeSize:{width:1,height:1}},this.obbPoints=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],this._originInParent={x:0,y:0},x!=null&&(this.text=x,this._textDirty=!![]),this._x=e||0,this._y=t||0,this[i(316)]=n||0,this._height=s||0}get originAutoRotate(){return this[y(334)]}set originAutoRotate(x){this.rotateWithParent=x}get text(){return this._text}set text(x){this[y(379)](x)}get[y(412)](){return this[y(357)]}set image(x){this[y(365)](x)}get imageSrc(){return this._imageSrc}set imageSrc(x){const e=y;x=="canvas"&&(x=null),this.setImage(x),this[e(369)]=x}setOrigin(x,e){const t=y;return this.origin[0]=x,this.origin[1]=e,this[t(340)]=!![],this}setXYOnLink(x,e){const t=y;return this.origin[0]=x,this[t(366)][1]=e,this[t(340)]=!![],this}setShape(x){const e=y;this.shape=x,this[e(340)]=!![]}alignOriginToLink(x,e,t,n){const s=y;n!=null&&(this.originOffset=n),this.originAlignPosition=x,this.setRotateCenter(x),e!=null&&this.setXYOnLink(e,this[s(366)][1]),t!=null&&this[s(383)](this.origin[0],t),this.matrixDirty=!![]}alignOriginToNode(x,e="center"){const t=y;let n=qt[e];this.setOrigin(n.x,n.y),this[t(323)]=x,this.matrixDirty=!![]}_OBBPoints(){const x=y;let e=this.width*.5,t=this[x(417)]*.5,n=-e,s=-t;return[{x:n,y:s},{x:e,y:s},{x:e,y:t},{x:n,y:t}]}_afterStyleComputed(){const x=y,e=this._computedStyle,t=this._drawContentDesc;t.hasBackgroundColor=e.backgroundColor!=null,t.hasBorder=e[x(309)]>0,t[x(370)]=e._backgroundImageObject!=null,t.hasImage=this._image!=null,t.hasShape=e.lineWidth>0&&e.strokeStyle!=null||e[x(343)]!=null,t.onlyImage=(this._image||t[x(370)])&&!t.hasBorder&&!t[x(310)]&&!t[x(298)],t[x(360)]=this._text!=null&&!t.hasImage&&!t[x(370)]&&!t.hasBorder&&!t.hasShape&&!t.hasBackgroundColor}_afterUpdateMatrix(){this[y(315)]()}_afterUpdate(){const x=y;(this._isMatrixDirty()||this[x(338)]||this[x(329)][x(338)])&&(this[x(339)](),this[x(338)]&&(this._textDirty=![],this[x(401)]()),this._textDirty=![],this._computedStyle._textDirty=![])}[y(336)](){const x=y,e=this.parent;if(e.isLink)return this[x(419)]();let t=this.originAlignPosition;if(this.origin[0]==0&&this.origin[1]==0&&t==null)return this[x(366)];let s=[this[x(366)][0]*e.width,this.origin[1]*e.height];if(t!=null){let i=this[x(396)](t);s[0]-=i.x,s[1]-=i.y}return s}[y(419)](){const x=y,e=this.parent,t=this;if(this===e.beginArrow||t===e[x(335)])return[0,0];let n=t.origin[0],s=t.origin[1],i=e[x(328)](s,n);if(t.originOffset){let o=this._getOriginRotation();i={x:i.x+t.originOffset*Math[x(403)](o),y:i.y+t[x(348)]*Math.sin(o)}}let r=t.originAlignPosition;if(r!=null){let o=t[x(396)](r);i.x-=o.x,i.y-=o.y}return[i.x,i.y]}_getOriginRotation(){const x=y,e=this.parent;if(e==null||e.isLayer||e.isNode||!this.rotateWithParent)return 0;let t=e;if(this===t.beginArrow||this===t.endArrow)return 0;let n=this.origin[0],s=this.origin[1];return e[x(380)](n,s)}[y(301)](x){const e=y,t=this;if(t[e(367)]&&t[e(411)]==null)return;if(t[e(423)])throw new Error("link no transform");let n=t._calc_originInParent(),s=n[0]+t.x,i=n[1]+t.y;x.translate(s,i),(t.skewX!=0||t.skewY!=0)&&x.transform(1,t.skewX,t.skewY,1,0,0),(t.scaleX!==1||t[e(402)]!==1)&&x.scale(t.scaleX,t.scaleY);let r=t._getOriginRotation()+t.rotation;if(r!=0)if(t.rotateCenter=="center")x.rotate(r);else{let o=t.positionToLocalPoint(t[e(378)]);x.translate(o.x,o.y),x.rotate(r),x[e(372)](-o.x,-o.y)}}_updateShapeSize(){const x=y,e=this._computedStyle;let t=e.borderWidth||0,n=e.lineWidth||0,s=e[x(356)]||0;const i=this[x(400)]-t*2-n-s*2,r=this[x(417)]-t*2-n-s*2;this._drawContentDesc[x(319)].width=i,this._drawContentDesc.shapeSize.height=r}[y(345)](){const x=y,e=this[x(421)]();return this.shape.isClosed&&e.push(e[0]),e}getImage(x){const e=this;return new Promise((t,n)=>{const s=G0;if(e._image!=null){x?x(e._image):t(e._image);return}let i=tt[s(375)].get(e);if(i==null){x?x(null):n(null);return}x==null&&(x=function(){t(e[s(357)])}),i.next=x})}setImage(x,e=![]){const t=y;let n=this,s=x;return tt.cancelCallback(this),s==null||s==""?(this._imageSrc=null,this._image=null,n.style.dirty=!![],this):s[t(362)]=="IMG"?(this._imageSrc=s[t(415)](t(299)),n._image=s,e==!![]&&n.resizeTo(s.width,s.height),n.style.dirty=!![],this):s.tagName=="CANVAS"?(this._imageSrc="canvas",this._image=s,e==!![]&&this.resizeTo(s.width,s[t(417)]),n.style.dirty=!![],this):(tt.loadImageWithObj(this,s,function(i){const r=t;i!=null&&(n[r(357)]=i,n[r(369)]=i.getAttribute("src"),e==!![]&&n[r(414)](i[r(400)],i.height),n.style[r(422)]=!![])}),this)}setText(x){const e=y;if(x!=this._text&&(this._textDirty=!![],this.matrixDirty=!![]),x==null){this._text=x,this[e(318)]=null;return}if(typeof x==e(390)&&(x=""+x),x.indexOf(`
`)!=-1){let t=x.split(`
`);this._textArr=t}else this[e(318)]=null;this._text=x}_calcTextSize(){const x=y;let e=this[x(318)]==null?1:this._textArr.length,t;e==1?t=it.measureText(this._text,this[x(329)],e):t=it[x(388)](this[x(318)],this._computedStyle,e),this._textWidth=t.width,this[x(297)]=t.height,this._textLineHeight=t.lineHeight}attr(x){throw new Error("准备删除的方法")}resizeToFitImage(){const x=y;this._image!=null&&this._image[x(400)]!=null&&this.resizeTo(this._image.width,this._image[x(417)])}[y(408)](x){const e=y;if(this[e(405)][e(300)]){let t=this._drawContentDesc.shapeSize;x.scale(t.width,t[e(417)]),this.shape.draw(x,this),x.scale(1/t.width,1/t.height)}else this[e(405)].draw(x,this)}_drawBackgroundOrBorder(x){const e=y,t=this[e(329)],n=this[e(358)];let s=t.borderWidth||0,i=-this.width*.5+s*.5,r=-this[e(417)]*.5+s*.5,o=this[e(400)]-s,a=this.height-s,c=t.borderRadius||0;x.beginPath(),c==0?x.rect(i,r,o,a):x.roundRect(i,r,o,a,c),n.hasBackgroundColor&&(x.fillStyle=t.backgroundColor,x.fill()),n[e(391)]&&(x.lineWidth=s,x[e(346)]=t.borderColor||"black",(t.borderStyle==e(361)||t.borderStyle==e(306))&&x.setLineDash([1,1]),x.stroke())}_drawImage(x,e,t,n,s){const i=y;if(this[i(369)]!=null&&this[i(369)].toLowerCase().endsWith("svg")){x[i(313)](e,-this[i(400)]*.5,-this.height*.5,this[i(400)],this[i(417)]);return}const r=this._computedStyle,o=Math[i(324)](this.width,this.width-s-s),a=Math.min(this.height,this.height-s-s),c=r._getBackgroundRect(o,a,this);let l=-this[i(400)]*.5,h=-this[i(417)]*.5,p=l+c.x,b=h+c.y;const _=Math.min(o,c.width),g=Math.min(a,c.height);let I=e[i(400)],m=e[i(417)];{x.imageSmoothingEnabled=r.imageSmoothingEnabled==null?!![]:r[i(386)],x.drawImage(e,0,0,I,m,p,b,_,g);return}}_strokeAndFill(x){const e=y;let t=this[e(329)],n=this._drawContentDesc;x[e(311)](),(n.hasBorder||n.hasBackgroundColor)&&(this[e(384)](x),this[e(317)](x)),n.hasShape&&(x.beginPath(),this[e(408)](x),t.fillStyle!=null&&(x.fillStyle=t[e(343)],x.fill()),t.lineWidth>0&&t[e(346)]!=null&&(x[e(314)]=t.lineWidth,x.strokeStyle=t.strokeStyle,x.stroke()),this.isPointOn==![]&&this.pickType==e(405)&&(this.shape.isClosed?this.mousePickupPath(x):this.mousePickupStroke(x,this[e(374)])));const s=this._image;if(s){n[e(310)]&&x[e(371)]();let i=t.borderWidth||0;this[e(302)](x,s,n[e(391)],n[e(298)],i)}x[e(341)]()}[y(320)](x){const e=y;if(this.width<=0||this[e(417)]<=0)return;let t=this._drawContentDesc;if(this[e(416)](x),t.onlyImage||t.onlyText||t[e(310)]&&this[e(394)]==![]&&this.pickType==e(331)){let n=-this[e(400)]*.5,s=-this[e(417)]*.5;x.save(),x.beginPath(),x.rect(n,s,this.width,this.height),x.closePath(),this.mousePickupPath(x),x.restore()}this[e(377)](x)}_updateText(){const x=y;this[x(398)](),this[x(354)]()}[y(354)](x=0,e=0){const t=y;let n=this._computedStyle,s=null;n.textPosition!=null?s=this.positionToLocalPoint(n[t(407)]):s={x:0,y:this.height*.5};let i=0,r=-(this._textHeight-this._textLineHeight)*.5;return n.textAlign==t(385)?i=x+e:n.textAlign=="right"&&(i=-(x+e)),n.textBaseline=="top"?r=x+e:n[t(376)]=="bottom"&&(r=-(x+e)-this[t(297)]+this[t(389)]),s.x+=i,s.y+=r,n[t(413)]!=null&&(s.x+=n.textOffsetX),n.textOffsetY!=null&&(s.y+=n.textOffsetY),this._textPosition=s,s}_paintText(x){const e=y;let t=this._text;if(t==null)return null;let n=this._computedStyle,s=this._textPosition||{x:0,y:0},i=this[e(318)];if(x[e(343)]=n.color||e(418),this[e(330)]==0)if(i==null)x[e(409)](t,s.x,s.y);else{let o=this[e(389)];for(var r=0;r<i.length;r++)x.fillText(i[r],s.x,s.y+r*o)}else{if(x.translate(s.x,s.y),x.rotate(this.textRotation),i==null)x.fillText(t,0,0);else{let o=this[e(389)];for(var r=0;r<i[e(342)];r++)x.fillText(i[r],0,0+r*o)}x.rotate(-this.text),x[e(372)](-s.x,-s.y)}return s}[y(321)](x){const e=y;let t=[],n=this.outLinks;for(var s=0;s<n.length;s++){let i=n[s],r=i.end.target;!z.hasChild(t,r)&&t[e(406)](r),x&&r instanceof Er&&r.outLinks.length>0&&z[e(373)](t,r[e(321)](x))}return t}[y(322)](x,e){const t=this.getSegmentPoints(),n=Di({x,y:e},{x:0,y:0},t);return n==null||n.length==0?{x,y:e}:n[0]}setRotateCenter(x){const e=y;return this[e(378)]=x,this}translateWith(x,e){const t=y;return this.x+=x,this.y+=e,this.inLinks.forEach(n=>n.updateMatrix()),this.outLinks[t(325)](n=>n[t(401)]()),this}[y(349)](x,e){return this.x=x,this.y=e,this}[y(372)](x,e){return this.x=x,this.y=e,this}setXY(x,e){return this.x=x,this.y=e,this}translatePositionTo(x,e,t){let n=this.positionToLocalPoint(x),s=e-this.x-n.x,i=t-this.y-n.y;this.translateWith(s,i)}resizeTo(x,e){const t=y;return this.width=x,this[t(417)]=e,this}resize(x,e){const t=y;return this[t(400)]=x,this.height=e,this}[y(397)](x,e){const t=y;return this[t(353)]=x,this.skewY=e,this}[y(393)](x,e){const t=y;return this[t(400)]+=x,this[t(417)]+=e,this[t(400)]<0&&(this.width=0),this.height<0&&(this.height=0),this}scaleBy(x,e){return this.scaleX*=x,this.scaleY*=e,this}zoom(x,e,t,n){return this[y(400)]*this.scaleX,this.height*this.scaleY,this.scaleBy(x,e),this}zoomOut(){return this[y(351)](.8,.8),this}[y(410)](){return this.zoom(1.25,1.25),this}[y(303)](x,e){const t=y;return this.scaleX=x,this[t(402)]=e,this}[y(347)](x,e){return this.scaleX=x,this.scaleY=e,this}[y(424)](x){const e=y;return this[e(364)]=x,this}[y(337)](x){return this.rotation=x,this}rotateWith(x){return this.rotation+=x,this}getRect(){return new j(this.x-this.width*.5,this.y-this.height*.5,this.width,this.height)}[y(328)](x,e){const t=y;let n=this[t(355)](x,e);return{x:-this[t(400)]*.5+n.x,y:-this.height+n.y}}changeParent(x){const e=y;if(this.parent===x)throw new Error(e(327));let t=this,n=t[e(326)](0,0),s=x.stageToLocalXY(n.x,n.y);return t[e(411)]&&t.parent.removeChild(t),t.setXY(s.x,s.y),x.addChild(t),this}[y(359)](x){const e=y;let t=qt[x];return this.origin[0]=t.x,this[e(366)][1]=t.y,this}[y(396)](x,e,t){let n=this.positions[x];if(n==null&&(n=qt[x]),n==null)throw Error("position not exist:"+x);return typeof n=="function"?n.call(this,e,t):{x:n.x*this.width,y:n.y*this.height}}getPositionNormal(x){const e=y;let t=this.positionToLocalPoint(v[e(312)]),n=this.positionToLocalPoint(x);return j.normal(t,n)}toJSON(x){let e=super.toJSON(x);if(x!=null){let t=x.shapeIndexMap,n=x.resourcesIndexMap,s=n[this.imageSrc];if(s!=null&&(e.image=s),this.isNode){let i=t.get(this.shape);e.shape=i}}return e}destory(){const x=y;super.destory(),this.shape=void 0,this[x(420)]=void 0,this._textArr=void 0,this._image=void 0,this._shapePoints=void 0}};let M=Er;J([d("Node")],M.prototype,"className",2),J([d(D.Rect)],M.prototype,"shape",2),J([d(null)],M[y(368)],"originAlignPosition",2),J([d(!![])],M.prototype,"rotateWithParent",2),J([d("center")],M.prototype,"rotateCenter",2),J([d(0)],M.prototype,"originOffset",2),J([d(null)],M[y(368)],"_text",2),J([d(null)],M.prototype,y(318),2),J([d(![])],M.prototype,y(338),2),J([d(0)],M[y(368)],"_textWidth",2),J([d(0)],M.prototype,"_textHeight",2),J([d(0)],M.prototype,"_textLineHeight",2),J([d(!![])],M.prototype,y(367),2),J([d($e[y(352)])],M[y(368)],y(363),2),J([d(0)],M.prototype,y(330),2),J([d(["className",y(367)])],M[y(368)],"allwaysSerializers",2),J([d(E[y(368)].serializers[y(395)](["text","x","y","width","height","shape","scaleX","scaleY","rotation",y(348),y(413),"textOffsetY","textRotation","originAlignPosition","rotateCenter","rotateWithParent","originAutoRotate"]))],M[y(368)],"serializers",2),J([d(function(){return this.shape.ctrlPoints})],M.prototype,y(350),2),J([d(function(){return this.shape.anchorPoints})],M.prototype,"getAnchorPoints",2),J([d("shape")],M.prototype,"pickType",2);function hx(){const x=["getCtrlPoints","zoom","Node","skewX","_calcTextPosition","getLocalPoint","padding","_image","_drawContentDesc","setOriginToPosition","onlyText","dashed","tagName","_zIndex","rotation","setImage","origin","isNode","prototype","_imageSrc","hasBackgroundImage","clip","translate","addAll","_pickRadius","objCache","textBaseline","_paintText","rotateCenter","setText","getK","getOwnPropertyDescriptor","2485XcotGW","setXYOnLink","_drawBackgroundOrBorder","left","imageSmoothingEnabled","14423076kFDILx","measureText","_textLineHeight","number","hasBorder","29004TagybR","resizeWith","isPointOn","concat","positionToLocalPoint","skew","_calcTextSize","fillRect","width","updateMatrix","scaleY","cos","170faTmba","shape","push","textPosition","drawShape","fillText","zoomIn","parent","image","textOffsetX","resizeTo","getAttribute","_strokeAndFill","height","black","_calcOriginInParentLink","_text","_OBBPoints","dirty","isLink","rotateTo","_textHeight","hasBackgroundColor","src","isUnit","_doTransform","_drawImage","scaleTo","5958896zNlRuw","1rFqkqh","dotted","155656xkkJnT","165330aefRGl","borderWidth","hasShape","save","center","drawImage","lineWidth","_updateShapeSize","_width","mousePickupPath","_textArr","shapeSize","draw","getLinkChildren","nearest","originAlignPosition","min","forEach","toStageXY","same parent, dont need change","getPoint","_computedStyle","textRotation","rect","195150vnBYOv","3285159rWwoAg","rotateWithParent","endArrow","_calc_originInParent","rotate","_textDirty","_updateText","matrixDirty","restore","length","fillStyle","1375DjdoCJ","getSegmentPoints","strokeStyle","scale","originOffset","translateTo"];return hx=function(){return x},hx()}const et=le;(function(x,e){const t=le,n=x();for(;[];)try{if(parseInt(t(285))/1+parseInt(t(276))/2+-parseInt(t(284))/3+parseInt(t(292))/4*(parseInt(t(298))/5)+parseInt(t(294))/6+-parseInt(t(286))/7+parseInt(t(287))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ux,951100);function ux(){const x=["segIndex","isNode","ShapeNode","target is null","get","EndpointFixedPoint","target","1940769tNCLcj","916246NcXoOr","12496113hHFhYP","11314152Worrbk","atan2","className","assign","getVec","4cXLwLK","EndpointFunction","4216566OyGAcG","nearest","prototype","function","567795vlZIoS","472694DgZkXr"];return ux=function(){return x},ux()}var Xo=Object.defineProperty,Yo=Object.getOwnPropertyDescriptor,h0=(x,e,t,n)=>{for(var s=n>1?void 0:n?Yo(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Xo(e,t,s),s};function le(x,e){const t=ux();return le=function(n,s){return n=n-276,t[n]},le(x,e)}class Ct{isDisplayObjectTarget(){return this[le(283)]instanceof E}isNodeTarget(){const e=le;return this instanceof he||this instanceof u0||this instanceof ue?this[e(283)].isNode:![]}hasTarget(){return this.target!=null}toJSON(e){const t=le;let n=this.className,s=Object.assign({className:n},this);if(this.target==null)delete s.target;else if(e!=null&&this.isDisplayObjectTarget()){let i=e[t(281)](this.target);s[t(283)]=i}return s}static fromJSON(e,t){const n=le;let s=e0(e.className,e);if(t!=null&&typeof e.target=="number"){let i=t[e[n(283)]];s.target=i}return s}}h0([d("Endpoint")],Ct[et(296)],"className",2);class u0 extends Ct{constructor(e,t,n=0){const s=et;super(),this.target=e,this.t=t,this[s(277)]=n}}h0([d("EndpointSegment")],u0.prototype,"className",2);class he extends Ct{constructor(e,t){super(),this.target=e,this.name=t}getAngle(){return ai(this.name)+Math.PI}[et(291)](){const e=et;return this.target[e(278)]?oi(this.name):[0,0]}}h0([d("EndpointFixedName")],he.prototype,et(289),2),he[et(296)].className="EndpointFixedName";class ue extends Ct{constructor(e){const t=et;super(),this[t(283)]=e}getAngle(e){const t=et;let n=0;if(this.target.isNode){let s=this.target;n=Math[t(288)](e.y-s.y,e.x-s.x)}return n}}h0([d("EndpointNearest")],ue.prototype,et(289),2),ue.prototype[et(289)]="EndpointNearest";class zt extends Ct{constructor(e,t,n){super(),this.x=e,this.y=t,this.target=n}}h0([d(et(282))],zt.prototype,"className",2);class Z0 extends Ct{constructor(e){super(),this.fn=e}toJSON(){const e=et;let t=this.className,n=this.fn();return Object[e(290)]({className:t,x:n.x,y:n.y},this)}}h0([d(et(293))],Z0.prototype,et(289),2);function Rt(x,e){const t=et;if(x==null)throw new Error(t(280));if(x instanceof Ct)return x;if(e instanceof Ct)return e;if(x instanceof E)return e==v[t(295)]?new ue(x):new he(x,e||v.center);if(T.isLikePoint(x)){let n=x;return new zt(n.x,n.y)}else{if(typeof x=="function")return new Z0(x);throw console.log(x,e),new Error("error arguments")}}const Uo={lm:[-1,0],ct:[0,-1],rm:[1,0],cb:[0,1]};function dx(x){const e=et;if(x==null)return;let t=x.target;if(typeof t!=e(297)){if(x instanceof he)return t[e(289)]==e(279)?t.getPositionNormal(x.name):Uo[x.name];if(x instanceof u0){let n=x.segIndex,s=x.t;if(t.className=="ShapeNode"){let i=t.positionToLocalPoint(v.center),r=t.getLocalPoint(s,n);return j.normal(i,r)}else if(t instanceof Node){if(n==0)return[0,-1];if(n==1)return[1,0];if(n==2)return[0,1];if(n==3)return[-1,0];throw new Error("unkow segIndex:"+n)}if(t.isAutoFoldLink){let i=t.points[n],r=t.points[n+1],o=[r.x-i.x,r.y-i.y];return B.normalize([],o)}}}}const Ae=de;(function(x,e){const t=de,n=x();for(;[];)try{if(parseInt(t(304))/1*(-parseInt(t(294))/2)+-parseInt(t(303))/3+parseInt(t(299))/4*(parseInt(t(307))/5)+-parseInt(t(306))/6*(parseInt(t(308))/7)+parseInt(t(309))/8+parseInt(t(296))/9*(-parseInt(t(300))/10)+parseInt(t(293))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fx,321596);function de(x,e){const t=fx();return de=function(n,s){return n=n-293,t[n]},de(x,e)}function fx(){const x=["225265fhlnzx","119dPHWNU","4890040AcOJZR","8248713nlBuBP","6LGVzfm","push","4077NrZYjS","getEnd","endpoints","4ONVnDZ","5930NEqFbf","length","target","779886qwcpJF","90367kNqPrU","remove","100554ROfDPF"];return fx=function(){return x},fx()}class Vo{constructor(){this.endpoints=[]}toJSON(e,t){let n=t.getPoints();return this.endpoints.map((i,r)=>{const o=de;let a=i.toJSON(e);if(a.hasOwnProperty(o(302))&&a[o(302)]==null){let c=n[0];t instanceof Ws?c=n[r]:r>0&&(c=n[n[o(301)]-1]);let l={className:"EndpointFixedPoint",x:c.x,y:c.y};return console.log("rs",r,n,l),l}return a})}set(e){const t=de,n=this.endpoints;n.length=0;for(let s=0;s<e[t(301)];s++){let i=Rt(e[s]);n.push(i)}return n}insert(e,t){const n=de;let s=Rt(e);return t==null&&(t=this.endpoints.length),t+1>=this.endpoints.length?this.endpoints[n(295)](s):this[n(298)].splice(t+1,0,s),s}replace(e,t){const n=de;this.endpoints[t]!=null&&(this[n(298)][t]=Rt(e))}[Ae(305)](e){const t=Ae;this.endpoints[t(301)]<=2||this[t(298)].splice(e,1)}setBegin(e){this.endpoints[0]=Rt(e)}setEnd(e){const t=Ae;if(this.endpoints.length<2){this.endpoints[1]=Rt(e);return}let n=this.endpoints.length-1;this[t(298)][n]=Rt(e)}getLength(){const e=Ae;return this.endpoints[e(301)]}getBegin(){return this[Ae(298)][0]}[Ae(297)](){let t=this[Ae(298)].length-1;return this.endpoints[t]}}const w=K0;(function(x,e){const t=K0,n=x();for(;[];)try{if(-parseInt(t(373))/1+-parseInt(t(341))/2*(parseInt(t(385))/3)+parseInt(t(400))/4*(-parseInt(t(420))/5)+parseInt(t(353))/6+parseInt(t(355))/7*(-parseInt(t(427))/8)+parseInt(t(361))/9+parseInt(t(403))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gx,944689);var Jo=Object.defineProperty,qo=Object[w(362)],Wt=(x,e,t,n)=>{const s=w;for(var i=n>1?void 0:n?qo(e,t):e,r=x[s(430)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&Jo(e,t,i),i};const px={};px[v.begin]=function(){return this.getPoints()[0]},px[v.end]=function(){const x=w;let e=this[x(364)]();return e[e[x(430)]-1]},px[v.center]=function(){let x=this.getPoints();return T.middle(x[0],x[x.length-1])};class R extends E{constructor(e,t,n,s,i){const r=w;if(super(),this[r(363)]={hasBorder:![],hasBackgroundColor:![]},this.text=e,this.path=new Vo,t==null){const o=new zt(0,0);this.path.endpoints.push(o)}else this.setBegin(t,s);if(n==null){const o=new zt(0,0);this[r(425)].endpoints[r(407)](o)}else this.setEnd(n,i)}get begin(){return this[w(425)].getBegin()}get end(){const e=w;return this.path[e(371)]()}get text(){const e=w;return this.label!=null?this.label.text:this[e(345)]}set[w(432)](e){const t=w;this.setLabel(e),this[t(345)]=e}setLabel(e){const t=w;return e==null&&this[t(404)]==null?this:e instanceof M?(ft.LinkHelper.asLabel(this,e),e[t(417)]=![],e):this.label!=null&&typeof e=="string"?(this.label.text=e,this):(ft.LinkHelper.createLabel(this,e),this)}attr(e){throw new Error("准备删除的方法")}getLabel(){return this[w(404)]}[w(413)](){return this[w(382)]}setBeginArrow(e){const t=w;if(!(e instanceof M))throw new Error("arrow must be Node");let n=this;return n.beginArrow!=null&&n[t(424)](n.beginArrow),n.children.indexOf(e)==-1&&n.addChild(e),e.draggable=![],e.connectable=![],e.editable=![],n[t(382)]=e,this.matrixDirty=!![],this}getEndArrow(){return this.endArrow}[w(372)](e){const t=w;if(!(e instanceof M))throw new Error("arrow must be Node");let n=this;return n.endArrow!=null&&n.removeChild(n[t(367)]),n.children[t(343)](e)==-1&&n.addChild(e),e.draggable=![],e.connectable=![],e[t(429)]=![],n[t(367)]=e,this.matrixDirty=!![],this}_OBBPoints(){return this.getPoints()}[w(342)](e,t){const n=w;this.matrixDirty=!![],this.begin&&this.begin.isDisplayObjectTarget()&&this.begin.target.removeOutLink(this);const s=Rt(e,t);this.path[n(342)](s),s[n(433)]instanceof E&&s.target.addOutLink(this)}[w(399)](e,t){const n=w;this.matrixDirty=!![],this[n(423)]&&this.end.isDisplayObjectTarget()&&this.end[n(433)].removeInLink(this);const s=Rt(e,t);this.path[n(399)](s),s.target instanceof E&&s.target.addInLink(this)}[w(409)](){const e=w;return this.points==null&&(this[e(419)]=this.updatePoints()),this[e(419)][0]}getEndPoint(){const e=w;return this.points==null&&(this.points=this.updatePoints()),this[e(419)][this.points[e(430)]-1]}drawPoints(e){return this.drawShape(e)}[w(377)](e){const t=w;let n=this.points;if(this._needCalcOffset()&&(n=this.offsetPoints,n==null))throw new Error("offsetPoints is null");let s=Bt.toAABB(n),i=s.getCenter(),r=Math.max(1,Math.max(s[t(376)],s.width));e.beginPath(),e[t(349)](i.x,i.y),e.scale(r,r);let o=z.getPointsNormalization(n);this.shape.draw(e,this,o),e[t(411)](1/r,1/r),e.translate(-i.x,-i.y),e.stroke()}_getTotalLineWidth(){const e=this._drawContentDesc,t=this._computedStyle;let n=t.lineWidth||0;return n+=t.padding||0,e.hasBorder&&(n+=t.borderWidth),n}draw(e){const t=w;if(this.begin==null||this.end==null)return this;if(this.drawShape(e),!this[t(401)]){const n=this[t(428)],s=this._computedStyle[t(390)]>=n?0:n;this.mousePickupStroke(e,s)}return this}[w(402)](){const e=w,t=this._computedStyle,n=this[e(363)];n[e(352)]=t.backgroundColor!=null,n.hasBorder=t[e(347)]>0}[w(346)](e){this.beginOffset=e,this.matrixDirty=!![]}setEndOffset(e){this.endOffset=e,this.matrixDirty=!![]}translateWith(e,t){const n=w;let s=this.path[n(412)];for(let i=0;i<s[n(430)];i++){let r=s[i];r instanceof zt&&r.target==null&&(r.x+=e,r.y+=t,this[n(422)]=!![])}return this[n(422)]&&(this[n(375)](),this.inLinks.forEach(i=>i[n(375)]()),this.outLinks.forEach(i=>i.updateMatrix())),this}_calcAZ(){let t=De(this,this[w(384)]),n=De(this,this.end);return[t,n]}_needCalcOffset(){const e=w;return this.beginOffset!=null&&this.beginOffset!=0?!![]:this.endOffset!=null&&this[e(406)]!=0?!![]:this[e(382)]!=null&&this[e(382)].visible?!![]:this[e(367)]!=null&&this.endArrow[e(405)]?!![]:![]}_offsetA(e,t){let n=this.beginArrow,s=this.beginOffset||0;if(n!=null&&n.visible&&(s=s+n.width),s!=0){let i=this.getBeginArrowDirection();this._setOffsetByVec(e,i,s)}}_offsetZ(e,t){const n=w;let s=this.endArrow,i=this.endOffset||0;if(s!=null&&s.visible&&(i=i+s.width),i!=0){let r=this.getEndArrowDirection();this[n(392)](t,r,i)}}_setOffsetByVec(e,t,n){const s=w;let i=[0,0];B[s(369)](i,t,-n),e.x+=i[0],e.y+=i[1]}_notUpdateYet(){const e=w;console.log("not yet"),this.points=this[e(395)]()}_afterUpdateMatrix(){const e=w;this.points=this[e(395)](),this._offsetAndArrowHandle()}_offsetAndArrowHandle(){const e=w;if(this[e(382)]&&this.beginArrow.parent!==this&&(this.beginArrow=null),this.endArrow&&this.endArrow.parent!==this&&(this[e(367)]=null),!this._needCalcOffset())return;let t=this.points[0],n=this.points[this[e(419)][e(430)]-1],s={x:t.x,y:t.y},i={x:n.x,y:n.y};if(this._offsetA(s,i),this._offsetZ(s,i),this.beginArrow){let o={x:(t.x+s.x)*.5,y:(t.y+s.y)*.5},a=Math.atan2(t.y-o.y,t.x-o.x);this[e(382)].setXY(o.x,o.y),this.beginArrow.rotateTo(a)}if(this.endArrow){let o={x:(n.x+i.x)*.5,y:(n.y+i.y)*.5},a=Math.atan2(n.y-o.y,n.x-o.x);this.endArrow.setXY(o.x,o.y),this.endArrow[e(357)](a)}let r=this._obb.localPoints.slice();r=r.slice(),r[0]=s,r[r.length-1]=i,this[e(389)]=r}updatePoints(){let e=[];const t=this.path.endpoints;for(let n=0;n<t.length;n++){let s=t[n],i=De(this,s);e.push(i)}return e}getPoints(){const e=w;return this[e(419)]==null&&(this[e(419)]=this.updatePoints()),this.points}getTransform(){return this.transform}_doTransform(){}[w(360)](e,t){const n=w,s=this.getSegmentPoints(),i=cx({x:e,y:t},s);return i==null||i[n(430)]==0?{x:e,y:t}:i}[w(383)](){return this.getPoints()}upgradeParent(){const e=w;let t=this.begin.target,n=this[e(423)].target;if(t==null||n==null)return;let s=bx(t,n);if(this.parent!==s)return this.changeParent(s),s}[w(354)](){let e=this.points[0],t=this.getPoint(1e-7),n=[e.x-t.x,e.y-t.y];return B.normalize(n,n)}getEndArrowDirection(){const e=w;let t=this[e(415)](.999999),n=this[e(419)][this[e(419)].length-1],s=[n.x-t.x,n.y-t.y];return B[e(410)](s,s)}isAlone(){return this.begin.isDisplayObjectTarget()||this.end.isDisplayObjectTarget()?![]:!![]}isBeginDisplayObject(){const e=w;return this.begin[e(356)]()}isEndDisplayObject(){const e=w;return this.end[e(356)]()}unlinkBegin(){const e=w;this.begin.isDisplayObjectTarget()&&this[e(384)][e(433)][e(379)](this),this.setBegin(this[e(409)]())}[w(426)](){const e=w;this.end.isDisplayObjectTarget()&&this.end[e(433)].removeInLink(this),this.setEnd(this[e(359)]())}unlink(){const e=w;this.unlinkBegin(),this.unlinkEnd(),this[e(422)]=!![]}remove(){return this.unlink(),super.remove(),this}changeParent(e){const t=w;if(this.parent===e)throw new Error("same parent, dont need change");let n=this,s=this;function i(r,o,a){const c=K0;let l=r[o];l!=null&&(l=r[c(394)](l.x,l.y),r[o]=a.stageToLocalXY(l.x,l.y))}if(s[t(384)]instanceof zt&&!s.begin[t(365)]()){let r=s.toStageXY(s.begin.x,s[t(384)].y),o=e.stageToLocalXY(r.x,r.y);s.setBegin(o)}if(s.end instanceof zt&&!s.end[t(365)]()){let r=s.toStageXY(s.end.x,s.end.y),o=e.stageToLocalXY(r.x,r.y);s.setEnd(o)}return s[t(416)]=="CurveLink"?i(s,t(391),e):s[t(416)]=="BezierLink"?(i(s,t(418),e),i(s,t(370),e)):s.className==t(393)&&(i(s,"fold1Offset",e),i(s,t(396),e),i(s,"centerOffset",e)),n[t(380)]&&n.parent.removeChild(n),e.addChild(n),this}positionToLocalPoint(e,t,n){let i=this[w(368)][e];if(i==null&&(i=this.DefaultPositions[e]),i==null)throw Error("position not exist:"+e);return typeof i=="function"?i.call(this,t,n):i}toJSON(e){const t=w;let n=super[t(381)](e);if(e!=null){let s=e[t(414)];n.path=this[t(425)].toJSON(s,this),this[t(404)]!=null&&(n.label=s.get(this[t(404)])),this.beginArrow!=null&&(n[t(382)]=s.get(this.beginArrow)),this.endArrow!=null&&(n[t(367)]=s.get(this.endArrow))}return n}_updateBeginEndAfterJson(e,t){const n=w;if(e.label!=null){let r=t[e.label];this[n(404)]=r}if(e.beginArrow!=null){let r=t[e.beginArrow];r.originAlignPosition=null,r.rotateCenter="center",this[n(366)](r)}if(e.endArrow!=null){let r=t[e.endArrow];r[n(421)]=null,r.rotateCenter="center",this.setEndArrow(r)}let s=e.path,i=s.map(r=>Ct[n(374)](r,t));this._setEndpoints(i)}_setEndpoints(e){const t=w;this[t(425)].set(e);let n=this.path.getBegin();n.isDisplayObjectTarget()&&n.target.addOutLink(this),n=this.path.getEnd(),n[t(356)]()&&n[t(433)].addInLink(this),e=this[t(425)].endpoints;for(let s=1;s<e.length-1;s++)n=e[s],n.isDisplayObjectTarget()&&n.target.addInLink(this)}destory(){const e=w;super.destory(),this.unlinkBegin(),this.unlinkEnd(),this.beginArrow=null,this.endArrow=null,this[e(404)]=null,this.shape=null,this.points=null,this.unitPoints=null,this.offsetPoints=null,this._text=null}}Wt([d("Link")],R.prototype,"className",2),Wt([d(D[w(398)])],R[w(388)],w(350),2),Wt([d($e[w(386)])],R.prototype,"_zIndex",2),Wt([d(!![])],R[w(388)],"isLink",2),Wt([d(5)],R.prototype,"_pickRadius",2),Wt([d(px)],R[w(388)],"DefaultPositions",2),Wt([d(["className","isLink"])],R.prototype,w(358),2),Wt([d(E.prototype.serializers.concat([w(378),"endOffset"]))],R.prototype,"serializers",2),Wt([d(function(){return this[w(350)].anchorPoints})],R[w(388)],"getAnchorPoints",2),Wt([d(function(){return this.shape.ctrlPoints})],R.prototype,"getCtrlPoints",2);function De(x,e){const t=w;let n;if(e instanceof he){let s=e[t(433)];n=Ko(x,s,e.name)}else if(e instanceof ue)n=Qo(x,e);else if(e instanceof u0){let s=e.target,i=e.segIndex,r=e.t;n=Zo(x,s,i,r)}else if(e instanceof zt){let s=e.target;s==null?n={x:e.x,y:e.y}:n=Go(x,s,e.x,e.y)}else if(e instanceof Z0)n=e.fn();else throw console.log(e),new Error(t(348));return n}function Go(x,e,t,n){const s=w;let i=e[s(408)]()[s(387)]({x:t,y:n});return i=x.getWorldTransform().invert()[s(387)](i),i}function K0(x,e){const t=gx();return K0=function(n,s){return n=n-341,t[n]},K0(x,e)}function Zo(x,e,t,n){const s=w;let i;return e.parent===x.parent?(i=e[s(351)](n,t),i=e[s(344)]().point(i)):(i=e.getLocalPoint(n,t),i=e.getWorldTransform()[s(387)](i),i=x.getWorldTransform().invert().point(i)),i}function Ko(x,e,t){const n=w;let s;return e[n(380)]===x.parent?(s=e.positionToLocalPoint(t),e.isNode&&(s=e.getTransform().point(s))):(s=e.positionToLocalPoint(t),s=e[n(408)]().point(s),s=x[n(408)]().invert().point(s)),s}function Qo(x,e){const t=w;if(x.deep==0)throw new Error("link's deep is 0!");const n=e.target,s=x[t(384)].target===n,i=s?x.end:x.begin,r=i[t(433)];let o=x.getWorldTransform().copy(),a;i instanceof ue?a=r.toLayerXY(0,0):(s?a=De(x,x.end):a=De(x,x[t(384)]),a=o.point(a));let c=n.getWorldTransform();a=c.copy()[t(397)]().point(a);let l=n[t(360)](a.x,a.y);return l=c.point(l),l=o.invert().point(l),l}function gx(){const x=["getTransform","_text","setBeginOffset","borderWidth","Invalid link's position arguments","translate","shape","getLocalPoint","hasBackgroundColor","6244080hnuFVN","getBeginArrowDirection","6454uDnQbt","isDisplayObjectTarget","rotateTo","allwaysSerializers","getEndPoint","nearest","3354534hpUGHq","getOwnPropertyDescriptor","_drawContentDesc","getPoints","hasTarget","setBeginArrow","endArrow","positions","multiplyC","ctrlPoint2","getEnd","setEndArrow","608277STwtuC","fromJSON","updateMatrix","height","drawShape","beginOffset","removeOutLink","parent","toJSON","beginArrow","getSegmentPoints","begin","6UoMOBI","Link","point","prototype","offsetPoints","lineWidth","ctrlPoint","_setOffsetByVec","AutoFoldLink","toStageXY","updatePoints","fold2Offset","invert","Line","setEnd","2697308pLZjoN","isPointOn","_afterStyleComputed","32379180rxkTki","label","visible","endOffset","push","getWorldTransform","getBeginPoint","normalize","scale","endpoints","getBeginArrow","objIndexMap","getPoint","className","mouseEnabled","ctrlPoint1","points","10KmXDxh","originAlignPosition","matrixDirty","end","removeChild","path","unlinkEnd","8600XQcjRf","_pickRadius","editable","length","deep","text","target","758554gkyiIP","setBegin","indexOf"];return gx=function(){return x},gx()}function bx(x,e){const t=w;return x.parent===e[t(380)]?x.parent:x[t(431)]==e.deep?bx(x[t(380)],e[t(380)]):x.deep>e[t(431)]?bx(x.parent,e):bx(x,e.parent)}function Mi(x,e){var t=yx();return Mi=function(n,s){n=n-409;var i=t[n];return i},Mi(x,e)}(function(x,e){for(var t=Mi,n=x();[];)try{var s=-parseInt(t(415))/1*(-parseInt(t(411))/2)+parseInt(t(413))/3+parseInt(t(416))/4+parseInt(t(412))/5+-parseInt(t(409))/6*(-parseInt(t(410))/7)+-parseInt(t(418))/8+-parseInt(t(414))/9*(parseInt(t(417))/10);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yx,772305);function yx(){var x=["10qCTiPM","5284425GuJTrC","1280583yVbAZC","8145eHucWV","215503PhguBh","2475464XzdLGB","27740PKjhFk","10659096gczvRJ","108990XEnUlP","553yWjQyq"];return yx=function(){return x},yx()}class $o extends _t{constructor(){super(),this.stoped=![]}dispose(){}}function d0(x,e){const t=_x();return d0=function(n,s){return n=n-408,t[n]},d0(x,e)}const Et=d0;(function(x,e){const t=d0,n=x();for(;[];)try{if(parseInt(t(426))/1+parseInt(t(412))/2+parseInt(t(409))/3+parseInt(t(410))/4*(parseInt(t(430))/5)+parseInt(t(422))/6*(-parseInt(t(421))/7)+parseInt(t(417))/8*(-parseInt(t(408))/9)+-parseInt(t(415))/10*(-parseInt(t(427))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_x,195114);class Tr{constructor(e){const t=d0;if(this[t(431)]={},this.SelectArea={border:"1px rgba(0,0,0,0.5)",backgroundColor:"rgba(0,0,236,0.1)"},this[t(419)]={strokeStyle:"#009A93",shadowColor:t(414)},this.LinkArrow={},this.LinkLabel={textPosition:t(428),textBaseline:t(413),textAlign:"center"},this.Node={textPosition:"cb",textAlign:"center",textBaseline:"top"},this[t(424)]={textPosition:"center",textAlign:t(428),textBaseline:"middle"},this[t(418)]={textPosition:"cb",textAlign:"center",textBaseline:t(420)},this.TipNode={textPosition:"ct",textAlign:t(428),textBaseline:"top"},this.ShapeNode={lineWidth:1,textPosition:"cb",textAlign:"center",textBaseline:"top"},this.VideoNode={textPosition:"cb",textAlign:"center",textBaseline:t(420)},this.RatioNode={textPosition:"center",textAlign:"center",textBaseline:"middle"},this.Link={lineWidth:1},this.FoldLink={lineWidth:1},this.CurveLink={lineWidth:1},this.AutoFoldLink={lineWidth:1},this[t(425)]={lineWidth:1},this.ArcLink={lineWidth:1},this.FlexionalLink={lineWidth:1},e==null)return;let n=Object.keys(e);for(let s=0;s<n[t(416)];s++){let i=n[s];Object.assign(this[i],e[i])}}toJSON(){const e=d0;let t={},n=Object.keys(this);for(let s=0;s<n[e(416)];s++){let i=n[s],r=ta[i],o=this[i],a=It.diff(o,r);a!=null&&(t[i]=a)}return t}}const ta=new Tr;class Me{constructor(e,t){this.name=e,this.content=new Tr(t)}copy(e){let t=JSON.parse(JSON.stringify(this.content));return new Me(e,t)}setStyle(e,t){let n=this.content[e];Object.assign(n,t)}getStyle(e){return this.content[e]}}let fe=new Me(re.DefaultLightName,{Layer:{background:Lt.createLightGridImg()+" repeat"},SelectArea:{border:"1px solid rgba(0,0,0,0.5)",backgroundColor:Et(411)},LinkArrow:{strokeStyle:"black"},Node:{strokeStyle:Et(432)},TextNode:{strokeStyle:"black"},TipNode:{strokeStyle:"black"},ShapeNode:{strokeStyle:Et(432)},CircleNode:{strokeStyle:"black"},VideoNode:{strokeStyle:"black"},RatioNode:{strokeStyle:"black"},Link:{strokeStyle:"black"},AutoFoldLink:{strokeStyle:"black"},FoldLink:{strokeStyle:"black"},FlexionalLink:{strokeStyle:"black"},CurveLink:{strokeStyle:"black"},BezierLink:{strokeStyle:"black"},ArcLink:{strokeStyle:"black"}});function _x(){const x=["1px solid rgba(255,255,255,0.5)","TextNode","BezierLink","159775LCKacn","1345597psAoxW","center","white","60770Bdgcyb","Layer","black","10836jKiCQU","271431YOOvqV","32DroqWg","rgba(0,0,236,0.1)","451942fBfYEB","middle","#009A93","10BdynOD","length","1656hnrykx","CircleNode","SelectedStyle","top","28fwlbVS","377160ZWmZjm"];return _x=function(){return x},_x()}let Bi=new Me(re.DefaultDarkName,{Layer:{background:Lt.createDarkGridImg()+" repeat"},SelectArea:{border:Et(423),backgroundColor:"rgba(255,255,255,0.2)"},LinkArrow:{strokeStyle:Et(429)},LinkLabel:{strokeStyle:Et(429),color:Et(429)},Node:{strokeStyle:Et(429),color:"white"},TextNode:{strokeStyle:"white",color:"white"},TipNode:{strokeStyle:"white",color:"white"},ShapeNode:{strokeStyle:"white",color:"white"},CircleNode:{strokeStyle:"white",color:Et(429)},VideoNode:{strokeStyle:"white",color:Et(429)},RatioNode:{strokeStyle:"white",color:"white"},Link:{strokeStyle:"white"},AutoFoldLink:{strokeStyle:"white"},FoldLink:{strokeStyle:"white"},FlexionalLink:{strokeStyle:"white"},CurveLink:{strokeStyle:Et(429)},BezierLink:{strokeStyle:"white"},ArcLink:{strokeStyle:"white"}});const K=f0;(function(x,e){const t=f0,n=x();for(;[];)try{if(parseInt(t(412))/1*(parseInt(t(419))/2)+parseInt(t(410))/3*(-parseInt(t(397))/4)+parseInt(t(415))/5+parseInt(t(413))/6*(parseInt(t(403))/7)+parseInt(t(404))/8+-parseInt(t(396))/9*(-parseInt(t(402))/10)+-parseInt(t(428))/11*(parseInt(t(380))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mx,558082);function mx(){const x=["currentTheme","applyTo","34694BUMtRk","moveTo","devicePixelRatio","8460HxXPQp","_computedStyle","context","save","push","strokeStyle","setCursor","setLineDash","isSelected","paint","layer","rect","lineWidth","width","stroke","stage","57519dOEdOM","5932TvsaDe","styleSystem","restore","getHeight","SelectedStyle","1230IgicBS","21TpwwPF","3530936LFBiGi","canvas","isPointInStroke","transform","event","selectedStyle","33GxjihM","contextExtends","1734LhsNeM","424332zDMtQr","style","1407625UVorxk","quadraticCurveTo","inputSystem","isPointInPath","1242kjNHVV","getStyle","lineTo","_paintFlattenObjects","clear","display","paintSelected"];return mx=function(){return x},mx()}function f0(x,e){const t=mx();return f0=function(n,s){return n=n-380,t[n]},f0(x,e)}class Ar extends $o{constructor(e){const t=f0;super(),this.destoryed=![],this.layer=e,this.canvas=document.createElement("canvas"),Object.assign(this.canvas.style,{position:"absolute",left:"0px"}),this.context=this[t(405)].getContext("2d"),this[t(382)].render=this,window.devicePixelRatio&&this[t(382)].scale(window[t(430)],window.devicePixelRatio),this[t(411)]()}[K(422)](e){const t=K;let n=this.context;for(let s=0;s<e.length;s++){let i=e[s];if(n.save(),i instanceof M){let r=i._worldTransform,o=r.m;n.transform(o[0],o[1],o[2],o[3],o[4],o[5])}else if(!(i.parent instanceof ht)){let o=i.parent._worldTransform,a=o.m;n[t(407)](a[0],a[1],a[2],a[3],a[4],a[5])}this.paint(i),n[t(399)]()}}_paintObjects(e,t){const n=K;let s=this[n(390)],i=this.context;for(let r=0;r<e.length;r++){let o=e[r];if(o._needPaint==![]||o._isOutOfViewport&&!t)continue;i[n(383)](),o instanceof M&&o._doTransform(i),!t&&(o.painted=!![]),this[n(389)](o),s&&s.displayList[n(384)](o),this._paintObjects(o.children,t),i.restore()}}paint(e){const t=K;let n=this[t(382)];e[t(381)].applyTo(n);let s=e[t(388)]&&e.showSelected==!![];s&&(n.save(),this[t(425)](e)),e.draw(n),s&&n.restore()}paintSelected(e){const t=K;let n=this.context;if(e[t(409)]!=null&&e.selectedStyle[t(427)](n),e.paintSelected!=null){e.paintSelected(n);return}if(e instanceof M){n.save(),n.beginPath();let s=1;e.selectedStyle!=null?s=e[t(409)][t(392)]|s:(n[t(387)]([0,0]),this[t(398)]?n[t(385)]=this[t(398)][t(426)].getStyle(t(401)).strokeStyle:n.strokeStyle=fe.getStyle("SelectedStyle").strokeStyle),n.lineWidth=s;let i=e[t(393)]+s+3,r=e.height+s+3;n[t(391)](-i*.5,-r*.5,i,r),n[t(394)](),n.closePath(),n[t(399)]()}else this.styleSystem?n.shadowColor=this[t(398)].currentTheme.getStyle(t(401)).strokeStyle:n.strokeStyle=fe[t(420)]("SelectedStyle").shadowColor,n.shadowBlur=5,n.shadowOffsetX=3,n.shadowOffsetY=3}clearAll(){this[K(423)]()}dontNeedPickup(e){const t=K;let n=this[t(395)];return n.inputSystem.isDraging&&n[t(417)].target!==e?!![]:n[t(417)][t(408)]instanceof MouseEvent&&!e._isMouseInAABB?!![]:![]}isMouseInStroke(e,t){const n=K;let s=this[n(382)],i=this[n(395)];if(e==null||e==0)return t!=null?s[n(406)](t,i.inputSystem.x,i[n(417)].y):s.isPointInStroke(i[n(417)].x,i.inputSystem.y);let r=![];for(var o=0;o<e;o++){if(t!=null?r=s.isPointInStroke(t,i.inputSystem.x+o,i[n(417)].y+o):r=s[n(406)](i[n(417)].x+o,i.inputSystem.y+o),r)return!![];if(t!=null?r=s.isPointInStroke(t,i.inputSystem.x-o,i.inputSystem.y-o):r=s.isPointInStroke(i.inputSystem.x-o,i.inputSystem.y-o),r)return!![];if(t!=null?r=s.isPointInStroke(t,i.inputSystem.x-o,i.inputSystem.y+o):r=s.isPointInStroke(i[n(417)].x-o,i.inputSystem.y+o),r)return!![];if(t!=null?r=s[n(406)](t,i.inputSystem.x+o,i.inputSystem.y-o):r=s.isPointInStroke(i[n(417)].x+o,i.inputSystem.y-o),r)return!![]}return![]}isMouseInPath(e){const t=K;let n=this[t(382)],s=this.stage;return e?n.isPointInPath(e,s[t(417)].x,s.inputSystem.y):n[t(418)](s.inputSystem.x,s.inputSystem.y)}contextExtends(){this.context.roundRect==null&&(this.context.roundRect=function(e,t,n,s,i){const r=f0;this.beginPath(),this[r(429)](e+i,t),this[r(421)](e+n-i,t),this.quadraticCurveTo(e+n,t,e+n,t+i),this[r(421)](e+n,t+s-i),this.quadraticCurveTo(e+n,t+s,e+n-i,t+s),this.lineTo(e+i,t+s),this[r(416)](e,t+s,e,t+s-i),this.lineTo(e,t+i),this.quadraticCurveTo(e,t,e+i,t),this.closePath()})}show(){this.canvas.style.display="block"}hide(){const e=K;this.canvas.style[e(424)]="none"}getWidth(){const e=K;return this.canvas[e(393)]}[K(400)](){return this.canvas.height}setSize(e,t){this.canvas.width=e,this.canvas.height=t}getCursor(){return this[K(405)].style.cursor}[K(386)](e){const t=K;this.canvas[t(414)].cursor=e}toDataURL(e,t){const n=K;return e=e||"image/png",this[n(405)].toDataURL(e,t)}getRectImageData(e,t,n,s){const i=K;return e==null&&(e=0),t==0&&(t=0),n==null&&(n=this.getWidth()),s==null&&(s=this.getHeight()),this[i(382)].getImageData(e,t,n,s)}clear(){const e=K;this.canvas.width=this[e(405)].width}dispose(){this.canvas.remove()}}const Ix=Q0;(function(x,e){const t=Q0,n=x();for(;[];)try{if(-parseInt(t(264))/1*(parseInt(t(280))/2)+parseInt(t(266))/3*(parseInt(t(259))/4)+-parseInt(t(251))/5+parseInt(t(254))/6*(parseInt(t(285))/7)+-parseInt(t(261))/8*(parseInt(t(276))/9)+-parseInt(t(278))/10*(parseInt(t(257))/11)+parseInt(t(262))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wx,634803);var ea=It.gc;let Dr=tt.w;function wx(){const x=["lineWidth","toScreenXY","50985npPktm","stroke","16340KZGzKR","styleX","664fACmnC","21917436EDeqCR","paintAABB","33844kmPcJz","height","330zCRLvq","styleY","paintLayer","applyTo","width","green","localView","toStageRect","beginPath","fillStyle","88731HzbCZu","lineTo","260fowywv","getObject","74aEPkfU","moveTo","flatten","context","_computedStyle","7jiLfoK","restore","792680GuQqGC","_paintFlattenObjects","displayList","4251426lrtemj"];return wx=function(){return x},wx()}function Q0(x,e){const t=wx();return Q0=function(n,s){return n=n-250,t[n]},Q0(x,e)}class Mr extends Ar{constructor(e){super(e)}renderLayer(e){const t=Q0;this.clear(),this.stage=this.layer.stage,this.styleSystem=this.stage.styleSystem,e.axis.visible&&this.paintAxis(e),this.paintLayer(e,![]),$t[t(263)]==!![]&&e[t(253)]!=null&&this[t(263)]();{if(Dr==null)return;let n=this[t(283)];n.save(),n.globalAlpha=.8,n.font="bold 16px arial";let s=ea(Dr);n[t(275)]="gray",n.fillText(s,14,this.getHeight()-14),n.restore()}}[Ix(268)](e,t){const n=Ix;let s=this[n(283)];s.save();let i=e.getTransform(),r=i.m;return s.transform(r[0],r[1],r[2],r[3],r[4],r[5]),e[n(284)].applyTo(s),re[n(282)]?(e[n(253)].forEach(o=>o.painted=!![]),this[n(252)](e.displayList)):this._paintObjects(e.children,t),s.restore(),e}paintAABB(){const e=Ix;let t=this.layer,n=this[e(283)],s=t.displayList;for(let i=s.length-1;i>=0;i--){let r=s[i],o=r._obb.aabb;o=t[e(273)](o),n.save(),r instanceof ht?n.strokeStyle="rgba(0,0,255,0.3)":r instanceof R?n.strokeStyle="pink":n.strokeStyle=e(271),n[e(274)](),n.rect(o.x,o.y,o[e(270)],o[e(265)]),n.stroke(),n.closePath(),n.restore()}}paintAxis(e){const t=Ix,n=e.axis,s=e.stage;let i=this.context;const r=s[t(272)][t(279)](),o=s.width,a=s.height,c=r[t(256)](0,0),l=e.scaleX,h=e.scaleY;i.save(),c.x>0&&c.x<o&&(i.beginPath(),n[t(267)].applyTo(i),i[t(281)](c.x,0),i.lineTo(c.x,a),i[t(281)](c.x-5,a-8),i.lineTo(c.x,a),i.lineTo(c.x+5,a-8),i[t(258)](),i.fillText("+y",c.x+6,a-5)),c.y>0&&c.y<a&&(i.beginPath(),n.styleX[t(269)](i),i.moveTo(o*.5,c.y),i.lineTo(0,c.y),i.moveTo(o*.5,c.y),i.lineTo(o,c.y),i.moveTo(o-8,c.y-5),i.lineTo(o,c.y),i[t(277)](o-8,c.y+5),i[t(258)](),i.fillText("+x",o-5,c.y+5));let p=n[t(260)],b=n[t(267)];p[t(255)]=Math.max(1,l),b[t(255)]=Math.max(1,h),i[t(250)]()}}const L=kx;(function(x,e){const t=kx,n=x();for(;[];)try{if(parseInt(t(354))/1+parseInt(t(429))/2*(parseInt(t(378))/3)+parseInt(t(416))/4+-parseInt(t(428))/5+parseInt(t(415))/6*(-parseInt(t(417))/7)+-parseInt(t(385))/8+parseInt(t(439))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vx,350829);var na=Object[L(390)],xa=Object[L(368)],p0=(x,e,t,n)=>{for(var s=n>1?void 0:n?xa(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&na(e,t,s),s};function vx(){const x=["getOwnPropertyDescriptor","viewportRect","toAABB","filter","unionRects","backgroundColor","0px","info","isLayer","stage","74091cAXBYj","hide","parseImgUrl","render","toStageRect","_afterStyleComputed","removeChild","2915096DXDjJK","displayList","setBackground","scaleX","map","defineProperty","mouseY","_onMound","style","getTransform","prototype","containsRect","_OBBPoints","_requestReapint","resetTo","mouseX","aabb","_backgroundImageObject","script","_bgInfo","layer","width","forceUpdate","_frames","openJson","markDirty","getExportAABB","inputSystem","_calcBackgroundPosition","backgroundImage","1865298BHRABN","1194556fkLyqQ","14XcxvMz","height","_resetBg","flattenList","toFileJson","translateWith","left","_computedStyle","removeFromParent","removeAllChild","parse","475110ZlklPh","26dAAkbM","render not exist","_getTransformByDeep","className","zoom","copy","show","getAABB","points","backgroundSize","6296463hpGclD","children","addChilds","Layer","renderSystem","112697BKNwML","offsetLeft","_findChildren","backgroundRepeat","_whenJsonLoaded","stringify","log","length","background","canvas","setRender","axis","toJsonObject","no-repeat"];return vx=function(){return x},vx()}class ht extends M{constructor(e){const t=L;super(),this.className=t(352),this.renderTimes=0,this.viewportRect=new j(0,0,1,1),this.cuttingHide=!![],this[t(386)]=[],this.flattenList=[],this.wheelZoom=!![],this.axis=new No,this.mouseX=-1,this[t(391)]=-1,this._frames=0,this.isFirstComputeBG=!![],this[t(398)]=![],this._dragDrawDelay=![],this._bgInfo={sw:null,sh:null,x:null,y:null},this.name=e,this.visible=![],this.displayList=[],$t.isDebug&&(ft[t(405)]=this),this.render=new Mr(this),this.canvas=this[t(381)][t(363)]}get frames(){return this._frames}set frames(e){const t=L;this[t(408)]=e}[L(392)](e){const t=L;this[t(377)]=e,this.render.stage=e}update(){return this._calcBackgroundPosition(),this._requestReapint=!![],!![]}showAxis(){this[L(365)].show()}hideAxis(){this.axis.hide()}[L(364)](e){this[L(381)]!=null&&this.render.dispose(),this.render=e,this.update()}_isMatrixDirty(){return!![]}updateMatrix(e){const t=L;let n=this[t(431)](D0);this._worldTransform=n;let s=n[t(434)]().invert(),i=s.point({x:this.stage.inputSystem.x||0,y:this.stage[t(412)].y||0});this[t(400)]=i.x,this[t(391)]=i.y,this.updateViewRect()}getViewportRectInLayer(){return this[L(369)]}_calc_originInParent(){const e=L,t=this[e(377)];return[t[e(406)]*.5,t.height*.5]}[L(421)](e){const t=L;let n=this[t(366)](e);return JSON[t(359)](n)}[L(366)](e){const t=L;e==null&&(e={imageToBase64:![]}),typeof e=="boolean"&&(e={imageToBase64:e});let n=this[t(377)].serializerSystem.objectsToJSON([this],e.imageToBase64);return e.script!=null&&(n[t(403)]=e[t(403)]),e[t(375)]!=null&&(n.info=e[t(375)]),n}openJson(e){const t=L;mt[t(399)](100);let n=e;typeof e=="string"&&(n=JSON[t(427)](e)),this[t(426)]();let s=this;return new Promise((i,r)=>{s.stage.serializerSystem.fillByJson(this,n,!![]).then(()=>{s._whenJsonLoaded(),i(n)})})}openJsonAndWait(e){return this[L(409)](e)}[L(358)](){const e=L;let t=this.stage,n=this;t.styleSystem[e(410)](),t.cancelZoom(),this[e(419)](),n[e(377)].forceUpdate()}_resetBg(){const e=L;this[e(404)]={sw:null,sh:null,x:null,y:null},this[e(413)]()}updateViewRect(){const e=L;this.viewportRect.setTo(0,0,this.stage.width,this[e(377)].height);let t=this.getTransform().invert();const n=this[e(369)];let s=n.toPoints(),i=Bt.toAABB(t[e(437)](s));return this[e(369)]=i,n}updateSize(e,t){const n=L;(e!=this.render.getWidth()||t!=this[n(381)].getHeight())&&(this.render.setSize(e,t),this.resizeTo(e,t),this.update())}pickUpByRect(e){const t=L,n=this;let s=[],i=n.displayList;if(i!=null)for(var r=0;r<i[t(361)];r++){let o=i[r],a=o._obb[t(401)];o.pickable()&&e[t(396)](a)&&s.push(o)}return s}pickUpChild(){const e=L;let t=this.displayList,n=null;for(let s=t[e(361)]-1;s>=0;s--){let i=t[s];if(i.isPointOn&&i.pickable()){n=i;break}}if(n!=null){let s=n.getTopFrozenParent();s!=null&&(n=s)}return n}[L(422)](e,t){const n=L;return super[n(422)](e,t),this._calcBackgroundPosition(),this}_calcBackgroundPosition(e=![]){const t=L;if(!this[t(381)]){console[t(360)](t(430));return}const n=this.render.canvas;let s=this[t(424)],i=this._bgInfo,r=s.backgroundRepeat;if(r!=null&&r!=t(367)){let o=100,a=100,c=s[t(402)]||this[t(393)]._backgroundImageObject;c!=null&&(o=c[t(406)],a=c[t(418)]);let l=o*this[t(388)],h=a*this.scaleY,p=this.width*.5%l+this.x,b=this.height*.5%h+this.y;(e||i.sw!=l||i.sh!=h||i.x!=p||i.y!=b)&&(n[t(393)].backgroundSize=l+"px "+h+"px",n.style.backgroundPosition=p+"px "+b+"px"),i.sw=l,i.sh=h,i.x=p,i.y=b}else n.style.backgroundPosition="0px 0px"}[L(383)](){const e=L;let t=this._computedStyle.getChangedProps();Object.keys(t)[e(371)](s=>s.startsWith("background")).length>0&&this._updateDomStyle()}_updateDomStyle(){const e=L,t=this[e(363)],n=t.style,s=this[e(424)];if(n.background=null,s.backgroundColor!=null&&(n[e(373)]=s[e(373)]),s.backgroundImage!=null){let i=Lt[e(380)](s.backgroundImage);n[e(414)]='url("'+i+'")'}return s.backgroundRepeat!=null&&(n.backgroundRepeat=s[e(357)]),s.backgroundPosition!=null&&(n.backgroundPosition=s.backgroundPosition),s[e(438)]!=null&&(n.backgroundSize=s[e(438)]),t[e(406)]=t.width+1,t[e(406)]=t.width-1,this[e(413)](!![]),this}[L(436)](){const e=L;let t=this[e(386)];if(t.length==0)return new j(0,0,1,1);let n=t[e(389)](i=>i._obb.aabb);return j[e(372)](n)}getExportAABB(){const e=L;let t=this[e(420)].filter(i=>i._cameraVisible);if(t.length==0)return new j(0,0,1,1);let n=t.map(i=>i._obb[e(401)]);return j.unionRects(n)}setZIndex(e){const t=L;this._zIndex=e,this.stage&&this[t(377)].updateZIndex()}show(){const e=L;return super[e(435)](),this.render[e(435)](),this[e(413)](),this}hide(){const e=L;return super[e(379)](),this.render.hide(),this}[L(397)](){const e=L;let t=this.width,n=this[e(418)];return[{x:0,y:0},{x:t,y:0},{x:t,y:n},{x:0,y:n}]}getPoints(){return this._OBBPoints()}draw(e){}[L(433)](e,t,n,s){return this.stage.camera.zoomLayer(this,e,n,s),this}cancelZoom(){this.stage.camera.cancelZoom()}[L(407)](){const e=L;this.stage[e(353)]._tickLayer(this,Date.now())}[L(387)](e,t){const n=L;this.render[n(363)][n(393)][n(362)]=e,this.render.canvas.style.backgroundSize=t}find(e,t,n=![]){return this[L(356)](e,t,n)}[L(382)](e){const t=L;let n=e.clone(),s=this.getTransform(),i=n.toPoints();return Bt[t(370)](s[t(437)](i))}toLayerRect(e){const t=L;let n=this[t(394)]().invert(),s=e.toPoints();return Bt[t(370)](n.points(s))}dragEndHandler(){const e=L;if(this._dragDrawDelay==![])return;let t=this.render.canvas,n=t[e(355)],s=t.offsetTop;this.translateWith(n,s),t.style[e(423)]=e(374),t.style.top=e(374)}addChild(e){return super.addChild(e),this.update(),this}addChilds(e){const t=L;super[t(351)](e),this.update()}centerBy(e){const t=L;let n=this,s=n.stage,i;if(e==null)i=n[t(411)]();else if(e instanceof E)i=e.getAABB();else{let l=e[t(389)](h=>h[t(436)]());i=j.unionRects(l)}i=n[t(382)](i);let r=s.width/2,o=s.height/2,a=r-i.x,c=o-i.y;a-=i.width/2,c-=i.height/2,n[t(422)](a,c),n.update()}getAllVisiable(){const e=L;return E.flatten(this[e(440)],t=>t.visible==!![])}loopRender(e=60){this._frames=e}endLoopRender(){this._frames=0}destory(){const e=L;if(this.destroyed)throw new Error("Layer has been destroyed already.");this.destroyed=!![],this.stage&&this[e(377)][e(384)](this),this.render.dispose(),this.displayList=void 0,this[e(420)]=void 0,this.listeners=void 0,this.style=void 0,this.viewportRect=void 0,this.classList.length=0,this.render=void 0,this.stage=void 0,this[e(440)].forEach(t=>t[e(425)]()),this.children[e(361)]=0}}p0([d("true")],ht.prototype,"className",2),p0([d(!![])],ht.prototype,L(376),2),p0([d(![])],ht.prototype,"isNode",2),p0([d([L(432),"isLayer"])],ht.prototype,"allwaysSerializers",2),p0([d(["id","name"])],ht.prototype,"serializers",2),p0([d("undefined")],ht[L(395)],"_layerIndex",2);function kx(x,e){const t=vx();return kx=function(n,s){return n=n-351,t[n]},kx(x,e)}function Px(x,e){const t=Sx();return Px=function(n,s){return n=n-473,t[n]},Px(x,e)}const Ft=Px;(function(x,e){const t=Px,n=x();for(;[];)try{if(-parseInt(t(499))/1+parseInt(t(477))/2*(parseInt(t(494))/3)+parseInt(t(487))/4+parseInt(t(492))/5+parseInt(t(474))/6+-parseInt(t(488))/7*(-parseInt(t(489))/8)+-parseInt(t(478))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sx,482614);function Sx(){const x=["fillStyle","_paintObjects","back","SelectArea","580900csYVZQ","65576DxxYMb","584Gqicka","fillText","draw","2325655ESSTwc","areaBox","9OpfYGe","_computedStyle","css","abs","layer","94161SYYQeW","addChild","mouseoutHandler","translateTo","displayList","styleSystem","globalAlpha","stage","1699314tNxnDK","currentTheme","translateWith","100724qxyWXV","10365750WuVhZo","font","getOwnPropertyDescriptor","className","_requestReapint"];return Sx=function(){return x},Sx()}var sa=Object.defineProperty,ia=Object[Ft(480)],ra=(x,e,t,n)=>{for(var s=n>1?void 0:n?ia(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&sa(e,t,s),s};const oa=It.gc,Br=tt.w;class aa extends Ar{constructor(e,t){const n=Ft;super(t),this[n(473)]=e}renderLayer(e){const t=Ft;this.clear(),this.stage=this[t(498)][t(473)],this.styleSystem=this.stage[t(504)];let n=this.context;return n.save(),e[t(495)].applyTo(n),e[t(491)](n),re.flatten?(e.displayList.forEach(i=>i.painted=!![]),this._paintFlattenObjects(e[t(503)])):this[t(484)](e.children,![]),n.restore(),e}}class $0 extends ht{constructor(e){const t=Ft;super(),this._frames=0,this._zIndex=$e.HandlerLayerCanvas,mt[t(485)](),this.stage=e,this[t(493)]=new M,mt.back(),this[t(500)](this[t(493)]),this.axis.visible=![],this.visible=!![],this.setRender(new aa(e,this)),this[t(493)][t(496)](fe.getStyle("SelectArea")),this.areaBox.hide()}showAreaBox(){const e=Ft,t=this.stage.inputSystem,n=this.areaBox;let s=this.stage[e(504)][e(475)];n[e(496)](s.getStyle(e(486)));let i=t.mouseDownX,r=t.mouseDownY,o=t.x,a=t.y,c=Math.abs(i-o),l=Math[e(497)](r-a),h=Math.min(i,o),p=Math.min(r,a);return n.resizeTo(c,l),n[e(502)](h,p),n[e(476)](c*.5,l*.5),this.areaBox.show(),new j(h,p,n.width,n.height)}[Ft(501)](e){this.areaBox.hide()}_calc_originInParent(){return[0,0]}update(){const e=Ft;return this[e(482)]=!![],!![]}[Ft(491)](e){const t=Ft;if(Br==null)return;e.save(),e[t(505)]=.6,e[t(479)]="bold 16px arial";let n=oa(Br);e[t(483)]="white",e[t(490)](n,16,this.render.getHeight()-16),e.restore()}}ra([d("HandlerLayer")],$0.prototype,Ft(481),2);const pe=Ox;(function(x,e){const t=Ox,n=x();for(;[];)try{if(-parseInt(t(258))/1*(-parseInt(t(252))/2)+-parseInt(t(265))/3+parseInt(t(271))/4+-parseInt(t(261))/5*(parseInt(t(281))/6)+parseInt(t(260))/7*(parseInt(t(273))/8)+parseInt(t(276))/9*(parseInt(t(251))/10)+parseInt(t(280))/11*(-parseInt(t(256))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lx,881213);function Ox(x,e){const t=Lx();return Ox=function(n,s){return n=n-251,t[n]},Ox(x,e)}function Lx(){const x=["8mFYpxM","addEventListener","left","9hZDVMs","display","string","jtopo","1131889LPMdqN","12mCoOIV","requestFullscreen","pageXOffset","setAttribute","ownerDocument","forEach","body","right","clientTop","webkitRequestFullscreen","12351770qwwTmE","2QWoXIw","clientLeft","type","pageY","204Lmhoaz","getBoundingClientRect","1302529xhqfOc","clientY","3284155gHmGef","232340YYeEqF","scrollLeft","top","fullScreen","2136291PebxUM","getOffsetPosition","msRequestFullscreen","pageYOffset","appendChild","touches","1714632wmoMIu","src"];return Lx=function(){return x},Lx()}const jr=class{static[pe(274)](x,e,t){let n=x.attachEvent||x.addEventListener;It.isFirefox()&&e=="mousewheel"?e="DOMMouseScroll":window.attachEvent&&e.substring(0,2)!=="on"&&(e="on"+e),n.call(x,e,t)}static[pe(266)](x){const e=pe;if(x==null)return{left:0,top:0};let t=0,n=0;if(x.getBoundingClientRect!=null){let s=x[e(257)](),i=x[e(285)],r=i.body,o=i.documentElement,a=o.clientTop||r[e(289)]||0,c=o[e(253)]||r.clientLeft||0;t=s[e(263)]+(window[e(268)]||o&&o.scrollTop||r.scrollTop)-a,n=s[e(275)]+(window[e(283)]||o&&o[e(262)]||r[e(262)])-c}else do t+=x.offsetTop||0,n+=x.offsetLeft||0,x=x.offsetParent;while(x);return{left:n,top:t}}static createVideo(x,e){const t=pe;if(typeof x==t(278)){let n=document.createElement("video");n.muted="muted",n.style[t(277)]="none";let s=document.createElement("source");return s[t(284)]("_source",t(279)),s[t(254)]="video/mp4",s[t(272)]=x,n.appendChild(s),document.body[t(269)](n),n.oncanplay=function(){e(n)},n}else return x}static fullWindow(x){const e=pe;let t="position,width,height,left,top,bottom,right,zIndex".split(",");if(x.fullScreen==!![]){let n=x._backup;t[e(286)](s=>{x.style[s]=n[s]}),x.fullScreen=![]}else{let n={};t.forEach(s=>{n[s]=x.style[s]}),x._backup=n,x.style.position="fixed",x.style.left=0,x.style.top=0,x.style.bottom=0,x.style[e(288)]=0,x.style.zIndex=$e.FullWindowDom,x[e(264)]=!![]}}static[pe(264)](x){const e=pe;x[e(282)]?x.requestFullscreen():x.mozRequestFullScreen?x.mozRequestFullScreen():x.webkitRequestFullscreen?x[e(290)]():x.msRequestFullscreen&&x[e(267)]()}static getXYInDom(x,e){const t=pe;let n=e[t(270)][0].pageX,s=e.touches[0][t(255)];e[t(270)][0].pageX==null&&(n=e[t(270)][0].clientX+document.body[t(262)]-document[t(287)].clientLeft,s=e.touches[0][t(259)]+document.body.scrollTop-document.body.clientTop);let i=jr.getOffsetPosition(x),r=n-i.left,o=s-i.top;return{x:r,y:o}}};let ge=jr;ge.isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);function Cx(){const x=["12235OrpZFz","198hqSQfU","9906UWAbli","276AwqylU","46mzeNqc","stage","9fkovOK","101096BrNtRY","6UQMqXy","1266384YoAZVm","576276ukDmKQ","1467179JFCaqE","886700tKYgaJ"];return Cx=function(){return x},Cx()}(function(x,e){const t=Ex,n=x();for(;[];)try{if(-parseInt(t(331))/1*(parseInt(t(329))/2)+-parseInt(t(335))/3*(-parseInt(t(334))/4)+-parseInt(t(327))/5*(parseInt(t(330))/6)+-parseInt(t(325))/7+-parseInt(t(323))/8+-parseInt(t(333))/9*(parseInt(t(326))/10)+-parseInt(t(328))/11*(-parseInt(t(324))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cx,117997);function Ex(x,e){const t=Cx();return Ex=function(n,s){return n=n-323,t[n]},Ex(x,e)}const ji={execute(x,e){const t=Ex;if(x==null)return;new Function("return "+x)()(e[t(332)],e,ft)}},Nr=Ax;function Tx(){const x=["76668dBOJVY","5XzBInG","20OGXwPa","2109024oXvsPJ","112773pKzIeW","4296726tEUYig","359982pPZoqH","createElement","805684cSOAll","1422337ArnuTo","get"];return Tx=function(){return x},Tx()}(function(x,e){const t=Ax,n=x();for(;[];)try{if(parseInt(t(509))/1+parseInt(t(505))/2*(-parseInt(t(507))/3)+parseInt(t(500))/4*(-parseInt(t(504))/5)+parseInt(t(503))/6+parseInt(t(501))/7+-parseInt(t(506))/8+parseInt(t(508))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tx,212406);let ca=`
<svg viewBox="0 0 24 24" id="zoom-in">
<path d="M4,20 L9.58788778,14.4121122"/>
<path d="M14,16 C10.6862915,16 8,13.3137085 8,10 C8,6.6862915 10.6862915,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,13.3137085 17.3137085,16 14,16 Z"/>
<path d="M16.6666667 10L11.3333333 10M14 7.33333333L14 12.6666667"/>
</svg>
<svg viewBox="0 0 24 24" id="zoom-out">
<path d="M14,16 C10.6862915,16 8,13.3137085 8,10 C8,6.6862915 10.6862915,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,13.3137085 17.3137085,16 14,16 Z"/>
<path d="M16.6666667 10L11.3333333 10M4 20L9.58788778 14.4121122"/>
</svg>
<svg viewBox="0 0 24 24" id="back-left">
<path d="M5,17 L5,15 C5,10.0294373 8.80557963,6 13.5,6 C18.1944204,6 22,10.0294373 22,15"/>
<polyline points="8 15 5 18 2 15"/>
</svg>
<svg viewBox="0 0 24 24" id="align-center">
<path d="M8 10L16 10M6 6L18 6M6 14L18 14M8 18L16 18"/>
</svg>
<svg viewBox="0 0 24 24" id="edit">
<path d="M18.4142136 4.41421356L19.5857864 5.58578644C20.366835 6.36683502 20.366835 7.63316498 19.5857864 8.41421356L8 20 4 20 4 16 15.5857864 4.41421356C16.366835 3.63316498 17.633165 3.63316498 18.4142136 4.41421356zM14 6L18 10"/>
</svg>
<svg viewBox="0 0 24 24" id="lock-alt">
<rect width="14" height="10" x="5" y="11"/>
<path d="M12,3 L12,3 C14.7614237,3 17,5.23857625 17,8 L17,11 L7,11 L7,8 C7,5.23857625 9.23857625,3 12,3 Z"/>
<circle cx="12" cy="16" r="1"/>
</svg>
<svg viewBox="0 0 24 24" id="lock-open">
<path d="M7,7.625 L7,7 C7,4.23857625 9.23857625,2 12,2 L12,2 C14.7614237,2 17,4.23857625 17,7 L17,11"/>
<rect width="14" height="10" x="5" y="11"/>
</svg>
<svg viewBox="0 0 24 24" id="pan">
<path d="M20,14 L20,17 C20,19.209139 18.209139,21 16,21 L10.0216594,21 C8.75045497,21 7.55493392,20.3957659 6.80103128,19.3722467 L3.34541668,14.6808081 C2.81508416,13.9608139 2.94777982,12.950548 3.64605479,12.391928 C4.35756041,11.8227235 5.38335813,11.8798792 6.02722571,12.5246028 L8,14.5 L8,13 L8.00393081,13 L8,11 L8.0174523,6.5 C8.0174523,5.67157288 8.68902517,5 9.5174523,5 C10.3458794,5 11.0174523,5.67157288 11.0174523,6.5 L11.0174523,11 L11.0174523,4.5 C11.0174523,3.67157288 11.6890252,3 12.5174523,3 C13.3458794,3 14.0174523,3.67157288 14.0174523,4.5 L14.0174523,11 L14.0174523,5.5 C14.0174523,4.67157288 14.6890252,4 15.5174523,4 C16.3458794,4 17.0174523,4.67157288 17.0174523,5.5 L17.0174523,11 L17.0174523,7.5 C17.0174523,6.67157288 17.6890252,6 18.5174523,6 C19.3458794,6 20.0174523,6.67157288 20.0174523,7.5 L20.0058962,14 L20,14 Z"/>
</svg>
<svg viewBox="0 0 24 24" id="apps-alt">
<rect x="5" y="5" width="2" height="2"/>
<rect x="11" y="5" width="2" height="2"/>
<rect x="17" y="5" width="2" height="2"/>
<rect x="5" y="11" width="2" height="2"/>
<rect x="11" y="11" width="2" height="2"/>
<rect x="17" y="11" width="2" height="2"/>
<rect x="5" y="17" width="2" height="2"/>
<rect x="11" y="17" width="2" height="2"/>
<rect x="17" y="17" width="2" height="2"/>
</svg>
<svg viewBox="0 0 24 24" id="maximise">
<polyline points="21 16 21 21 16 21"/>
<polyline points="8 21 3 21 3 16"/>
<polyline points="16 3 21 3 21 8"/>
<polyline points="3 8 3 3 8 3"/>
</svg>
<svg viewBox="0 0 24 24" id="minimise">
<polyline points="8 3 8 8 3 8"/>
<polyline points="21 8 16 8 16 3"/>
<polyline points="3 16 8 16 8 21"/>
<polyline points="16 21 16 16 21 16"/>
</svg>
<svg viewBox="0 0 24 24" id="download">
<path d="M12,3 L12,16"/>
<polyline points="7 12 12 17 17 12"/>
<path d="M20,21 L4,21"/>
</svg>
<svg viewBox="0 0 24 24" id="rectangle">
<rect width="18" height="18" x="3" y="3"/>
</svg>
<svg viewBox="0 0 24 24" id="cursor">
<polygon points="7 20 7 4 19 16 12 16 7 21"/>
</svg>
<svg viewBox="0 0 24 24" id="search">
<path d="M14.4121122,14.4121122 L20,20"/>
<circle cx="10" cy="10" r="6"/>
</svg>
<svg viewBox="0 0 24 24" id="eye">
<path d="M22 12C22 12 19 18 12 18C5 18 2 12 2 12C2 12 5 6 12 6C19 6 22 12 22 12Z"/>
<circle cx="12" cy="12" r="3"/>
</svg>
<svg viewBox="0 0 24 24" id="save">
<path d="M17.2928932,3.29289322 L21,7 L21,20 C21,20.5522847 20.5522847,21 20,21 L4,21 C3.44771525,21 3,20.5522847 3,20 L3,4 C3,3.44771525 3.44771525,3 4,3 L16.5857864,3 C16.8510029,3 17.1053568,3.10535684 17.2928932,3.29289322 Z"/>
<rect width="10" height="8" x="7" y="13"/>
<rect width="8" height="5" x="8" y="3"/>
</svg>
<svg viewBox="0 0 24 24" id="image">
<rect width="18" height="18" x="3" y="3"/>
<path stroke-linecap="round" d="M3 14l4-4 11 11"/>
<circle cx="13.5" cy="7.5" r="2.5"/>
<path stroke-linecap="round" d="M13.5 16.5L21 9"/>
</svg>
<svg viewBox="0 0 24 24" id="upload">
<path d="M12,4 L12,17"/>
<polyline points="7 8 12 3 17 8"/>
<path d="M20,21 L4,21"/>
</svg>
`,zr=document[Nr(499)]("div");zr.innerHTML=ca;let Ni={};function Ax(x,e){const t=Tx();return Ax=function(n,s){return n=n-499,t[n]},Ax(x,e)}Ni[Nr(502)]=function(x){return zr.querySelector("#"+x)};const nt=tn;function tn(x,e){const t=Dx();return tn=function(n,s){return n=n-149,t[n]},tn(x,e)}(function(x,e){const t=tn,n=x();for(;[];)try{if(parseInt(t(188))/1*(-parseInt(t(163))/2)+parseInt(t(198))/3*(-parseInt(t(162))/4)+-parseInt(t(174))/5+parseInt(t(165))/6+parseInt(t(167))/7*(-parseInt(t(186))/8)+parseInt(t(189))/9+parseInt(t(183))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dx,844525);function rt(x){return Ni.get(x).outerHTML}let Rr=' style="display:none" ';Rr="";function Dx(){const x=[`</button>
<input title="查找" type="text" placeholder="查找" value=""></input>
<button class="item" iconId='search'>`,"toLocaleString","onkeydown","stage",'input[type="file"]',"setMode","5153210UlFMDB","button","removeAllActive","change","getAttribute","maximise","name","onload",".json","10021800PGqkPw","domObj","select","8MFzIPo","div","2PebWIT","8755155cwLDBb","Enter","display","querySelector","要保存的文件名：","text","fullWindow","initToolbar","edit","3YXtPOe","activeBtn","length",`</button>
<button title="缩小"  class="item" iconId='zoom-out'>`,"getCurrentLayer","upload","lock-alt","button[iconid='edit']","toFileJson",`
<div class="group">
<button title="默认" class="item active" group='mode' iconId='cursor'>`,"showOverview","jtopo_toolbar","active",'<input type="file"/>',"readAsText","innerHTML","4010928mWlwCr","110534ugWqMX","back-left","6974964cbVGwY","update","1043252snPJwW"];return Dx=function(){return x},Dx()}var la=nt(155)+rt("cursor")+`</button>
<button title="编辑模式" edit="true" class="item" group='mode' iconId='edit' `+Rr+">"+rt(nt(197))+`</button>
<button title="框选模式" class="item" group='mode' iconId='rectangle'>`+rt("rectangle")+`</button>
<button title="拖拽模式"  class="item" group='mode' iconId='pan'>`+rt("pan")+`</button>
<button title="锁定模式" class="item" group='mode' iconId='lock-alt'>`+rt(nt(152))+`</button>
</div>

<div class="group">
<button title="放大"  class="item" iconId='zoom-in'>`+rt("zoom-in")+nt(149)+rt("zoom-out")+`</button>
<button title="居中" class="item" iconId='align-center'>`+rt("align-center")+`</button>
<button title="缩放至画布" class="item" iconId='minimise'>`+rt("minimise")+`</button>
<button title="取消缩放" class="item" iconId='back-left'>`+rt(nt(164))+`</button>
</div>

<div class="group">
<button title="缩略图" class="item" iconId='eye'>`+rt("eye")+`</button>
<button title="浏览器全屏" class="item" iconId='maximise'>`+rt(nt(179))+nt(168)+Ni.get("search").outerHTML+`</button>
</div>

<div class="group">
<button title="导出PNG" class="item" iconId='image'>`+rt("image")+`</button>
<button title="打开本地文件" class="item" iconId='upload'>`+rt(nt(151))+`</button>
<button title="保存到本地" class="item" iconId='save'>`+rt("save")+`</button>
<div style="display:none;"><input type="file"/></div>
</div>
`;class zi{constructor(e){const t=nt;this.imageToBase64=!![],this.stage=e,this[t(196)](e,la);let n=this;setTimeout(function(){n.initActiveStatus()},200)}getDom(){return this.domObj}show(){const e=nt;this[e(184)].style[e(191)]="block"}hide(){this.domObj.style.display="none"}remove(){this.domObj.remove()}getHeigth(){const e=nt;return this.domObj.style[e(191)]=="none"?0:this.domObj.clientHeight+1}initActiveStatus(){const e=nt;if(this[e(171)].mode==e(197)){let n=document.querySelector(e(153));this.activeBtn(n)}}[nt(196)](e,t){const n=nt;let s=this,i=document.createElement(n(187));this[n(184)]=i,i.classList.add(n(157)),i[n(161)]=t;let r=i.querySelectorAll(n(175));this.buttons=r;let o=i[n(192)]('input[type="file"]'),a=o.parentNode;function c(g){const I=n;a[I(161)]=I(159),l();let m=g.target.files[0];const C=new FileReader;C[I(160)](m),C[I(181)]=function(){const S=I,A=s.stage[S(150)](),Z=this.result;try{A.openJson(Z),A.translate(0,0),A.scaleTo(1,1),document.title=m[S(180)]}catch($){console.log($),alert("加载出现错误")}}}function l(){const g=n;o=i.querySelector(g(172)),o.addEventListener(g(177),c)}l(),this.fileInput=o;function h(){const g=n;let I=e.getCurrentLayer(),m=i[g(192)]('input[type="text"]').value;if(m[g(200)]>0){let C=I.displayList;for(let S=0;S<C[g(200)];S++){const A=C[S];if(A.text!=null&&A[g(194)].indexOf(m)!=-1){I.centerBy(A,10),e.effectSystem.flash(A).play(),e.editor!=null?e.editor.update():e[g(166)]();return}}}}let p={cursor:function(){e[n(173)]("normal")},rectangle:function(){const g=n;e.setMode(g(185))},pan:function(){e[n(173)]("drag")},edit:function(){e[n(173)]("edit")},"lock-alt":function(){e[n(173)]("view")},eye:function(){const g=n;e.overview==null||e.overview.visible==![]?e[g(156)]():e.hideOverview()},"zoom-in":function(){e.zoomIn()},"zoom-out":function(){e.zoomOut()},"back-left":function(){e.cancelZoom()},minimise:function(){e.zoomFullStage()},"align-center":function(){e.translateToCenter()},maximise:function(){e[n(195)]()},image:function(){e.saveImageInfo()},save:function(){const g=n;let I=prompt(g(193)),m=s.imageToBase64;if(I!=null){let C=e.getCurrentLayer(),S=C.toFileJson({info:{date:new Date()[g(169)](),fileName:I},imageToBase64:m});e.download(I+g(182),S)}},upload:function(){o.click()},search:h};i[n(192)]("input")[n(170)]=function(g){const I=n;g.key==I(190)&&h()},i.querySelector("input").ondblclick=function(g){const I=n;if(!g.shiftKey)return;console.log("reloadJsonTest");let m=e[I(150)]();m.openJson(m[I(154)]()).then(C=>{ji.execute(C.script,m)})};function b(g){g.onclick=function(){const I=tn;let m=g[I(178)]("iconId");p[m](),s[I(199)](g)}}for(var _=0;_<r.length;_++){let g=r[_];b(g)}}activeBtn(e){const t=nt;let n=e.getAttribute("group");n!=null&&(this[t(176)](n),e.classList.add(t(158)))}removeAllActive(e){const t=nt;let n=this.buttons;for(var s=0;s<n[t(200)];s++){let i=n[s];e==i.getAttribute("group")&&i.classList.remove("active")}}}const wt=be;(function(x,e){const t=be,n=x();for(;[];)try{if(parseInt(t(190))/1*(-parseInt(t(187))/2)+-parseInt(t(196))/3+parseInt(t(188))/4+parseInt(t(203))/5*(parseInt(t(198))/6)+-parseInt(t(186))/7+-parseInt(t(202))/8+-parseInt(t(207))/9*(-parseInt(t(197))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mx,406652);class Be{constructor(){const e=be;this[e(184)]=[]}[wt(200)](e){return this.observers.forEach(t=>{typeof t=="function"?t(e):t[be(199)]&&t.next(e)}),this}complete(){return this.observers.forEach(e=>{typeof e=="function"||e.complete&&e.complete()}),this}error(e){const t=wt;return this.observers[t(201)](n=>{const s=t;typeof n==s(189)||n[s(195)]&&n[s(195)](e)}),this}subscribe(e){const t=wt;if(this.observers.indexOf(e)!=-1)throw new Error(t(192));return this.observers.push(e),this}build(e){let t=new Be;return this.subscribe(n=>{e(t,n)}),t}filter(e){return this.build((t,n)=>{const s=be;e(n)&&t[s(200)](n)})}map(e){return this[wt(193)]((n,s)=>{n.publish(e(s))})}reduce(e,t){const n=wt;let s=t,i=!![];return this[n(193)]((r,o)=>{i&&t==null?(i=![],s=o):s=e(o,s),r.publish(s)})}distinct(){const e=wt;let t=e(204);return this[e(193)]((n,s)=>{t!==s&&(t=s,n.publish(s))})}[wt(206)](e){let t;return this.build((n,s)=>{t!=null&&clearTimeout(t),t=setTimeout(()=>{n.publish(s)},e)})}delay(e){return this[wt(193)]((n,s)=>{setTimeout(()=>{n.publish(s)},e)})}[wt(185)](e=2){return this[wt(194)](e,1)}bufferCount(e,t=1){let n=[];return this.build((s,i)=>{if(n.push(i),n.length==e){s.publish(n);for(let r=0;r<t;r++)n.shift()}})}[wt(191)](){this.observers.length=0}static fromEvent(e,t){let n=new Be,s=i=>{n[be(200)](i)};return e.addEventListener(t,s),n.unsubscribe=()=>{e.removeEventListener(t,s)},n}static of(...e){const t=wt;let n=new Be,s;return n.subscribe=function(i){return this.observers.push(i),s=setTimeout(()=>{e.forEach(r=>n.publish(r))},10),this},n[t(191)]=()=>{clearTimeout(s)},n}}function be(x,e){const t=Mx();return be=function(n,s){return n=n-184,t[n]},be(x,e)}function Mx(){const x=["function","144077xiUdxH","unsubscribe","重复订阅","build","bufferCount","error","620901bBKfoq","3620790XzQLZU","6FqSIUm","next","publish","forEach","6301040EKsKTf","582885NiBexx","-#distinct#-","filter","debounceTime","36OjIZWp","observers","pairwise","784889JLjYrZ","2kJhLYk","370240ShLdnS"];return Mx=function(){return x},Mx()}function g0(x,e){const t=Bx();return g0=function(n,s){return n=n-319,t[n]},g0(x,e)}const Tt=g0;(function(x,e){const t=g0,n=x();for(;[];)try{if(parseInt(t(332))/1*(parseInt(t(373))/2)+-parseInt(t(344))/3*(parseInt(t(324))/4)+-parseInt(t(340))/5+parseInt(t(351))/6+parseInt(t(334))/7+-parseInt(t(336))/8*(-parseInt(t(370))/9)+parseInt(t(374))/10*(-parseInt(t(322))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bx,192698);function Bx(){const x=["offsetY","isDragStart","previous","24BJwtMw","localView","isIdle","touchstart","button","drop","distanceRatio","13518hesjAg","dispatchEvent","touchmove","idleTimeout","painted","mouseover","canvas","forceUpdate","clientX","touchesDistance","timeStamp","selectedGroup","handlerLayer","pageX","_initObserve","updateTouchInfo","dragover","isMouseDown","mouseout","18pPXoNS","touchend","stage","38HYiBVx","40xjOmpS","subscribe","publish","filter","touchstartHandler","Handler","241461pKgvqf","assign","62556GfqVTT","idleTimer","click","mouseup","ctrlKey","isDraging","preventDefault","mouseDownX","17029eJyxWS","mousedown","1541449EJxtsL","eventObservable","852848VVyuAS","clientY","mousewheel","type","1768045JAnrvK"];return Bx=function(){return x},Bx()}class jx extends _t{constructor(){const e=g0;super(),this.skipPointerMovePicking=![],this.wheelZoom=!![],this.mouseDownX=0,this.mouseDownY=0,this.x=-1,this.y=-1,this[e(368)]=![],this.isDragEnd=![],this[e(329)]=![],this.isMouseOn=![],this.isDragStart=![],this[e(354)]=50,this.buttons=0,this.button=0,this[e(360)]=0,this[e(350)]=1,this.eventObservable=new Be}get pickedObject(){return this.target}_initEvent(e){const t=g0;this[t(372)]=e,ha(this),this._initObserve()}[Tt(365)](){const e=Tt,t=this,n=this[e(372)];t[e(335)].filter(r=>{const o=e,a=r[o(339)];return n.mode==yt.view?![]:n[o(345)].mode==o(355)?![]:(a=="touchstart"&&n[o(358)](),!![])})[e(319)](r=>{const o=e;if(n.mode==yt.edit&&n.editor!=null){let c=r.type+o(321);if(n.editor[c]&&(n.editor[c](r),r instanceof MouseEvent&&r.defaultPrevented))return![]}return!![]})[e(375)](r=>{const o=e;r.type==o(338)&&r.preventDefault();let c=r.type+"Handler";n[c]&&n[c](r),n.overview&&(n.overview.dirty=!![])}),t.eventObservable.subscribe(r=>{const o=e;t.stage.update(),t[o(352)](r)})}[Tt(330)](){this.event&&this.event.preventDefault()}isRightButton(){return this[Tt(348)]==2}updateBaseInfo(e,t){const n=Tt,s=Object[n(323)]({},this);this[n(343)]=s,this.event=e,this[n(361)]=e.timeStamp,this[n(339)]=t,this.isDragEnd=![],this.isIdle=![];let i=this;this.idleTimer!=null&&window.clearTimeout(this.idleTimer),this[n(325)]=setTimeout(function(){const r=n;i[r(346)]=!![]},this[n(354)])}updateMouseInfo(e,t){const n=Tt;this.updateBaseInfo(e,t),this.isMouseOn=e.offsetX>0&&e.offsetY>0;const s=this.previous;this.buttons=e.buttons,this.button=e.button,this.x=e.offsetX,this.y=e[n(341)],t==n(333)||t=="touchstart"?(this.isMouseDown=!![],this.mouseDownX=this.x,this.mouseDownY=this.y):(t=="mouseup"||t==n(326)||t==n(369)||t=="touchend")&&(this.isMouseDown=![],s.type=="mousemove"&&(this.isDragEnd=!![])),this.isDraging=this[n(368)]==!![]&&(t=="mousemove"||t=="touchmove"||t=="mousewheel"||t=="mouseenter"||t=="mouseout"),this[n(342)]=this.isDraging&&s.isDraging!=!![],this.dx=this.x-s.x,this.dy=this.y-s.y}updateTouchInfo(e,t){const n=Tt;this.updateBaseInfo(e,t);const s=this[n(343)],r=this.stage[n(363)].render.canvas.getBoundingClientRect(),o=r.left,a=r.top;if(t!="touchend"){const c=e.touches[0],l=c[n(359)]-o,h=c[n(337)]-a;this.x=l,this.y=h}if(t==n(347)?(this[n(368)]=!![],this[n(331)]=this.x,this.mouseDownY=this.y,this[n(360)]=0,this[n(350)]=1):t==n(371)&&(this.isMouseDown=![],s&&s.type=="touchmove"&&(this.isDragEnd=!![]),this[n(360)]=0,this[n(350)]=1),this[n(329)]=this.isMouseDown==!![]&&t==n(353),this[n(342)]=this[n(329)]&&s[n(329)]!=!![],this.dx=this.x-s.x,this.dy=this.y-s.y,t=="touchmove"&&e.touches.length>=2){const c=e.touches[0],l=e.touches[1],h=ua(c,l);this.touchesDistance!=0&&(this[n(350)]=h/this.touchesDistance),this.touchesDistance=h}e.preventDefault()}_onEvent(e){const t=Tt,n=this,s=e.type;e instanceof MouseEvent?n.updateMouseInfo(e,s):n[t(366)](e,s),n.eventObservable[t(376)](e)}pickObject(e){const t=Tt,n=this.stage,s=this;let i=s.event||{type:"mousedown",ctrlKey:![],metaKey:![]};if(n.inputSystem.target=e,e==null)return;e.matrixDirty=!![],s.type=="mousedown"?e.mousedownHandler.call(e,s):i[t(339)]==t(347)&&e[t(320)].call(e,s);const r=i[t(328)]||i.metaKey;n[t(362)].has(e)?r&&n.selectedGroup.remove(e):(!r&&n.selectedGroup.removeAll(),n.selectedGroup.add(e))}}function ha(x){const e=Tt;let t=x[e(372)],n=t[e(363)].render[e(357)];["mouseenter","mouseout",e(356),e(333),e(327),"mousemove","mousewheel","click","dblclick","dragstart","dragend",e(367),e(349),"touchstart","touchmove","touchend"].map(function(i){ge.addEventListener(n,i,function(r){x._onEvent(r)})})}function ua(x,e){const t=Tt,n=e.pageX-x[t(364)],s=e.pageY-x.pageY;return Math.sqrt(n*n+s*s)}function en(x,e){const t=Nx();return en=function(n,s){return n=n-460,t[n]},en(x,e)}function Nx(){const x=["Alt","sendKey","delete","editor","disable","unbind","1418460lPXfuW","isKeydown","preventDefault","keyup","isKeyRegistered","keyupOb","join","altKey","210723aXqiDB","get","23094rfymdf","1366080SBKwoo","push","bufferCount","fromEvent","alt","getKeyBinding","1516zWBgzA","set","2264HPSKco","enable","8441503LvvTva","checkValid","toLowerCase","split","292BXWVxX","bindKey","debug","regMap","Control","keyBufferOb","sort","70125nqXebX","filter","keydown","shift","key","4383fePeSW","dispatchEvent","control"];return Nx=function(){return x},Nx()}const G=en;(function(x,e){const t=en,n=x();for(;[];)try{if(parseInt(t(462))/1+parseInt(t(471))/2*(-parseInt(t(491))/3)+-parseInt(t(479))/4*(-parseInt(t(486))/5)+parseInt(t(500))/6+parseInt(t(475))/7+-parseInt(t(473))/8*(parseInt(t(464))/9)+parseInt(t(465))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nx,979879);class Ri extends _t{constructor(e){const t=en;super(),this[t(481)]=![],this._disabled=![],this.regMap=new Map,this.keyMap=new Map,this.stage=e,this.init(),this.debug=![]}[G(498)](){this._disabled=!![]}[G(474)](){this._disabled=![]}isControlDown(){const e=G;return this[e(501)](e(483))}isShiftDown(){return this.isKeydown("Shift")}isAltDown(){const e=G;return this.isKeydown(e(494))}isMetaDown(){return this.isKeydown("Meta")}[G(480)](e,t){const n=G;let s=e.toLowerCase().split("+").sort()[n(460)]("+");this.regMap.set(s,t)}[G(504)](e){return this[G(470)](e)!=null}getKeyBinding(e){const t=G;let n=e.toLowerCase()[t(478)]("+").sort().join("+");return this[t(482)][t(463)](n)}unBind(e){return this[G(499)](e)}unbind(e){const t=G;let n=e.toLowerCase().split("+")[t(485)]().join("+");this.regMap[t(496)](n)}[G(501)](e){return this.keyMap.get(e.toLowerCase())}[G(495)](e,t){const n=G;t==null&&(t=new KeyboardEvent(n(488)),t.mock=!![]),this.fireKey(e[n(477)]().split("+"),t,!![])}[G(476)](){let e=document.activeElement.tagName;return this._disabled||e=="INPUT"||e=="TEXTAREA"?![]:!![]}fireKey(e,t,n){const s=G;if(n==![])return;const i=this;let r=this.stage,o=r[s(497)],a=e.sort().join("+").toLowerCase();this.debug&&console.log("按下",a);let c=this[s(482)].keys();for(let l of c){if(l!=a||o!=null&&o.textInputMode==!![])continue;t[s(502)]();let h=i.regMap[s(463)](l);h&&h(t)}}keydownHandler(e){const t=G;let n=e.key.toLowerCase(),s=this.stage,i=[];e.ctrlKey&&(this.keyMap.set("control",!![]),i.push(t(493))),e[t(461)]&&(this.keyMap.set(t(469),!![]),i[t(466)](t(469))),e.shiftKey&&(this.keyMap.set(t(489),!![]),i.push(t(489))),e.metaKey&&(this.keyMap[t(472)]("meta",!![]),i[t(466)]("meta")),i.indexOf(n)==-1&&i.push(n),this.keyMap[t(472)](n,!![]);let r=tx(e);this.fireKey(i,r,s.inputSystem.isMouseOn),this.dispatchEvent(r)}keyupHandler(e){const t=G,n=this,s=e.key.toLowerCase();n.keyMap.delete(s);let i=n.stage.editor;if(i!=null&&i.textInputMode==!![])return;let r=tx(e);n[t(492)](r)}init(){const e=G;let t=this,n=Be.fromEvent(document,"keydown"),s=Be[e(468)](document,e(503)),i=n[e(487)](()=>this[e(476)]()),r=s.filter(()=>this[e(476)]());i.subscribe(o=>{t.keydownHandler(o)}),r.subscribe(o=>{t.keyupHandler(o)}),this.keydownOb=i,this[e(505)]=r,this[e(484)]=i.map(o=>o[e(490)])[e(467)](2,1).map(o=>o[0]+""+o[1])}}const nn=je;(function(x,e){const t=je,n=x();for(;[];)try{if(-parseInt(t(415))/1+-parseInt(t(412))/2+-parseInt(t(401))/3*(-parseInt(t(421))/4)+parseInt(t(406))/5*(parseInt(t(404))/6)+-parseInt(t(408))/7*(-parseInt(t(402))/8)+-parseInt(t(417))/9+parseInt(t(414))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zx,266877);function je(x,e){const t=zx();return je=function(n,s){return n=n-401,t[n]},je(x,e)}let Wr=new InputEvent(at.groupdragend),da=new InputEvent(at.groupdrag);class Wi extends _t{constructor(){super(),this.objects=[],this.isDraging=![],this.noChildrensObjects}isEmpty(){return this.objects.length==0}mouseoutHandler(e){const t=je;this.isDraging=![],!this.isEmpty()&&this[t(418)](Wr)}dragHandler(e){const t=je;if(this.dispatchEvent(da),e[t(422)]instanceof MouseEvent&&e[t(422)][t(416)]==!![])return;let n=this.getNoChildrensObjects();for(var s=0;s<n[t(419)];s++){let i=n[s];i[t(411)]&&i.dragHandler(e)}}dragEndHandler(e){const t=je;this[t(418)](Wr);let n=this[t(413)]();for(var s=0;s<n.length;s++){let i=n[s];i[t(411)]&&i[t(410)](e)}}[nn(413)](){const e=nn;return E[e(413)](this[e(407)])}addAll(e){for(var t=0;t<e.length;t++){let n=e[t];n.group=this,!z.hasChild(this.objects,n)&&(n.selectedHandler&&n.selectedHandler(),this.objects.push(n))}return this}add(e){const t=nn;return e.group=this,z.hasChild(this.objects,e)?this:(e[t(420)][t(409)](e),this.objects.push(e),this)}remove(e){const t=nn;return e[t(405)]=void 0,e[t(403)]&&e.unselectedHandler(e),z.remove(this.objects,e),this}removeAll(){const e=nn;let t=this.objects;for(var n=0;n<t.length;n++){let s=t[n];s[e(405)]=void 0,s.unselectedHandler&&s[e(403)]()}return this.objects.length=0,this}has(e){return z.hasChild(this.objects,e)}}function zx(){const x=["call","dragEndHandler","draggable","696750lrcmJK","getNoChildrensObjects","1265530zodyIf","378395pBBasQ","defaultPrevented","817821kJLfax","dispatchEvent","length","selectedHandler","364OSfTwc","event","16602zHJlSb","1740776vwYxQo","unselectedHandler","115050hLiHEj","group","5IyJeaX","objects","14XNZDZZ"];return zx=function(){return x},zx()}function Rx(){const x=["3961380ecMnJr","8SkDmWn","checkDom","3711584hdfWPl","5275914VptGlQ","1392652kruvdO","<li>&nbsp;&nbsp;-Canvas: (x: ","_obb","domElement","6058512RKOgSb","innerHTML","length","style","height","] </li>","<li>Mouse-Layer( x: ","toFixed",", y: ","<li>Nodes: ","toLayerXY","258QqTehC","</li>","hide","33765zAEdgZ","1924968SnCgRd","origin",") </li>","width"];return Rx=function(){return x},Rx()}const Fi=Ne;(function(x,e){const t=Ne,n=x();for(;[];)try{if(-parseInt(t(386))/1+parseInt(t(384))/2+parseInt(t(377))/3+parseInt(t(381))/4+parseInt(t(376))/5*(parseInt(t(373))/6)+parseInt(t(385))/7*(-parseInt(t(382))/8)+-parseInt(t(390))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rx,958650);function Ne(x,e){const t=Rx();return Ne=function(n,s){return n=n-363,t[n]},Ne(x,e)}class fa{constructor(e){this.numberFixed=0,this.stage=e}init(){const e=Ne,t=document.createElement("div");t.classList.add("jtopo_debugPanel"),this.stage.layersContainer.appendChild(t),this.domElement=t,this[e(375)]()}start(e=24){const t=this,n=this.stage;function s(){const i=Ne;if(n.inputSystem.isIdle)return;let r=n.getChildren(),o=0,a=0,c=0;for(var l=0;l<r.length;l++){let m=r[l];o+=m.displayList[i(364)],a+=m.getAllNodes().length,c+=m.getAllLinks().length}let h=Math.ceil(n.inputSystem.x),p=Math.ceil(n.inputSystem.y),b=n.getCurrentLayer(),_={x:0,y:0};b!=null&&(_=b.stageToLocalXY(h,p));const g=n.inputSystem.target;let I="<li>Mouse-Canvas( x: "+h+" y: "+p+")</li>";if(I+=i(368)+_.x[i(369)](2)+" y: "+_.y.toFixed(2)+")</li>",I+=i(371)+a+i(374),I+="<li>Links: "+c+"</li>",I+="<li>Total: "+(a+c)+"</li>",I+="<li>Painted: "+o+"</li>",g){I+="<li>Target: id: "+g.id;const m=g[i(388)].aabb,C=g.toStageXY(0,0),S=g[i(372)](0,0),A=this.numberFixed;I+="<li>_aabb:[x:"+m.x.toFixed(A)+",y: "+m.y[i(369)](A)+",w: "+m[i(380)][i(369)](A)+", h:"+m[i(366)].toFixed(A)+i(367),I+="<li>Origin: ["+g.origin[0].toFixed(A)+", "+g[i(378)][1].toFixed(A)+"]</li>",I+=i(387)+C.x[i(369)](A)+i(370)+C.y.toFixed(A)+") </li>",g instanceof M&&(I+="<li>&nbsp;&nbsp;-Parent: (x: "+g.x.toFixed(A)+", y: "+g.y.toFixed(A)+i(379)),I+="<li>&nbsp;&nbsp;-Layer:  (x: "+S.x.toFixed(A)+", y: "+S.y[i(369)](A)+") </li>"}$t.debugInfo&&(I+="<li>"+$t.debugInfo+"</li>"),t.setContent(I)}this._timer=setInterval(s,e)}setContent(e){const t=Ne;this[t(389)][t(363)]=e}[Fi(383)](){this[Fi(389)]==null&&this.init()}hide(){const e=Fi;return this[e(383)](),clearInterval(this._timer),this.domElement[e(365)].display="none",this}show(e){return this.checkDom(),this.domElement.style.display="block",this.start(e),this}}const Y=xn;(function(x,e){const t=xn,n=x();for(;[];)try{if(-parseInt(t(180))/1+-parseInt(t(207))/2*(parseInt(t(195))/3)+parseInt(t(200))/4+-parseInt(t(171))/5+-parseInt(t(203))/6+-parseInt(t(158))/7*(-parseInt(t(189))/8)+-parseInt(t(191))/9*(-parseInt(t(211))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wx,197971);function Wx(){const x=["resizeTo","paintInterval","6505780OfcfuB","rectObj","moveWith","30842dWsexs","render","show","handlerLayer","update","paint","hide","height","applyTo","mouseupHandler","stage","fill","target","121195smHvvk","right","domElement","stroke","strokeStyle","bottom","visible","inputSystem","setSize","366924UvpnFE","getWidth","paintDragRect","exportPaintObjects","mousewheelHandler","style","width","_computedStyle","rgba(0,250,50,0.2)","696kxhMnn","forEach","9JXuWtA","getHeight","_paintObjects","restore","684849tvvSCQ","max","layersContainer","Handler","getChildren","545336KEKCVA","addEventListener","getExportAABB","2116902dBTBYg","_overviewTimer","length","absolute","2bhGseF","mousedragHandler"];return Wx=function(){return x},Wx()}function xn(x,e){const t=Wx();return xn=function(n,s){return n=n-156,t[n]},xn(x,e)}class Fr extends Mr{constructor(e,t){super(t),this.stage=e}dontNeedPickup(e){return!![]}paintSelected(e){}overviewPaint(e){const t=xn;let n=this.context;if(n.save(),e._doTransform(n),e[t(187)][t(166)](n),re.flatten){const s=e.flattenList.filter(i=>i._needPaint&&i._cameraVisible);this._paintFlattenObjects(s)}else this[t(193)](e.children,!![]);n[t(194)]()}[Y(183)](e){const t=Y;e[0]instanceof ht?e.forEach(n=>this.overviewPaint(n)):this[t(193)](e,!![])}}class pa{constructor(e){const t=Y;this[t(177)]=![],this.dirty=!![],this[t(210)]=500,this[t(168)]=e,this.inputSystem=new jx,this.render=new Fr(e);let n=this[t(159)].canvas;n.style.backgroundColor="rgba(255,255,255,0.5)",n[t(185)].border="solid 1px gray",n.style.position=t(206),n.style.zIndex=""+(e[t(161)].zIndex+1),n.style.opacity="0.7",n[t(185)][t(172)]="0",n.style.left=null,n.style[t(176)]="0",e[t(197)].appendChild(n),this.canvas=n,this[t(173)]=n,this[t(159)].setSize(200,200*.618),this[t(156)]=new M(null,0,0),this.rectObj.hide(),this.initEvent(),this[t(164)]()}css(e){if(e==null)return this;for(let t in e)this.canvas.style[t]=e[t];return this}initEvent(){const e=Y;let t=this,n=["mousedown","mouseup","mousemove","mousewheel"],s=t[e(159)],i=s.canvas,r=this.inputSystem;n.map(function(o){const a=e;ge[a(201)](i,o,function(c){const l=a;if(c.offsetX<0||c.offsetY<0)return;r.updateMouseInfo(c,o);let h=o+l(198);if(t[h]==null)throw new Error("Overview has no handler:"+o);t[h](c)})})}show(){const e=Y;this[e(177)]=!![],this[e(159)][e(160)](),clearInterval(this._overviewTimer);let t=this;return this._overviewTimer=setInterval(function(){t.dirty&&t.update()},this.paintInterval),this}hide(){const e=Y;return this.visible=![],this[e(159)].hide(),clearInterval(this[e(204)]),this}[Y(181)](){return this.render.getWidth()}getHeight(){return this.render.getHeight()}setSize(e,t){const n=Y;return this.render[n(179)](e,t)}paint(){const e=Y;this.dirty=![];let t=this,n=t.stage,s=t[e(159)],i=t.getWidth(),r=t[e(192)](),o=this.stage[e(202)](),a=Math.max(i,o.width),c=Math[e(196)](r,o.height),l=i/a,h=r/c;s.clearAll();let p=s.context;p.save(),p.scale(l,h),p.translate(-o.x,-o.y),n.getChildren().forEach(function(b){s.overviewPaint(b)}),p.restore(),this.paintDragRect(p,o)}[Y(182)](e,t){const n=Y;let s=this.rectObj,i=this[n(168)],r=this.render,o=Math.max(t.width,i[n(186)]),a=Math.max(t.height,i.height),c=i.width/o,l=i[n(165)]/a;if(c==1&&l==1){s.hide();return}s.show();let h=r.getWidth()*c,p=r[n(192)]()*l;s[n(209)](h,p);let b=r[n(181)]()/o,_=r[n(192)]()/a,g=-t.x*b,I=-t.y*_;g<0&&(g=0),I<0&&(I=0),g+s.width>r.getWidth()&&(g=r.getWidth()-s.width),I+s[n(165)]>r.getHeight()&&(I=r[n(192)]()-s.height),s.translateTo(g,I),e.save(),e.lineWidth=2,e.fillStyle=n(188),e[n(175)]="red",e.beginPath(),e.rect(s.x,s.y,s.width,s.height),e[n(174)](),e[n(169)](),e.restore()}[Y(162)](){const e=Y;this.visible&&this[e(168)].children[e(205)]>0&&(this.stage.update(),this[e(163)]())}mousedownHandler(){const e=Y;let t=this.rectObj.getRect(),n=this.inputSystem.x,s=this.inputSystem.y;t.contains(n,s)&&(this[e(178)][e(170)]=this.rectObj);let i=n-(this.rectObj.x+this[e(156)][e(186)]/2),r=s-(this[e(156)].y+this.rectObj.height/2);this[e(157)](i,r)}[Y(208)](){const e=Y;let t=this.inputSystem.dx,n=this[e(178)].dy;this.moveWith(t,n),this[e(168)].editor&&this.stage.editor.update()}[Y(157)](e,t){const n=Y;if(!this[n(156)].visible)return;e<0&&this.rectObj.x+e<=0&&(e=-this[n(156)].x),e>0&&this[n(156)].x+this[n(156)][n(186)]>=this[n(181)]()&&(e=this.getWidth()-this.rectObj[n(186)]-this.rectObj.x),t<0&&this.rectObj.y<=0&&(t=-this.rectObj.y),t>0&&this.rectObj.y+this[n(156)].height>=this.getHeight()&&(t=this[n(192)]()-this.rectObj[n(165)]-this.rectObj.y),this[n(156)].translateWith(e,t);let i=this[n(168)].getExportAABB(),r=i.width,o=i[n(165)],a=r*(e/this.getWidth()),c=o*(t/this.getHeight());this[n(168)][n(199)]()[n(190)](function(h,p){h.translateWith(-a,-c)});let l=this;this._updateTimer=setTimeout(function(){l.update()},20),this.stage[n(162)]()}[Y(184)](e){e.preventDefault()}mousemoveHandler(){this[Y(178)].isDraging&&this.mousedragHandler()}[Y(167)](){const e=Y;this[e(178)].target=null}}const ga=`.jtopo_popoupmenu{padding:10px;border-radius:5px;min-width:210px;background-color:#fff;border:1px solid;position:absolute;z-index:10000}.jtopo_popoupmenu .header{font-size:14px;height:24px;padding-bottom:3px}.jtopo_popoupmenu a{text-rendering:optimizeLegibility;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;padding-left:20px;display:block;height:25px;color:#00000080;font-size:13px;cursor:pointer}.jtopo_popoupmenu a:hover{color:#000}.jtopo_iconsPanel{opacity:.8;padding-left:5px;position:absolute;background-color:#e8e8e8;top:90px;width:52px;height:425px;z-index:1000;border-radius:5px}.jtopo_iconsPanel .item{border:1px solid white;width:42px;height:42px;margin-top:10px}.jtopo_toolbar{border-bottom:1px dotted;padding-bottom:2px;border-color:#e0e0e0;width:100%;min-height:33px;background-color:#e8e8e8}.jtopo_toolbar .group{float:left;margin-right:5px}.jtopo_toolbar .item{float:left;width:32px;height:32px;stroke:gray;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;fill:none;font-size:12px;color:gray}.jtopo_toolbar .active{background-color:#d3d3d3;border:1px solid black}.jtopo_toolbar input[type=text]{font-size:12px;color:gray;float:left;width:120px;height:26px;border:1px solid white;margin:2px 2px 2px 4px}.jtopo_input_textfield{position:absolute;display:none;font-size:smaller;z-index:10000}.jtopo_tooltip{pointer-events:none;opacity:.9;min-width:30px;min-height:30px;padding:10px;border-radius:5px;background-color:#f8f8f8;border:1px solid;position:absolute;z-index:10000}.jtopo_historyPanel{position:absolute;left:0px;top:100%;width:879px;overflow-x:scroll;height:600px;z-index:1000}.jtopo_debugPanel{user-select:none;border:dashed 1px gray;padding:8px;position:absolute;left:0px;top:0%;width:300px;z-index:98;text-align:left;font-size:10px;color:gray}
`,te=xt;(function(x,e){const t=xt,n=x();for(;[];)try{if(parseInt(t(431))/1*(parseInt(t(404))/2)+parseInt(t(425))/3+parseInt(t(422))/4*(-parseInt(t(398))/5)+parseInt(t(419))/6+parseInt(t(396))/7+parseInt(t(420))/8*(-parseInt(t(432))/9)+-parseInt(t(409))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fx,537252);function xt(x,e){const t=Fx();return xt=function(n,s){return n=n-396,t[n]},xt(x,e)}function ba(x,e,t,n){return t*x/n+e}function ya(x,e,t,n){return t*(x/=n)*x+e}function _a(x,e,t,n){return-t*(x/=n)*(x-2)+e}function ma(x,e,t,n){return(x/=n/2)<1?t/2*x*x+e:-t/2*(--x*(x-2)-1)+e}function Ia(x,e,t,n){return-t*Math.cos(x/n*(Math.PI/2))+t+e}function wa(x,e,t,n){return t*Math.sin(x/n*(Math.PI/2))+e}function va(x,e,t,n){return-t/2*(Math.cos(Math.PI*x/n)-1)+e}function ka(x,e,t,n){return x==0?e:t*Math.pow(2,10*(x/n-1))+e}function Pa(x,e,t,n){const s=xt;return x==0?e:x==n?e+t:(x/=n/2)<1?t/2*Math.pow(2,10*(x-1))+e:t/2*(-Math[s(426)](2,-10*--x)+2)+e}function Sa(x,e,t,n){return-t*(Math.sqrt(1-(x/=n)*x)-1)+e}function Oa(x,e,t,n){return t*Math.sqrt(1-(x=x/n-1)*x)+e}function La(x,e,t,n){const s=xt;return(x/=n/2)<1?-t/2*(Math[s(424)](1-x*x)-1)+e:t/2*(Math.sqrt(1-(x-=2)*x)+1)+e}function Ca(x,e,t,n){return t*(x/=n)*x*x+e}function Ea(x,e,t,n){return t*((x=x/n-1)*x*x+1)+e}function Ta(x,e,t,n){return(x/=n/2)<1?t/2*x*x*x+e:t/2*((x-=2)*x*x+2)+e}function Aa(x,e,t,n){return t*(x/=n)*x*x*x+e}function Da(x,e,t,n){return-t*((x=x/n-1)*x*x*x-1)+e}function Fx(){const x=["5377323YPdCLq","effect","14335ChPuNI","delay","direction","delayed","reject","finished","62hPYzPZ","playState","asin","none","timeline","1257590oSpoqp","alternate","system","animations","cancel","fillMode","promise","length","play","push","6210252FLYwtf","1988256lwPxTx","_getTickAction","1244HQAUwo","now","sqrt","1329870wkysao","pow","resolve","alternate-reverse","cancelAll","isPause","1733bsmvCI","27DyfJSO","reverse","update","tick","playedTimes","times","duration","abs"];return Fx=function(){return x},Fx()}function Ma(x,e,t,n){return(x/=n/2)<1?t/2*x*x*x*x+e:-t/2*((x-=2)*x*x*x-2)+e}function Ba(x,e,t,n){return t*(x/=n)*x*x*x*x+e}function ja(x,e,t,n){return t*((x=x/n-1)*x*x*x*x+1)+e}function Na(x,e,t,n){return(x/=n/2)<1?t/2*x*x*x*x*x+e:t/2*((x-=2)*x*x*x*x+2)+e}function za(x,e,t,n){const s=xt;var o=1.70158,i=0,r=t;if(x==0)return e;if((x/=n)==1)return e+t;if(i||(i=n*.3),r<Math.abs(t)){r=t;var o=i/4}else var o=i/(2*Math.PI)*Math[s(406)](t/r);return-(r*Math.pow(2,10*(x-=1))*Math.sin((x*n-o)*(2*Math.PI)/i))+e}function Ra(x,e,t,n){const s=xt;var o=1.70158,i=0,r=t;if(x==0)return e;if((x/=n)==1)return e+t;if(i||(i=n*.3),r<Math[s(439)](t)){r=t;var o=i/4}else var o=i/(2*Math.PI)*Math.asin(t/r);return r*Math.pow(2,-10*x)*Math.sin((x*n-o)*(2*Math.PI)/i)+t+e}function Wa(x,e,t,n){const s=xt;var o=1.70158,i=0,r=t;if(x==0)return e;if((x/=n/2)==2)return e+t;if(i||(i=n*(.3*1.5)),r<Math.abs(t)){r=t;var o=i/4}else var o=i/(2*Math.PI)*Math.asin(t/r);return x<1?-.5*(r*Math.pow(2,10*(x-=1))*Math.sin((x*n-o)*(2*Math.PI)/i))+e:r*Math[s(426)](2,-10*(x-=1))*Math.sin((x*n-o)*(2*Math.PI)/i)*.5+t+e}function Fa(x,e,t,n,s){return s==null&&(s=1.70158),t*(x/=n)*x*((s+1)*x-s)+e}function Ha(x,e,t,n,s){return s==null&&(s=1.70158),t*((x=x/n-1)*x*((s+1)*x+s)+1)+e}function Xa(x,e,t,n,s){return s==null&&(s=1.70158),(x/=n/2)<1?t/2*(x*x*(((s*=1.525)+1)*x-s))+e:t/2*((x-=2)*x*(((s*=1.525)+1)*x+s)+2)+e}function Hr(x,e,t,n){return t-Hi(n-x,0,t,n)+e}function Hi(x,e,t,n){return(x/=n)<1/2.75?t*(7.5625*x*x)+e:x<2/2.75?t*(7.5625*(x-=1.5/2.75)*x+.75)+e:x<2.5/2.75?t*(7.5625*(x-=2.25/2.75)*x+.9375)+e:t*(7.5625*(x-=2.625/2.75)*x+.984375)+e}function Ya(x,e,t,n){return x<n/2?Hr(x*2,0,t,n)*.5+e:Hi(x*2-n,0,t,n)*.5+t*.5+e}let Ua={easeLinear:ba,easeInQuad:ya,easeOutQuad:_a,easeInOutQuad:ma,easeInSine:Ia,easeOutSine:wa,easeInOutSine:va,easeInExpo:ka,easeInOutExpo:Pa,easeInCirc:Sa,easeOutCirc:Oa,easeInOutCirc:La,easeInCubic:Ca,easeOutCubic:Ea,easeInOutCubic:Ta,easeInQuart:Aa,easeOutQuart:Da,easeInOutQuart:Ma,easeInQuint:Ba,easeOutQuint:ja,easeInOutQuint:Na,easeInElastic:za,easeOutElastic:Ra,easeInOutElastic:Wa,easeInBack:Fa,easeOutBack:Ha,easeInOutBack:Xa,easeInBounce:Hr,easeOutBounce:Hi,easeInOutBounce:Ya};class Xi{constructor(e,t,n,s){const i=xt;this[i(438)]=1e3,this.delay=0,this.direction="normal",this[i(414)]=i(407),this.playState="idle",this.isPause=![],this[i(403)]=![],this[i(401)]=![],this.times=1,this.playedTimes=0,this.effect="easeLinear",this.from=e,this.to=t,n!=null&&(this.duration=n),this[i(434)]=s}set(e,t,n,s){const i=xt;return this.from=e,this.to=t,this.duration=n,this[i(434)]=s,this}setFrom(e){return this.from=e,this}setTo(e){return this.to=e,this}setAttr(e){return Object.assign(this,e),this}onUpdate(e){const t=xt;return this[t(434)]=e,this}cancel(){const e=xt;return this.system&&this[e(411)].remove(this),this[e(402)]&&(this[e(402)](),this.reject=null),this[e(405)]="finished",this}pause(){const e=xt;return this.playState="paused",this[e(430)]=!![],this}continue(){return this.startTime=Date.now()-this.currentTime,this.playState="running",this.isPause=![],this}tick(e){const t=xt;if(this.playState!="running")return![];let n=e-this.startTime;return this.currentTime=n,n>=this.duration?(this.playState=t(403),this.system.remove(this),this.stepAction(this.duration),this[t(436)]<this[t(437)]?this[t(417)]():(this[t(427)](),this.resolve=null,this.onEnd&&this.onEnd())):this.stepAction(n),!![]}play(){const e=xt;let t=this;this[e(411)].add(this),this.playedTimes++,this[e(430)]=![],this.delay!=0&&this.delayed==![]?(setTimeout(function(){t.startTime=Date.now(),t.playState="running"},this[e(399)]),t.delayed=!![]):(t.startTime=Date[e(423)](),t.playState="running");const n=this;let s=this[e(421)]();this.stepAction=s;let i=this[e(415)];return i==null&&(i=new Promise(function(r,o){const a=e;n[a(427)]==null&&(n.resolve=r,n[a(402)]=o)}),this.promise=this.promise),i.catch(r=>{})}[te(421)](){const e=te;let t=this[e(397)],n=this.from,s=this.to,i=this.duration,r=this.update,o=n,a=s;if(typeof n=="number"&&(o=[n],a=[s]),this[e(400)]==e(433)||this.direction=="alternate-reverse"){let S=o;o=a,a=S}let c=o[0];const l=Array.isArray(n),h=typeof c=="number",p=c.x!=null||c.y!=null;let b=o.slice(),_,g=Ua[t],I=this.direction==e(410)||this.direction==e(428),m=this,C=this[e(438)]*.5;if(h)_=function(S){const A=e;let Z=S;I&&(S>C?Z=m[A(438)]*2-Z*2:Z=S*2);for(let $=0;$<o.length;$++){const Dt=o[$],A0=a[$],Ze=A0-Dt;if(Ze==0)b[$]=Dt;else{let yn=g(Z,Dt,Ze,i);b[$]=yn}}r(l?b:b[0])};else if(p)_=function(S){const A=e;for(let Z=0;Z<o[A(416)];Z++){const $=o[Z],Dt=a[Z],A0=Dt.x-$.x,Ze=Dt.y-$.y;let yn={x:$.x,y:$.y};A0!=0&&(yn.x=g(S,$.x,A0,i)),Ze!=0&&(yn.y=g(S,$.y,Ze,i)),b[Z]=yn}r(l?b:b[0])};else throw new Error("value format error.");return _}}class Yi{constructor(){const e=te;this[e(412)]=[],this[e(408)]={begin:17224416e5,end:Date[e(423)]()}}add(e){const t=te;this[t(412)].indexOf(e)==-1&&this.animations[t(418)](e)}remove(e){const t=te;z.remove(this[t(412)],e)}[te(429)](){const e=te;for(let t=0;t<this.animations.length;t++)this[e(412)][t][e(413)]();this.animations[e(416)]=0}tick(e){const t=te;let n=![];for(let s=0;s<this.animations.length;s++)this.animations[s][t(435)](e)&&n==![]&&(n=!![]);return this.animations=this.animations.filter(s=>s.playState!="finished"),n}anime(e){const t=te;e[t(438)]==null&&(e[t(438)]=1e3);let n=new Xi;return n.system=this,n.setAttr(e),n}}const vt=ze;(function(x,e){const t=ze,n=x();for(;[];)try{if(-parseInt(t(414))/1*(-parseInt(t(420))/2)+-parseInt(t(443))/3+-parseInt(t(419))/4*(-parseInt(t(447))/5)+parseInt(t(428))/6+parseInt(t(440))/7*(parseInt(t(425))/8)+parseInt(t(422))/9*(parseInt(t(416))/10)+parseInt(t(430))/11*(-parseInt(t(434))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hx,183928);function ze(x,e){const t=Hx();return ze=function(n,s){return n=n-413,t[n]},ze(x,e)}function Hx(){const x=["LinkLabel","parent","fromJson","12sAjOco","name","assign","children","defTheme","defStyles","14WmRMKs","currentTheme","getTheme","572253ZkYRCK","themes","label","addTheme","695fdvWKH","removeClass","132971tKpTRf","selectedStyle","193580HBVWbg","theme not exist:","_computedStyle","1868YXyLnn","2movrQk","update","81igXfxA","themeName","startsWith","49160gsnese","stage","setTheme","932268KFDUqd","style","1816045KmmlBE"];return Hx=function(){return x},Hx()}class Ui{constructor(e){const t=ze;this.themes={},this[t(439)]={},this[t(415)]=fe.getStyle("SelectedStyle"),this.stage=e,this.addTheme(fe),this[t(446)](Bi),this[t(427)](fe[t(435)])}addTheme(e){this.themes[e.name]=e}getTheme(e){return this[ze(444)][e]}customStyleToJSON(e){const t=ze;let n=JSON.parse(JSON.stringify(this[t(444)]));delete n.DefaultLight,delete n.DefaultDark;let s={},i={themeName:this.currentTheme[t(435)],themes:n,styles:s},r=Object.keys(this.defStyles);for(let o=0;o<r.length;o++){let a=r[o],c=this.defStyles[a],l=c.toJSON(e);s[a]=l}return i}[vt(433)](e){const t=vt;let n=e.CustomStyle;if(n==null)return;let s=n.themes,i=n.styles||{};if(s!=null){let a=Object.keys(s);for(let c=0;c<a.length;c++){let l=a[c],h=s[l],p=new Me(l,h.content);this.addTheme(p)}}let r=e.Resources||{};this.defStyles={};let o=Object.keys(i).filter(a=>a.startsWith("."));for(let a=0;a<o.length;a++){let c=o[a],l=i[c];this.defStyles[c]=it.fromJSON(l,r)}n.themeName!=null&&this.setTheme(n[t(423)])}defClass(e,t){const n=vt;if(t instanceof it){this.defStyles[e]=t;return}let s=new it;Object[n(436)](s,t),this[n(439)][e]=s,!e.startsWith(".")&&this.markDirty()}[vt(413)](e){const t=vt;delete this[t(439)][e],!e[t(424)](".")&&this.markDirty()}getClass(e){return this[vt(439)][e]}markDirty(){const e=vt;this.stage[e(437)].forEach(n=>{const s=e;n[s(429)].dirty=!![],n.querySelectorAll().forEach(i=>i.style.dirty=!![])})}start(){const e=vt;this.setTheme(this[e(441)].name)}setTheme(e){const t=vt;let n=this[t(442)](e);if(n==null)throw new Error("theme not exist.");this.currentTheme=n,this.markDirty(),this[t(426)][t(421)]()}getComputedStyle(e){return e._computedStyle}computeStyle(e){const t=vt;let n=this,s={},i=this[t(441)],r=e.className;e.parent instanceof R&&(e===e[t(432)][t(445)]?r=t(431):(e===e.parent.beginArrow||e===e.parent.endArrow)&&(r="LinkArrow"));let o=i.getStyle(r);o!=null&&Object.assign(s,o);let a=n.getClass(r);a!=null&&Object.assign(s,a);let c=e.classList;if(c.length>0)for(let l=0;l<c.length;l++){const h=c[l];let p=n.getClass(h);p!=null&&Object.assign(s,p)}return Object.assign(s,e[t(429)].getChangedProps()),e[t(418)].update(s),e._afterStyleComputed(),e._computedStyle}[vt(438)](e,t){const n=vt;let s=this[n(442)](e);if(s==null)throw new Error(n(417)+e);let i=s.copy(t);return this.addTheme(i),i}}const sn=Re;function Re(x,e){const t=Xx();return Re=function(n,s){return n=n-332,t[n]},Re(x,e)}(function(x,e){const t=Re,n=x();for(;[];)try{if(-parseInt(t(337))/1+-parseInt(t(355))/2*(parseInt(t(350))/3)+-parseInt(t(353))/4*(-parseInt(t(365))/5)+parseInt(t(356))/6*(-parseInt(t(340))/7)+-parseInt(t(372))/8+parseInt(t(338))/9*(parseInt(t(334))/10)+parseInt(t(357))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xx,328675);function Xx(){const x=["renderTimes","start","780glXkVx","_tickLayer","inputSystem","490260VmbXKN","28899ILtpMi","handlerLayer","11249qCACEp","painted","tick","height","behaviourSystem","visible","children","onUpdate","_isOutOfViewport","mode","67587HBZPmT","_afterUpdate","displayList","392668nqHyZY","localView","36oCuVLv","2454kRDrOm","16443185IzgNYW","clearMatrixDirtyMark","isMouseInObjectAABB","_isMouseInAABB","length","style","pause","animationSystem","10VgNKoc","now","isPointOn","clone","parent","updateMatrix","timeline","479256XqCwFJ","destroyed"];return Xx=function(){return x},Xx()}class Va{constructor(e){const t=Re;this[t(371)]={currentTime:Date[t(366)]()},this.stage=e}_renderLayerBefore(e){const t=Re;e.style.dirty&&!(e instanceof $0)&&this.stage.styleSystem.computeStyle(e),e._isMatrixDirty()&&e[t(370)](),e[t(358)](),e.style.dirty=![];let n=E.flatten(e[t(346)],null);e.flattenList=n,e.displayList.length=0;for(let s=0;s<n[t(361)];s++){let i=n[s];i[t(362)].dirty&&this.stage.styleSystem.computeStyle(i),i._isMatrixDirty()&&i.updateMatrix(),i._afterUpdate(),i[t(358)](),i[t(362)].dirty=![],i[t(341)]=![],i[t(367)]=![],i._isOutOfViewport=this.isOutOfViewPort(i,e);let r=i[t(345)]&&i[t(369)]._needPaint;i._needPaint=r,i[t(360)]=![],r&&!i[t(348)]&&(i[t(360)]=this.isMouseInObjectAABB(i,e))}for(let s=0;s<n.length;s++){let i=n[s];(i._isMatrixDirty()||i.parent.isLink)&&(i.updateMatrix(),i[t(351)](),i.clearMatrixDirtyMark(),i._isOutOfViewport=this.isOutOfViewPort(i,e),i[t(360)]=![],i._needPaint&&!i._isOutOfViewport&&(i._isMouseInAABB=this[t(359)](i,e))),i._needPaint&&!i._isOutOfViewport&&i._cameraVisible&&e[t(352)].push(i)}}isOutOfViewPort(e,t){if(t.cuttingHide==![])return![];let s=t.getViewportRectInLayer(),i=e._obb;return i.aabb==null?![]:!s.isIntersectRect(i.aabb)}isMouseInObjectAABB(e,t){const n=Re,s=t.stage;if(s.inputSystem.x<0||s[n(336)].y<0)return![];let i=e._obb.aabb.clone();return e instanceof R&&(i=i[n(368)](),i.x-=2,i.y-=2,i.width+=4,i[n(343)]+=4),i.contains(t.mouseX,t.mouseY)}[sn(335)](e,t){const n=sn;let s=e.render;if(!(e.visible==![]||e[n(373)]||s.stoped||s.destoryed==!![])){if(e._frames==0){(e._requestReapint==!![]||E._anyMatrixOrStyleDirty(e))&&(e._requestReapint=![],this._renderLayerBefore(e),s.renderLayer(e),e[n(332)]++);return}this._renderLayerBefore(e),s.renderLayer(e),e.renderTimes++}}[sn(363)](){cancelAnimationFrame(this.requestTimer)}[sn(333)](){const e=sn,t=this.stage,n=this,s=t[e(339)],i=t[e(346)],r=this.timeline,o=t[e(364)],a=t[e(344)];{let h=t[e(364)].timeline.begin;this.timeline.currentTime>=h&&(t[e(354)][e(349)]="painted")}const c=t.localView.mode==e(341);function l(){const h=e;if(t.destoryed)return;let p=Date.now();r.currentTime=p,a[h(342)](p);let b=![];!c&&(b=o[h(342)](p)),b==!![]&&(s._requestReapint=!![]),n[h(335)](s,p);for(let _=0;_<i.length;_++){let g=i[_];b&&(g._requestReapint=!![]),g.onUpdate!=null&&g[h(347)](),n._tickLayer(g,p)}n.requestTimer=requestAnimationFrame(l)}l()}}(function(x,e){const t=ee,n=x();for(;[];)try{if(parseInt(t(245))/1*(parseInt(t(232))/2)+parseInt(t(233))/3+-parseInt(t(258))/4*(-parseInt(t(247))/5)+parseInt(t(250))/6+-parseInt(t(254))/7*(-parseInt(t(237))/8)+-parseInt(t(257))/9*(-parseInt(t(255))/10)+-parseInt(t(241))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yx,924453);function ee(x,e){const t=Yx();return ee=function(n,s){return n=n-232,t[n]},ee(x,e)}function Yx(){const x=["http://www.w3.org/1999/xhtml","8592948hryjjl","MouseEvents","unionRects","translate","263557EDPUvF","10210ybqkKv","createElement","2934kYcJIP","28xsPrAZ","2426lwbQDM","2489205tYNQZV","<img src='","restore","map","56kJCawz","jtopo_","text/json","click","54818742HApTLL","toDataURL","forEach","createElementNS","1216OhpINv","isArray","1124765CuNSoL","context"];return Yx=function(){return x},Yx()}class Ja{constructor(e){this.stage=e,this.render=new Fr(e)}toDataURL(e){let n=Array[ee(246)](e)?e:[e];return this._exportPaint(n),this.render.toDataURL()}toImage(e){let t=this.toDataURL(e),n=new Image;return n.src=t,n}saveAsLocalImage(e,t){const n=ee;let s=this.toDataURL(e);t==null&&(t=n(238)+new Date().getTime()+".png"),this.saveDataAsFile(s,t)}saveImageInfo(e){const t=ee;let n=this[t(242)](e);window.open("about:blank").document.write(t(234)+n+"' alt='from canvas'/>")}download(e,t){const n=ee,s=new File([t],e,{type:n(239)});function i(r){const o=n,a=document[o(256)]("a"),c=URL.createObjectURL(r);a.href=c,a.download=r.name,document.body.appendChild(a),a[o(240)](),document.body.removeChild(a),URL.revokeObjectURL(c)}i(s)}_exportPaint(e){const t=ee;let n=this.render,s=e[t(236)](a=>a instanceof ht?a.toStageRect(a.getExportAABB()):a._obb.aabb),i=j[t(252)](s),r=Math.max(1,i.width),o=Math.max(1,i.height);n.setSize(r,o),n[t(248)].save(),n.context[t(253)](-i.x,-i.y),e[t(243)](function(a){n.exportPaintObjects([a])}),n.context[t(235)]()}saveDataAsFile(e,t){const n=ee;let s=document[n(244)](n(249),"a");s.href=e,s.download=t;let i=document.createEvent(n(251));i.initMouseEvent("click",!![],![],window,0,0,0,0,0,![],![],![],![],0,null),s.dispatchEvent(i)}}(function(x,e){for(var t=Ux,n=x();[];)try{var s=-parseInt(t(198))/1+-parseInt(t(204))/2+parseInt(t(205))/3*(-parseInt(t(199))/4)+parseInt(t(203))/5+-parseInt(t(202))/6*(-parseInt(t(201))/7)+-parseInt(t(207))/8+parseInt(t(206))/9;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vx,473856);function qa(x,e){for(var t in e){let n=e[t];Ga(x,t,n)}}function Ux(x,e){var t=Vx();return Ux=function(n,s){n=n-198;var i=t[n];return i},Ux(x,e)}function Ga(x,e,t){var n=Ux;t.writable==null&&(t[n(200)]=!![]),t.enumerable==null&&(t.enumerable=!![]),Object.defineProperty(x,e,t)}function Vx(){var x=["4031172nsmQZV","911235kpIuhR","1676142tMtfGL","9249NWXlxt","13666518sEaFjO","827336OEvPaq","275924MZRcbL","884QcgKvX","writable","7MxaYhx"];return Vx=function(){return x},Vx()}const kt=Jx;(function(x,e){const t=Jx,n=x();for(;[];)try{if(parseInt(t(324))/1*(-parseInt(t(318))/2)+parseInt(t(313))/3+-parseInt(t(330))/4+-parseInt(t(328))/5*(parseInt(t(321))/6)+-parseInt(t(315))/7+parseInt(t(325))/8+-parseInt(t(335))/9*(-parseInt(t(319))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qx,766903);var Za=Object[kt(317)],Ka=Object[kt(331)],Xr=(x,e,t,n)=>{for(var s=n>1?void 0:n?Ka(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Za(e,t,s),s};function Jx(x,e){const t=qx();return Jx=function(n,s){return n=n-310,t[n]},Jx(x,e)}function qx(){const x=["textPosition","autoSize","rotation","textBaseline","updateMatrix","prototype","1111269DMfjnA","rect","4370156WPIqcw","_calcTextSize","defineProperty","642724WVbnRh","545980lClJdb","bottom","6YAyZir","resizeToFitText","padding","2cWVkzH","965424PzkSsm","textAlign","right","7083735HoKqFH","toAABB","4977860Owepsj","getOwnPropertyDescriptor","top","_textWidth","_obb","693Fgckjq","pickType"];return qx=function(){return x},qx()}class ne extends M{constructor(e,t=0,n=0,s=1,i=1,r=!![]){super(e,t,n,s,i),this.autoDirection=!![],this._autoSize=!![],this.autoSize=r}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}[kt(311)](){const e=kt,t=this;if(t.autoDirection==!![]){let n=t._getOriginRotation();n<-Math.PI/2||n>Math.PI/2?t[e(339)]!==Math.PI&&(t.rotation=Math.PI):t.rotation!==0&&(t.rotation=0)}super[e(311)]()}_updateText(){this[kt(316)](),this._autoSize&&this.resizeToFitText(),this._calcTextPosition()}[kt(322)](){const e=kt;let n=this._computedStyle.calcGap();this.width=this[e(333)]+n,this.height=this._textHeight+n;let s=this._OBBPoints(),i=this._worldTransform.points(s),r=this[e(334)];r.localPoints=s,r.points=i,r.aabb=Bt[e(329)](i)}_calcTextPosition(){const e=kt,t=this._computedStyle;let n=t.borderWidth||0,s=(t[e(323)]||0)+(t.lineWidth|0);return(t.textBaseline==e(320)&&(t.textPosition=="lt"||t.textPosition=="ct"||t.textPosition=="rt")||t[e(310)]==e(332)&&(t.textPosition=="lb"||t.textPosition=="cb"||t.textPosition=="rb")||t[e(326)]==e(327)&&(t[e(337)]=="lt"||t[e(337)]=="lm"||t[e(337)]=="lb")||t[e(326)]=="left"&&(t.textPosition=="rt"||t[e(337)]=="rm"||t.textPosition=="rb"))&&(n=0,s=0),super._calcTextPosition(n,s)}}Xr([d("TextNode")],ne.prototype,"className",2),Xr([d(kt(314))],ne[kt(312)],kt(336),2),qa(ne.prototype,{serializers:{value:M.prototype.serializers.concat([kt(338),"autoDirection"])}});var We=Zx;(function(x,e){for(var t=Zx,n=x();[];)try{var s=parseInt(t(290))/1*(-parseInt(t(303))/2)+parseInt(t(289))/3*(-parseInt(t(302))/4)+-parseInt(t(305))/5+parseInt(t(288))/6*(-parseInt(t(295))/7)+-parseInt(t(307))/8+-parseInt(t(300))/9*(-parseInt(t(296))/10)+parseInt(t(291))/11*(parseInt(t(297))/12);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gx,510298);var Qa=Object[We(304)],$a=Object.getOwnPropertyDescriptor,tc=(x,e,t,n)=>{for(var s=n>1?void 0:n?$a(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Qa(e,t,s),s};function Gx(){var x=["5279600fWQZUD","313836nRmDAw","3CVhDQH","435877qUGqYK","28218179lCwFYY","width","radius","max","35yTZIeb","1298740NFnCIa","12gKNTis","prototype","Circle","27tTFBdK","setRadius","769660WYjLTR","4TGCkFj","defineProperty","2294820FyqMsM","sin"];return Gx=function(){return x},Gx()}class b0 extends M{constructor(e,t=0,n=0,s=1,i=1){var r=We;super(e,t,n,s,i),this.shape=D[r(299)],this.setRadius(s/2)}[We(301)](e=1){this.width=e*2,this.height=e*2}getRadius(){var e=We;return this[e(293)]}getPoint(e){var t=We;let n=Math[t(294)](this[t(292)],this.height)*.5,s=e*(2*Math.PI);return{x:this.x+n+n*Math.cos(s),y:this.y+n+n*Math[t(306)](s)}}}tc([d("CircleNode")],b0[We(298)],"className",2),Object.defineProperties(b0.prototype,{radius:{get(){var x=We;return Math[x(294)](this.width,this.height)*.5},set(x){this.setRadius(x)}}});function Zx(x,e){var t=Gx();return Zx=function(n,s){n=n-288;var i=t[n];return i},Zx(x,e)}const F=on;(function(x,e){const t=on,n=x();for(;[];)try{if(-parseInt(t(135))/1+parseInt(t(126))/2+-parseInt(t(114))/3*(parseInt(t(128))/4)+-parseInt(t(112))/5*(parseInt(t(133))/6)+parseInt(t(129))/7+-parseInt(t(117))/8+parseInt(t(109))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qx,145201);var ec=Object.defineProperty,nc=Object.getOwnPropertyDescriptor,rn=(x,e,t,n)=>{for(var s=n>1?void 0:n?nc(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&ec(e,t,s),s};class xe extends R{constructor(e,t,n,s,i){const r=on;super(e,t,n,s,i),this[r(138)]=3}[F(113)](e){const t=F;this.beginOffsetGap=e,this[t(137)]=!![]}setEndOffsetGap(e){this.endOffsetGap=e,this.matrixDirty=!![]}_calcFold1(e,t){const n=F;let s=this.beginOffsetGap,i=this[n(119)](e,t),r={x:e.x+i[0]*s,y:e.y+i[1]*s},o=this[n(123)];return o&&(r.x+=o.x,r.y+=o.y),r}_calcFold2(e,t){let n=this.endOffsetGap,s=this._calcFold2Vec(e,t),i={x:t.x+s[0]*n,y:t.y+s[1]*n},r=this.fold2Offset;return r&&(i.x+=r.x,i.y+=r.y),i}_calcFold1Vec(e,t){let n=dx(this.begin);if(n==null){let s=0,i=0;t.x>e.x?s=1:s=-1,n=[s,i]}return n}[F(134)](e,t){let n=dx(this.end);if(n==null){let s=0,i=-1;t.y>e.y?i=-1:i=1,n=[s,i]}return n}updatePoints(){const e=this._calcAZ(),t=e[0],n=e[1];return this._calcPointsByAZ(t,n)}_calcPointsByAZ(e,t){const n=F,s=this.absorb;let i=this._calcFold1Vec(e,t);if(i[0]==0&&Math.abs(e.x-t.x)<s){let p=(e.x+t.x)*.5;e.x=p,t.x=p}if(i[1]==0&&Math.abs(e.y-t.y)<s){let p=(e.y+t.y)*.5;e.y=p,t.y=p}let r=this._calcFold1(e,t),o=this._calcFold2(e,t);const a=xc(this,e,t,r,o);let c=a[0],l=a[1];{if(T[n(136)](c,l,.5)==![]){const _=Math[n(120)](T.getAngle(c,l)).toFixed(6);this._preAngle!=null&&this._preAngle!=_&&(this.centerOffset=null),this._preAngle=_}let b=this.centerOffset;b&&(c.x+=b.x,c.y+=b.y,l.x+=b.x,l.y+=b.y)}return[e,r,c,l,o,t]}[F(130)](){const e=F;if(super._afterUpdateMatrix(),this._needCalcOffset()){let t=this[e(132)][0],n=this.points[this[e(132)].length-1],s=this[e(115)][0],i=this.offsetPoints[this.offsetPoints.length-1];this[e(132)]=this._calcPointsByAZ(s,i),this.points[0]=t,this[e(132)][this.points.length-1]=n}}getMergedPoints(){return T.mergeClosestPoints(this.points)}[F(131)](e,t){const n=F;let s=this.fold1Offset;s==null&&(s={x:0,y:0},this[n(123)]=s),q0(this[n(108)](0,.5))?(s.y=0,t=0):(s.x=0,e=0),s.x+=e,s.y+=t,this[n(137)]=!![]}setFold2Offset(e,t){const n=F;let s=this.fold2Offset;s==null&&(s={x:0,y:0},this[n(124)]=s),q0(this[n(108)](4,.5))?(s.y=0,t=0):(s.x=0,e=0),s.x+=e,s.y+=t,this.matrixDirty=!![]}setCenterOffset(e,t){const n=F;let s=this.centerOffset;s==null&&(s={x:0,y:0},this.centerOffset=s),q0(this.getK(2,.5))?(s.x=0,e=0):(s.y=0,t=0),s.x+=e,s.y+=t,this[n(137)]=!![]}resetOffset(){this.centerOffset=void 0,this.fold1Offset=null,this.fold2Offset=null,this.matrixDirty=!![]}}rn([d(F(127))],xe.prototype,F(110),2),rn([d(15)],xe.prototype,F(122),2),rn([d(15)],xe.prototype,"endOffsetGap",2),rn([d(function(){const x=F;let e=this.getMergedPoints(),t=e.length;return t<4?[x(121),"end"]:t==4||t==5?["begin","end","fold1","fold2"]:[x(121),"end","fold1","fold2","center"]})],xe.prototype,"getCtrlPoints",2),rn([d(R.prototype.serializers.concat(["beginOffsetGap",F(116),F(123),F(124),F(118)]))],xe.prototype,"serializers",2);const ye={};ye[v.begin]=function(){return this.points[0]},ye[v.fold1]=function(){return this[F(132)][1]},ye[v.mid1]=function(){return this.points[2]},ye[v.mid2]=function(){return this.points[3]},ye[v[F(125)]]=function(){return this.points[4]},ye[v.end]=function(){return this[F(132)][5]},ye[v.center]=function(){const x=F;return T.middle(this[x(132)][2],this.points[3])},xe.prototype.DefaultPositions=ye;function Kx(x,e){const t=F;return Math.abs(e[0])>Math.abs(e[1])?x.x*Math.sign(e[0]):x.y*Math[t(111)](e[1])}function on(x,e){const t=Qx();return on=function(n,s){return n=n-108,t[n]},on(x,e)}function Yr(x,e,t){let n=Kx(x,e);return Kx(t,e)-n}function Vi(x,e,t,n){let s=Kx(x,t),i=Kx(e,n),r=t[0]!=0;return s>i?r?{x:x.x,y:e.y}:{x:e.x,y:x.y}:r?{x:e.x,y:x.y}:{x:x.x,y:e.y}}function xc(x,e,t,n,s){const i=F,r=x[i(119)](e,t),o=x._calcFold2Vec(e,t),a=B.dot(r,o);if(a==1){let p=Vi(n,s,r,o);return[p,p]}if(a==-1){const p=T.middle(n,s);let b=Vi(n,p,r,r),_=Vi(s,p,o,o);return[b,_]}let c=J0(e,n,t,s,!![]),l=Yr(e,r,c),h=Yr(t,o,c);if(l>0&&h>0)return[c,c];{const p=[-r[1],r[0]],b={x:n.x+p[0],y:n.y+p[1]},_=[-o[1],o[0]],g={x:s.x+_[0],y:s.y+_[1]};let I=J0(n,b,s,g,!![]);if(I!=null)return[I,I]}throw new Error("assert failed getMid1AndMid2")}function Qx(){const x=["fold1Offset","fold2Offset","fold2","367862LwLyeU","AutoFoldLink","430356GiMNbA","158466TyCfXc","_afterUpdateMatrix","setFold1Offset","points","15654WxpdOk","_calcFold2Vec","50415TvjkTa","looksSame","matrixDirty","absorb","getK","4100301SsZsUL","className","sign","375qWPybB","setBeginOffsetGap","3nQMmAQ","offsetPoints","endOffsetGap","1306224DxVwBN","centerOffset","_calcFold1Vec","abs","begin","beginOffsetGap"];return Qx=function(){return x},Qx()}function $x(x,e){const t=es();return $x=function(n,s){return n=n-287,t[n]},$x(x,e)}const Ht=$x;(function(x,e){const t=$x,n=x();for(;[];)try{if(parseInt(t(297))/1+-parseInt(t(288))/2*(-parseInt(t(295))/3)+parseInt(t(296))/4+-parseInt(t(303))/5+-parseInt(t(293))/6+-parseInt(t(289))/7*(parseInt(t(290))/8)+parseInt(t(301))/9*(parseInt(t(292))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(es,805560);var sc=Object[Ht(300)],ic=Object.getOwnPropertyDescriptor,ts=(x,e,t,n)=>{for(var s=n>1?void 0:n?ic(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&sc(e,t,s),s};class _e extends R{constructor(e,t,n,s,i){super(e,t,n,s,i)}getFold1(e,t){const n=Ht;let s=(t.y-e.y)/2,i=(t.x-e.x)/2;return this[n(299)]==ke.horizontal?{x:e.x+i,y:e.y}:{x:e.x,y:e.y+s}}[Ht(291)](e,t){const n=Ht;let s=(t.y-e.y)/2,i=(t.x-e.x)/2;return this.direction==ke[n(298)]?{x:t.x-i,y:t.y}:{x:t.x,y:t.y-s}}updatePoints(){const e=this._calcAZ(),t=e[0],n=e[1];let s=this.getFold1(t,n),i=this.getFold2(t,n),r={x:(s.x+i.x)/2,y:(s.y+i.y)/2};const o=[t,s,r,i,n];if(this.points=o,this.endArrow){let a=o.length-2;this.endArrow.origin[0]=a}return o}}function es(){const x=["28174zPawHF","14cNYkUQ","1015352RBWrFf","getFold2","10vbdUFy","2718798tGggZV","prototype","147GZzzdF","265472tFhwjA","74004bTbIDP","horizontal","direction","defineProperty","18590085yFAelY","offsetGap","6918345LqdLuc","getPoints"];return es=function(){return x},es()}ts([d("FlexionalLink")],_e[Ht(294)],"className",2),ts([d(R[Ht(294)].serializers.concat(["direction",Ht(302)]))],_e.prototype,"serializers",2),ts([d(ke.horizontal)],_e[Ht(294)],"direction",2),ts([d(44)],_e.prototype,"offsetGap",2);const y0={};y0[v.begin]=function(){return this.getPoints()[0]},y0[v.fold1]=function(){return this.getPoints()[1]},y0[v.center]=function(){return this[Ht(287)]()[2]},y0[v.fold2]=function(){return this[Ht(287)]()[3]},y0[v.end]=function(){return this.getPoints()[4]},_e.prototype.DefaultPositions=y0;var an=Fe;(function(x,e){for(var t=Fe,n=x();[];)try{var s=-parseInt(t(457))/1*(-parseInt(t(463))/2)+parseInt(t(453))/3*(parseInt(t(456))/4)+parseInt(t(468))/5*(parseInt(t(462))/6)+parseInt(t(454))/7*(parseInt(t(466))/8)+parseInt(t(465))/9+parseInt(t(460))/10*(-parseInt(t(459))/11)+-parseInt(t(458))/12;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ns,509919);var rc=Object.defineProperty,oc=Object.getOwnPropertyDescriptor,Ur=(x,e,t,n)=>{for(var s=Fe,i=n>1?void 0:n?oc(e,t):e,r=x[s(455)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&rc(e,t,i),i};function Fe(x,e){var t=ns();return Fe=function(n,s){n=n-451;var i=t[n];return i},Fe(x,e)}class _0 extends R{constructor(e,t,n,s,i){var r=Fe;super(e,t,n,s,i),this.direction=r(467)}updatePoints(){var e=Fe;const t=this._calcAZ(),n=t[0],s=t[1];let i;return n.x==s.x||n.y==s.y?i=T[e(451)](n,s):this.direction==ke.horizontal?i={x:s.x,y:n.y}:i={x:n.x,y:s.y},[n,i,s]}}function ns(){var x=["length","33372flXBYE","507100CglNAr","34549824uXZIjX","20009xHEZjv","5210glaSBa","prototype","240yDPoxw","4mxSMnO","getPoints","7913655ubpSPn","99392UzrYfr","horizontal","117770bUNStw","middle","className","303ggkAMR","371aSwgek"];return ns=function(){return x},ns()}Ur([d("FoldLink")],_0[an(461)],an(452),2),Ur([d(R.prototype.serializers.concat(["direction"]))],_0[an(461)],"serializers",2);const xs={};xs[v.begin]=function(){return this.getPoints()[0]},xs[v.end]=function(){var x=an;return this[x(464)]()[2]},xs[v.center]=function(){return this.getPoints()[1]},_0[an(461)].DefaultPositions=xs;function ut(x,e){const t=ss();return ut=function(n,s){return n=n-470,t[n]},ut(x,e)}(function(x,e){const t=ut,n=x();for(;[];)try{if(parseInt(t(499))/1+-parseInt(t(474))/2+parseInt(t(485))/3+-parseInt(t(476))/4+parseInt(t(482))/5+-parseInt(t(479))/6*(parseInt(t(470))/7)+parseInt(t(502))/8*(parseInt(t(498))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ss,692570);function ss(){const x=["unlink","setXYOnLink","removeChild","Arrow","inLinks","width","207DJZZKJ","1027973FSlGNs","asLabel","parent","381728pxhCbh","getRect","35iNhnGn","getCenter","push","outLinks","2355934RmZRir","getBeginPoint","3525980POjaGU","hasChild","endArrow","1000362NJeDee","connectable","length","5880280qtHPXu","label","polygon","852510eAuUge","children","getUnionRect","resizeTo","setShape","setXYButChildFixed","getMiddleOrigin"];return ss=function(){return x},ss()}class Xt{static createPologyNode(e,t=1,n=1){const s=ut;let i=new M;return i.setShape(D[s(484)](e)),i.resizeTo(t,n),i}static getUnionRect(e){const t=ut;let n=e[0][t(503)]();for(let s=1;s<e.length;s++)n=j.union(n,e[s][t(503)]());return n}static setXYButChildFixed(e,t,n){const s=ut;let i=e[s(486)];e.x+=t,e.y+=n;for(let r=0;r<i[s(481)];r++){const o=i[r];o instanceof M&&(o.x-=t,o.y-=n)}}static sizeFitToChildren(e,t){const n=ut;let s=e.getChildren();if(s[n(481)]==0)return;let i=Xt.getUnionRect(s);t==null&&(t=0);let r=t*2;e[n(488)](i[n(497)]+r,i.height+r);let o=i.x+e.width/2,a=i.y+e.height/2;Xt[n(490)](e,o-t,a-t)}static translateObjectsCenterTo(e,t,n){const s=ut;let i={x:t,y:n},r=[];r=r.concat(e);let o=Xt[s(487)](r),a=o[s(471)](),c=i.x-a.x,l=i.y-a.y;r.forEach(h=>{h.translateWith(c,l)})}static travel(e,t,n,s){const i=ut;if(s==null)s=[];else if(z[i(477)](s,e))return null;if(t&&t(e,n),s[i(472)](e),e instanceof M){let o=e[i(473)];if(o!=null)for(var r=0;r<o.length;r++){let a=o[r];Xt.travel(a,t,e,s)}}else e instanceof R&&e.end.isDisplayObjectTarget()&&Xt.travel(e.end.target,t,n,s);return s}}class m0{static disconnect(e,t){const n=ut;if(e instanceof R){e[n(492)]();return}let s=e.inLinks;s!=null&&(s.forEach(r=>{r[n(501)]!=null&&(t!=null&&t.indexOf(r)!=-1||r.setEnd(r.getEndPoint()))}),e[n(496)]=[]);let i=e.outLinks;i!=null&&(i.forEach(r=>{const o=n;r.parent!=null&&(t!=null&&t.indexOf(r)!=-1||r.setBegin(r[o(475)]()))}),e.outLinks=[])}static createLabel(e,t){const n=ut;if(e.label==null){const s=new ne(t);return s.editable=![],s.draggable=![],s[n(480)]=![],s.mouseEnabled=![],s.autoSize=!![],s.alignOriginToLink("cb",0,.5),m0[n(500)](e,s),s}return e.label.text=t,e[n(483)]}static asLabel(e,t){const n=ut;e.label!=null&&e[n(494)](e[n(483)]),e.label=t,e.children.indexOf(e.label)==-1&&e.addChild(e.label);let s=m0[n(491)](e);return t[n(493)](s.segIndex,s.t),t}static getMiddleOrigin(e){let t=0,n=.5;return e instanceof _0?n=1:e instanceof _e?t=1:e instanceof xe&&(t=2),{segIndex:t,t:n}}static createArrow(e,t=10,n=10){const s=ut;let i=new M;return i.resizeTo(t,n),e==null?i.setShape(D[s(495)]):i[s(489)](D.fromPoints(e)),i.editable=![],i.draggable=![],i.connectable=![],i.mouseEnabled=![],i}static asBeginArrow(e,t){return e.beginArrow!=null&&e.removeChild(e.beginArrow),e.children.indexOf(t)==-1&&e.addChild(t),e.beginArrow=t,t}static asEndArrow(e,t){const n=ut;return e.endArrow!=null&&e.removeChild(e[n(478)]),e.children.indexOf(t)==-1&&e.addChild(t),e.endArrow=t,t}}const pt=me;(function(x,e){const t=me,n=x();for(;[];)try{if(parseInt(t(215))/1+parseInt(t(209))/2+parseInt(t(202))/3*(parseInt(t(199))/4)+-parseInt(t(218))/5+parseInt(t(197))/6*(parseInt(t(182))/7)+parseInt(t(207))/8*(-parseInt(t(220))/9)+parseInt(t(193))/10*(parseInt(t(201))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(rs,600680);function me(x,e){const t=rs();return me=function(n,s){return n=n-181,t[n]},me(x,e)}class is{constructor(e,t){this.objects=e,this.animationList=t}remove(){const e=me;this.objects[e(208)](t=>t.remove()),this[e(187)].forEach((t,n)=>{t.cancel()})}play(){this[me(187)].forEach((t,n)=>{t.play()})}}class Ji{constructor(e,t){const n=me;this.stage=e,this[n(204)]=t}xyToCenter(e,t={x:0,y:0}){return this[me(200)](e,t)}[pt(200)](e,t={x:0,y:0}){const n=pt;let s=t.x||0,i=t.y||0;return this.animationSystem[n(206)]({from:[e.x,e.y],to:[-s,-i],update:o=>{e.x=o[0],e.y=o[1]},effect:"easeInOutElastic"})}flash(e,t={}){const n=pt;let s=t[n(184)]||3,i=t[n(181)]||100;return this[n(204)].anime({from:[0],to:[1],update:a=>{e.css({globalAlpha:a[0]})},times:s,effect:"easeOutBounce",duration:i})}[pt(183)](e,t={}){const n=pt;let s=t.position||"center",i=t[n(190)]||0,r=t.beginHeight||0,o=this.animationSystem,a=[i,r,e.x,e.y],c=[e.width,e.height,e.x,e.y];return s==n(194)?a=[i,r,e.x,e.y]:s=="lt"?a=[i,r,e.x-e.width*.5,e.y-e.height*.5]:s=="rt"?a=[i,r,e.x+e[n(185)]*.5,e.y-e.height*.5]:s=="lb"?a=[i,r,e.x-e[n(185)]*.5,e.y+e.height*.5]:s=="rb"?a=[i,r,e.x+e[n(185)]*.5,e.y+e.height*.5]:s=="ct"?a=[e[n(185)],r,e.x,e.y-e.height*.5]:s=="cb"?a=[e.height,r,e.x,e.y+e.height*.5]:s=="lm"?a=[i,e.height,e.x-e.width*.5,e.y]:s=="rm"&&(a=[i,e.height,e.x+e.width*.5,e.y]),o.anime({from:a,to:c,update:h=>{e.scaleTo(h[0]/e.width,h[1]/e.height),e.translateTo(h[2],h[3])},effect:n(214)})}unexpandScale(e,t={}){const n=pt;let s=t.position||"center",i=t[n(211)]||0,r=t.minHeight||0,o=this.animationSystem,a=[e.width,e.height,e.x,e.y],c=[i,r,e.x,e.y];return s=="center"?c=[i,r,e.x,e.y]:s=="lt"?c=[i,r,e.x-e[n(185)]*.5,e.y-e.height*.5]:s=="rt"?c=[i,r,e.x+e.width*.5,e.y-e.height*.5]:s=="lb"?c=[i,r,e.x-e.width*.5,e.y+e[n(191)]*.5]:s=="rb"?c=[i,r,e.x+e.width*.5,e.y+e.height*.5]:s=="ct"?c=[i,r,e.x,e.y-e.height*.5]:s=="cb"?c=[i,r,e.x,e.y+e.height*.5]:s=="lm"?c=[i,r,e.x-e.width*.5,e.y]:s=="rm"&&(c=[i,r,e.x+e[n(185)]*.5,e.y]),o.anime({from:a,to:c,update:h=>{e.scaleTo(h[0]/e.width,h[1]/e.height),e.translateTo(h[2],h[3])},effect:n(214)})}flow(e,t={}){const n=pt;let s=t[n(196)]||e[n(210)].lineDash||[3,2],i=t.direction||n(205),r=t[n(181)]||1e4,o=t[n(221)]||300,a=i==n(205)?1:-1,c=this.animationSystem;return e.css({lineDash:s}),c.anime({from:0,to:o,update:h=>{e.css({lineDashOffset:-h*a})},times:1/0,duration:r})}rippling(e={}){const t=pt;let n=e[t(212)]||50,s=e.color||"rgba(128,128,128,0.8)",i=e.count||3,r=e[t(219)]||8,o=this.animationSystem,a=[],c=new b0(null,0,0);c.mouseEnabled=![],c.setRadius(n);for(let _=0;_<i;_++){let g=new b0(null,0,0);g.mouseEnabled=![],g.css("strokeStyle",s),g.setRadius(1),c.addChild(g)}let l=c.children,h=n/i,p=o.anime({from:[1],to:[n],update:_=>{let g=_[0];for(let I=0;I<l.length;I++){let m=l[I],C=g+I*h;C>n&&(C=C%n);let S=C/n;m.setRadius(C),m.css({lineWidth:S*r,globalAlpha:.1})}},times:1/0,duration:2e3});return a[t(217)](p),new is([c],a)}colorFilter(e,t){const n=pt;let s=this.stage.exportSystem.toImage(e);s[n(198)]=()=>{s=Lt[n(216)](s,t),e.setImage(s,!![])}}imageFilter(e,t){const n=pt;e[n(195)](s=>{const i=n;if(s==null)return;let r=Lt.colorFilter(s,t);e[i(188)](r)})}linkMark(e,t={color:"red"}){const n=pt;let s=t.text||"❌️",i=new ne(s,0,0);i.draggable=![],i.editable=![],i.connectable=![],i.css({textPosition:n(194),textBaseline:"middle",textAlign:"center",color:t.color||"red"}),t[n(186)]!=null&&i.css({font:t[n(186)]});let r=m0.getMiddleOrigin(e);return i.setXYOnLink(r.segIndex,r.t),e.addChild(i),i}[pt(222)](e,t=60,n=60){const s=pt;let i=new Te(0,0,0,n),r=new M(null,0,0,t,n);e==null&&(e=["white","green",s(213)]),i[s(189)]([[0,e[0]],[.5,e[1]],[1,e[2]]]);let o=this.animationSystem[s(206)]({from:0,to:1,duration:2500,update:c=>{const l=s;c=c<0?0:c,i.startX=Math.random()+Math.cos(c*2*Math.PI)*10,i.startY=-10+Math[l(203)](c*2*Math.PI)*5,i[l(189)]([[0,e[0]],[.2*c,e[1]],[1,e[2]]])}});return o.direction="alternate",o.times=1/0,r[s(192)]({fillStyle:i}),new is([r],[o])}}function rs(){const x=["9xjmjpN","distance","waterLike","duration","770203INRcbV","expandScale","times","width","font","animationList","setImage","setColors","beginWidth","height","css","2083920pGDRQg","center","getImage","lineDash","6NUCaUc","onload","63568dRAaAX","lookAt","33wClRwP","9mblaXI","cos","animationSystem","clockwise","anime","9032400kyBbUx","forEach","389054tZepDH","style","minWidth","radius","rgb(0,87,55)","easeOutCubic","845211hrzczi","colorFilter","push","464445DKQsVA","lineWidth"];return rs=function(){return x},rs()}const Pt=I0;function os(){const x=["1759640MnjurY","toJSON","set","executeBehaviours","name","regBehaviour","isNaN","addBehaviour","argMap","map","get","1693164jcDGhn","2513DHFwMp","toString","update","471358eElbJP","length","3690144AnrQTW","30rnAMiF","fromJSON","3qSdsFx","104905gDurJq","2614360liMgNQ","first","4008AkiTAV"];return os=function(){return x},os()}(function(x,e){const t=I0,n=x();for(;[];)try{if(-parseInt(t(389))/1+-parseInt(t(383))/2*(parseInt(t(388))/3)+-parseInt(t(404))/4+parseInt(t(393))/5+parseInt(t(392))/6*(-parseInt(t(405))/7)+-parseInt(t(390))/8+parseInt(t(385))/9*(parseInt(t(386))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(os,251494);function I0(x,e){const t=os();return I0=function(n,s){return n=n-383,t[n]},I0(x,e)}class ac{constructor(e){const t=I0;this.map=new Map,this[t(401)]=new WeakMap,this.behaviourMap=new Map,this.stoped=![],this.stage=e}tick(e){const t=I0;if(this.stoped)return;let n=this.map.keys();for(let s of n)this[t(396)](s,t(407))}defBehaviour(e,t){let n=new as(e);return Object.assign(n,t),this.regBehaviour(n),n}[Pt(398)](e){this.behaviourMap.set(e.name,e)}[Pt(400)](e,t,n){const s=Pt;let i=this.behaviourMap.get(t);if(i==null)throw new Error("behaviours not exist:"+t);let r=this.map[s(403)](e);r==null?(r=[],this.map[s(395)](e,r),r.push(i)):r.indexOf(i)==-1&&r.push(i),n!=null&&(r[t]=n),i.first(e,n)}removeBehaviour(e,t){const n=Pt;let s=this.map[n(403)](e);if(s!=null)for(let i=0;i<s[n(384)];i++){let r=s[i];if(r[n(397)]==t){z.remove(s,r);return}}}[Pt(396)](e,t){const n=Pt;let s=this[n(402)][n(403)](e);if(s!=null)for(let i=0;i<s.length;i++){let r=s[i];if(t==n(407)){let o=s[r.name];if(r.update!==as.prototype.update&&r.update(e,o)==![])return![]}}return null}}class as{constructor(e){const t=Pt;if(typeof e=="number"||!Number[t(399)](parseInt(e)))throw new Error("behaviour name cannot be number:"+e);this[t(397)]=e}first(e,t){}[Pt(407)](e,t){}static[Pt(387)](e){const t=Pt;let n=new as(e.name);return n.first=new Function("return "+n.first)(),n[t(407)]=new Function("return "+n.update)(),n}[Pt(394)](){const e=Pt;return{name:this[e(397)],first:this[e(391)].toString(),update:this.update[e(406)]()}}}function cs(){const x=["parent","rect","295311rCQHap","push","children","132085wkacNG","flatten","translateWith","join","2819456PPBmvb","7icPxie","54ZEexjV","text","2979RcorGT","1306230bOAUMK","length","union","concat","width","670rZzDXA","toString","getRect","object","8VHwqab","5501870xtXJtH","height","15507EDsUYg"];return cs=function(){return x},cs()}const Ie=He;function He(x,e){const t=cs();return He=function(n,s){return n=n-274,t[n]},He(x,e)}(function(x,e){const t=He,n=x();for(;[];)try{if(parseInt(t(293))/1+-parseInt(t(275))/2*(-parseInt(t(277))/3)+-parseInt(t(287))/4*(-parseInt(t(296))/5)+parseInt(t(278))/6+parseInt(t(274))/7*(parseInt(t(300))/8)+parseInt(t(290))/9*(-parseInt(t(283))/10)+-parseInt(t(288))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cs,329482);class w0{constructor(e=0,t=0,n=1,s=1){const i=He;this.x=0,this.y=0,this[i(282)]=1,this.height=1,this[i(292)]=new j(0,0,1,1),this[i(295)]=[],this.object=null,this.x=e,this.y=t,this.width=n,this.height=s}fromObject(e){this.object=e,this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}setObject(e){this.object=e}getRect(e=![]){const t=He;return this.rect.setTo(this.x,this.y,this.width,this[t(289)]),e?j[t(280)](this.rect,this.getChildrenRect(!![])):this.rect}getChildrenRect(e){const t=He;let n=this.children,s=n[0].getRect(e);for(let i=1;i<n.length;i++)s=j.union(s,n[i][t(285)](e));return s}[Ie(298)](e,t){this.x+=e,this.y+=t}translateTo(e,t){this.x=e,this.y=t}addChild(e){const t=Ie;e[t(291)]=this,this.children[t(294)](e)}translateWithRecursive(e,t){const n=Ie;this.translateWith(e,t);let s=this[n(295)];for(var i=0;i<s[n(279)];i++)s[i].translateWithRecursive(e,t)}flatten(e){const t=Ie;let n=[];for(var s=0;s<this[t(295)].length;s++){let i=this.children[s];if((e==null||e(i)==!![])&&(n.push(i),i.children&&i.children.length>0)){let r=w0[t(297)](i.children,e);n=n[t(281)](r)}}return n}[Ie(284)](){const e=Ie;return this[e(286)][e(276)]+": 	"+w0.flatten(this[e(295)]).map(n=>n.object[e(276)])[e(299)](",")}static getVNodeUnionRect(e){const t=Ie;let n=e[0].getRect();for(let s=1;s<e[t(279)];s++)n=j[t(280)](n,e[s][t(285)]());return n}static flatten(e,t){const n=Ie;let s=[];for(var i=0;i<e.length;i++){let r=e[i];if((t==null||t(r)==!![])&&(s.push(r),r[n(295)]&&r.children.length>0)){let o=w0.flatten(r[n(295)],t);s=s[n(281)](o)}}return s}}function we(x,e){const t=ls();return we=function(n,s){return n=n-366,t[n]},we(x,e)}const v0=we;(function(x,e){const t=we,n=x();for(;[];)try{if(parseInt(t(370))/1*(-parseInt(t(385))/2)+-parseInt(t(384))/3*(-parseInt(t(388))/4)+parseInt(t(389))/5+parseInt(t(379))/6*(-parseInt(t(371))/7)+parseInt(t(381))/8+parseInt(t(367))/9*(parseInt(t(387))/10)+-parseInt(t(375))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ls,522632);class cc{constructor(e){const t=we;this.deep=0,this.root=e,this[t(368)]=e[t(369)](),this[t(383)]=[e].concat(this.descendants),this[t(380)]=this.allVirtualNodes.map(n=>n.object),this[t(377)]=[],this[t(374)]()}[v0(374)](){let e=[];const t=this;function n(s,i){const r=we;t.deep<i&&(t.deep=i);let o=s.children,a=e[i];a==null&&(a=[],e[i]=a),a[r(376)](s);for(var c=0;c<o.length;c++)n(o[c],i+1)}n(this.root,0),this.indexData=e}[v0(366)](){const e=v0,t=this.root[e(369)]();if(t[e(373)]==0)throw new Error(e(372));let n=t[0].getRect();for(let s=1;s<t.length;s++){const i=t[s];n=j.union(n,i.getRect())}return n}centerTo(e,t){const n=this.allVirtualNodes;let s=this.root.getRect();n.forEach(a=>{s=j.union(s,a.getRect())});let i=s.getCenter(),r=e-i.x,o=t-i.y;return n.forEach(a=>{a[we(382)](r,o)}),this}translateTo(e,t){const n=v0,s=this.allVirtualNodes;let i=this[n(386)].getRect();s.forEach(a=>{const c=n;i=j.union(i,a[c(366)]())});let r=e-i.x,o=t-i.y;return s.forEach(a=>{a.translateWith(r,o)}),this}[v0(382)](e,t){return this.allVirtualNodes.forEach(s=>{s[we(382)](e,t)}),this}getLeafs(){const e=v0;return this.indexData[this[e(378)]]}}function ls(){const x=["descendants","flatten","20924DbWyBr","266zHTfKk","getRect() in empty tree","length","index","9149184vIomFL","push","indexData","deep","31182UFTHSz","allObjects","5823144yrPkuJ","translateWith","allVirtualNodes","34632Dxpowx","94rCzXeF","root","110XyACzx","344oNkFTx","3710450RcEdKP","getRect","59337JHCakz"];return ls=function(){return x},ls()}const U=cn;(function(x,e){const t=cn,n=x();for(;[];)try{if(-parseInt(t(374))/1+-parseInt(t(388))/2+-parseInt(t(397))/3*(parseInt(t(380))/4)+-parseInt(t(381))/5+parseInt(t(386))/6+parseInt(t(382))/7+parseInt(t(387))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hs,112040);function hs(){const x=["inputs","traverse","filter","isTrace","3uQJXwB","isAdjacent","vertexes","from","33060CmOawF","check","edges","getInDegree","outputs","length","81096wGztWQ","973460ETnnMe","938175MSUrYA","isClose","map","has","1077252vEYHcS","552136sJvqhW","45036KhVShk","getMaxDegreeVertext","push","getAdjacentList","hasDirection"];return hs=function(){return x},hs()}function cn(x,e){const t=hs();return cn=function(n,s){return n=n-372,t[n]},cn(x,e)}class Xe{constructor(){this.inputs=[],this.outputs=[]}getDegree(){return this.getInDegree()+this.getOutDegree()}[U(377)](){return this.inputs.length}getOutDegree(){const e=U;return this[e(378)][e(379)]}[U(391)](){const e=U;let t=this[e(378)][e(384)](s=>s.to),n=this.inputs.map(s=>s[e(373)]);return t.concat(n)}}class us{constructor(e,t){const n=U;this.weight=0,this[n(373)]=e,this.to=t,e.outputs[n(390)](this),t[n(393)].push(this)}isLoop(){return this.from===this.to}[U(398)](e){const t=U;return this.from===e.from||this[t(373)]===e.to||this.to===e.from||this.to===e.to}}class Vr{constructor(e){const t=U;this[t(372)]=e}[U(383)](e){return![]}[U(396)](e){return![]}isCircuit(e){const t=U;return this.isClose(e)&&this[t(396)](e)}isTrack(e){return![]}isCycle(e){return this[U(383)](e)&&this.isTrack(e)}}class k0{constructor(e,t){const n=U;this[n(392)]=!![],this.vertexes=e,this.edges=t}isZero(){const e=U;return this[e(372)].length>0&&this[e(376)][e(379)]==0}isAlone(){return this.vertexes.length==1&&this.edges.length==0}traverse(e,t="depth",n=[],s=new Set){const i=U;e==null&&(e=this.vertexes[0]);let r=this;if(!s[i(385)](e)&&(n.push(e),s.add(e)),t=="depth")e.getAdjacentList()[i(395)](a=>!s.has(a)).map(a=>{const c=i;!s.has(a)&&(n.push(a),s.add(a)),r[c(394)](a,t,n,s)});else{let o=e.getAdjacentList().filter(a=>!s.has(a));o.map(a=>{n.push(a),s.add(a)}),o.map(a=>{r.traverse(a,t,n,s)})}return n}[U(389)](){let e=this.vertexes[0];for(let t=1;t<this.vertexes.length;t++){const n=this.vertexes[t];n.getDegree()>e.getDegree()&&(e=n)}return e}getMinDegree(){const e=U;let t=this[e(372)][0].getDegree();for(let n=1;n<this[e(372)].length;n++){const s=this.vertexes[n];s.getDegree()<t&&(t=s.getDegree())}return t}getPathList(e,t,n=new Set){return[]}getOrder(){const e=U;return this.vertexes[e(379)]}isBridge(){}isSubGraph(e){}isTree(){const e=U;return this[e(372)].length!=this.edges.length+1?![]:this.vertexes.length==1?!![]:this.vertexes[e(395)](n=>n.getDegree()==1)[e(379)]>0}travelNext(e){let t=[];function n(s){t.push(s);let i=s.outputs.map(r=>r.to);for(let r=0;r<i.length;r++){let o=i[r];if(o===e)return;n(o)}}return n(e),t}clone(){const e=U;let t=this.vertexes.slice();t.forEach(i=>{const r=cn;i.inputs=i.inputs.slice(),i[r(378)]=i.outputs.slice()});let n=this[e(376)].slice(),s=new k0(t,n);return s.hasDirection=this.hasDirection,s}[U(375)](){const e=U;let t=0;this[e(372)].forEach(s=>t+=s.getDegree()),console.assert(t==this[e(376)].length*2);let n=this.vertexes[e(395)](s=>s.getDegree()%2!=0).length;console.assert(n%2==0)}}const Yt=fs;(function(x,e){const t=fs,n=x();for(;[];)try{if(-parseInt(t(444))/1*(parseInt(t(459))/2)+-parseInt(t(464))/3*(parseInt(t(456))/4)+parseInt(t(469))/5+-parseInt(t(461))/6+-parseInt(t(478))/7*(parseInt(t(466))/8)+-parseInt(t(463))/9+parseInt(t(472))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ds,159666);function ds(){const x=["234882PDSCHy","set","1908iVARNb","33JxGHJT","forEach","440QyQniL","vertexes","filter","254385thuHtS","from","edges","4726510yDHLXU","sort","map","push","getNodes","toGraphs","24976axGmZR","has","begin","1117UpIUgZ","end","travelVertext","outputs","getLinks","object","isTree","weight","get","getOutDegree","toTree","fromObject","3992BdqpZn","addChild","createMinimalSpanningTree","210wDiqDI","add"];return ds=function(){return x},ds()}function fs(x,e){const t=ds();return fs=function(n,s){return n=n-443,t[n]},fs(x,e)}class Ye{static[Yt(458)](e){const t=Yt;let n=[],s=[],i=e.edges[t(473)]((a,c)=>{const l=t;let h=a.weight-c[l(451)];return h==0&&(h=a[l(470)].getInDegree()-c.from.getInDegree(),h==0&&(h=c.to.getOutDegree()-a.to[l(453)]())),h}),r=new WeakMap;for(let a=0;a<i.length;a++){const c=i[a];let l=c.from,h=c.to,p=r.get(l),b=r.get(h);if(p!=null&&b!=null)continue;p==null&&(p=new Xe,p.object=l.object,n.push(p),r.set(l,p)),b==null&&(b=new Xe,b.object=h.object,n.push(b),r[t(462)](h,b));let _=new us(p,b);_[t(449)]=c.object,s.push(_)}return new k0(n,s)}[Yt(476)](e){return e.vertexes.map(t=>t.object)}[Yt(448)](e){return e.edges.map(t=>t.object)}objectsToGraphs(e){const t=Yt,n=e[t(468)](c=>c instanceof M);let s=e.filter(c=>c instanceof R);s.filter(c=>c.begin.isNodeTarget()&&c[t(445)].isNodeTarget());const i=new WeakMap,r=n.map(c=>{const l=t,h=new Xe;return h[l(449)]=c,i[l(462)](c,h),h});s[t(468)](c=>{const l=t;return i[l(452)](c.begin.target)&&i[l(452)](c.end.target)});const o=s.map(c=>{let l=i.get(c.begin.target),h=i.get(c.end.target),p=new us(l,h);return p.object=c,p});return this.toGraphs(r,o)}[Yt(477)](e,t){const n=Yt;let s=[];e[n(465)](o=>{const a=n;let c=o.inputs,l=o[a(447)];s=s.concat(c),s=s.concat(l)});let i=[],r=new Set;for(let o=0;o<e.length;o++){const a=e[o];if(r[n(479)](a))continue;let c=[],l=[];this.travelVertext(a,c,l,r);let h=new k0(c,l);i.push(h)}return i}travelVertext(e,t=[],n=[],s=new Set){const i=Yt;if(s[i(479)](e))return;t.push(e),s.add(e);let r=e.inputs[i(468)](c=>!s.has(c)),o=e[i(447)].filter(c=>!s.has(c));r.forEach(c=>{n.push(c),s.add(c)}),o.forEach(c=>{const l=i;n[l(475)](c),s[l(460)](c)});let a=this;r.forEach(c=>{a[i(446)](c.from,t,n,s)}),o[i(465)](c=>{a.travelVertext(c.to,t,n,s)})}[Yt(454)](e){const t=Yt;!e[t(450)]()&&(e=Ye.createMinimalSpanningTree(e));let n=e[t(467)].filter(c=>c.getInDegree()==0)[0][t(449)],s=e[t(467)].map(c=>c.object),i=e[t(471)][t(474)](c=>c.object);const r=new WeakMap;let o=new w0;return o.fromObject(n),r[t(462)](n,o),s[t(465)](c=>{const l=t;if(c===n)return;const h=new w0;h[l(455)](c),r[l(462)](c,h)}),i.forEach(c=>{const l=t;let h=r.get(c[l(443)].target),p=r.get(c.end.target);h[l(457)](p)}),new cc(o)}}const ps=P0;function P0(x,e){const t=gs();return P0=function(n,s){return n=n-455,t[n]},P0(x,e)}(function(x,e){const t=P0,n=x();for(;[];)try{if(-parseInt(t(470))/1*(-parseInt(t(471))/2)+parseInt(t(461))/3*(parseInt(t(467))/4)+parseInt(t(457))/5*(-parseInt(t(468))/6)+parseInt(t(462))/7+-parseInt(t(464))/8*(-parseInt(t(459))/9)+parseInt(t(465))/10+-parseInt(t(455))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gs,221258);class ln{constructor(e,t){const n=P0;this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this[n(474)]=1,this.height=1,this.rotation=0,this.objects=e,this[n(466)]=t,this.positionNormals=z.getPointsNormalization(t);let s=z[n(458)](t);this.width=s.width,this.height=s[n(463)]}resizeTo(e,t){const n=P0;this.width=e,this[n(463)]=t}[ps(473)](e,t){const n=ps;this[n(474)]=e,this[n(463)]=t}translate(e,t){this.x=e,this.y=t}scale(e,t){this.scaleX=e,this.scaleY=t}rotate(e){this.rotation=e}updateXY(e){const t=ps,n=this.objects;let s=Math.min(e[t(469)],n.length);for(let i=0;i<s;i++){let r=e[i];n[i][t(472)](r.x,r.y)}}doLayout(e){const t=ps;let n=this,s=this.objects,i=this.positionNormals;this.rotation!=0&&(i=z.rotateNormaledPoints(this[t(475)],this.rotation));let r=o=>{const a=t;return{x:n.x+n[a(474)]*o.x*n.scaleX,y:n.y+n.height*o.y*n[a(456)]}};if(i=i.map(r),e!=null){let o=function(l){return n.updateXY(l)},a=s.map(l=>({x:l.x,y:l.y})),c=Object.assign({from:a,to:i,update:o},e);this.animationSystem[t(460)](c).play()}else this.updateXY(i);return this}}function gs(){const x=["positions","7768ghYDRn","19860CBYIZr","length","71PCwlLr","7472ubnBwa","setXY","resize","width","positionNormals","12103872UeCenw","scaleY","20jvviFs","getPointsRect","94509KXfOwy","anime","204JRHXXI","2616614oZdUBQ","height","176YDaean","3327140gvVXFd"];return gs=function(){return x},gs()}(function(x,e){const t=ys,n=x();for(;[];)try{if(-parseInt(t(286))/1*(-parseInt(t(284))/2)+parseInt(t(290))/3*(-parseInt(t(279))/4)+parseInt(t(280))/5+parseInt(t(283))/6+-parseInt(t(288))/7*(parseInt(t(282))/8)+-parseInt(t(287))/9*(parseInt(t(291))/10)+parseInt(t(292))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bs,897878);function bs(){const x=["610yVkkiy","26845225JIlpVm","length","488TLycBj","1841245RfdlvH","getLeafs","7688krtHzL","10031346trBGpi","108GVxeNs","width","49ROHPHU","220383HxHdyd","11564BFnspC","translateWithRecursive","12396nxvfci"];return bs=function(){return x},bs()}function ys(x,e){const t=bs();return ys=function(n,s){return n=n-278,t[n]},ys(x,e)}function lc(x){const e=ys;let t=x.indexData,n=x.deep,s=x[e(281)](),i=60,r=80;for(let c=0;c<s.length;c++){let l=s[c],h=(c+1)*i,p=n*r;l.translateTo(h,p)}for(let c=n-1;c>=0;c--){let l=t[c];for(let h=0;h<l.length;h++){let p=l[h],b=p.children,_=p.x,g=c*r;if(b.length>0?_=(b[0].x+b[b.length-1].x)/2:h>0&&(_=l[h-1].x+l[h-1].width),p.translateTo(_,g),h>0&&p.x<l[h-1].x+l[h-1].width){let I=l[h-1].x+l[h-1][e(285)],m=Math.abs(I-p.x);for(let C=h;C<l[e(278)];C++)l[C][e(289)](m,0)}}}let o=[];return x.allVirtualNodes.forEach(c=>{o.push(c)}),o}const _s=S0;(function(x,e){const t=S0,n=x();for(;[];)try{if(parseInt(t(437))/1+-parseInt(t(447))/2*(-parseInt(t(440))/3)+-parseInt(t(456))/4*(parseInt(t(441))/5)+parseInt(t(443))/6+-parseInt(t(435))/7+-parseInt(t(457))/8+parseInt(t(446))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ms,665956);function ms(){const x=["sizeFitToChildren","createMinimalSpanningTree","radius","2425188OJKoUp","9777752gyPDQq","push","sin","animationSystem","endAngle","3617803GxvhBe","angleScale","913568HWBTEV","isTree","length","6OmzzeB","10AecyxX","radiusScale","7569372bEeuiQ","update","treeLayout","9442422fzWTwx","393310vlOrmU","graphSystem","has","toTree","add","object"];return ms=function(){return x},ms()}function S0(x,e){const t=ms();return S0=function(n,s){return n=n-433,t[n]},S0(x,e)}class qi{constructor(e,t){const n=S0;this.animationSystem=e,this[n(448)]=t}shapeLayout(e,t){const n=S0;let s=t;t instanceof D&&(s=t.points);let i=new ln(e,s);return i[n(433)]=this.animationSystem,i}circleLayout(e,t={}){!e.isTree()&&(e=Ye.createMinimalSpanningTree(e));let n=e.traverse(null).filter(a=>a instanceof Xe),s=n[0],i=this.getCircleLayoutPositions(s,t),r=n.map(a=>a.object),o=new ln(r,i);return o.animationSystem=this.animationSystem,o}[_s(445)](e){const t=_s;!e[t(438)]()&&(e=Ye[t(454)](e));let n=e.traverse(null).filter(a=>a instanceof Xe),s=this.graphSystem[t(450)](e),i=lc(s),r=n.map(a=>a.object),o=new ln(r,i);return o.animationSystem=this[t(433)],o}travelTree(e,t){if(!e.isTree())throw new Error("graph is not a tree");return t==null&&(t=e.vertexes[0]),e.travelNext(t)}getCircleLayoutPositions(e,t={}){const n=_s;t.cx=t.cx||0,t.cy=t.cy||0,t[n(455)]=t.radius||200,t.startAngle=t.startAngle||0,t.endAngle=t.endAngle||2*Math.PI,t[n(442)]=t[n(442)]||.5,t[n(436)]=t.angleScale||1,t.endAngle>2*Math.PI&&(t[n(434)]=t[n(434)]%(2*Math.PI));let s=[],i=new Set,r=[];function o(a,c,l,h,p,b,_){const g=n;if(i[g(449)](a))return;r[g(458)](a[g(452)].id),i[g(451)](a),s[g(458)]({x:c,y:l});let I=a.getAdjacentList(),m=I[g(439)];if(_>1&&(m-=1),m<=0)return;let C=p,S=b-p,A=S;S<2*Math.PI&&(m-=1),m!=0&&(A/=m),_>1&&(S<2*Math.PI?C-=S*.5:S==2*Math.PI&&m>1&&m%2==0&&(C+=A*.5));for(let Z=0;Z<I[g(439)];Z++){let $=I[Z],Dt=C+Z*A,A0=c+h*Math.cos(Dt),Ze=l+h*Math[g(459)](Dt);t[g(444)]&&t.update(t,e.object,_),o($,A0,Ze,h*t.radiusScale,Dt,Dt+S,_+1)}}return t[n(444)]&&t.update(t,e[n(452)],0),o(e,t.cx,t.cy,t.radius,t.startAngle,t.endAngle,1),s}sizeFitToChildren(e,t){return Xt[_s(453)](e,t)}}(function(x,e){const t=ve,n=x();for(;[];)try{if(parseInt(t(200))/1+-parseInt(t(207))/2*(-parseInt(t(206))/3)+-parseInt(t(194))/4+-parseInt(t(197))/5+parseInt(t(204))/6+-parseInt(t(198))/7*(-parseInt(t(195))/8)+parseInt(t(192))/9*(-parseInt(t(193))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Is,348518);function ve(x,e){const t=Is();return ve=function(n,s){return n=n-192,t[n]},ve(x,e)}class hc{constructor(e){const t=ve;this.mode="painted",this[t(201)]=e}enter(e){const t=ve;if(this.quit(),e==null||e===this[t(203)]||!e[t(205)]){this[t(203)]=null;return}this.object=e;let n=this[t(201)][t(196)]();this.hideList=E.flatten(n.children,s=>s!==e),this.mouseEnabledBak=e.mouseEnabled,e[t(202)]=![],e.isSelected=![],this.hideList.forEach(function(s,i){s._cameraVisible=![]})}quit(){const e=ve;this.hideList!=null&&(this.mouseEnabledBak!=null&&(this.object[e(202)]=this.mouseEnabledBak),this.hideList.forEach(function(t,n){t._cameraVisible=!![]})),this.hideList=null,this.stage.update()}getObject(){return this[ve(203)]==null?this.stage.getCurrentLayer():this.object}getMouseXY(){const e=ve;return this.getObject().screenToLocalXY(this.stage[e(199)].x,this[e(201)].inputSystem.y)}}function Is(){const x=["2644080kkHIUV","136CAlkOs","getCurrentLayer","1452585jdJrWx","62461lwBUdk","inputSystem","376440Hvknxl","stage","mouseEnabled","object","3289458zayncU","isNode","12ODzXMO","230726MEDVKX","81ppWruD","264190ZbWrOe"];return Is=function(){return x},Is()}(function(x,e){for(var t=Gi,n=x();[];)try{var s=-parseInt(t(346))/1+parseInt(t(350))/2*(-parseInt(t(344))/3)+-parseInt(t(349))/4+parseInt(t(348))/5+parseInt(t(352))/6+-parseInt(t(351))/7*(parseInt(t(347))/8)+parseInt(t(353))/9;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ws,353757);function Gi(x,e){var t=ws();return Gi=function(n,s){n=n-344;var i=t[n];return i},Gi(x,e)}class uc{constructor(e){this.type=e}}function ws(){var x=["18176283PblOMP","5169vDfsdM","type","506798GHPIGt","21656opXKJB","1216055obobSh","1149140VkxCqh","690gJHhVv","1365sZRYGc","44052aNIhtt"];return ws=function(){return x},ws()}const St=hn;(function(x,e){const t=hn,n=x();for(;[];)try{if(-parseInt(t(267))/1*(-parseInt(t(275))/2)+-parseInt(t(264))/3*(-parseInt(t(269))/4)+-parseInt(t(265))/5+-parseInt(t(266))/6+parseInt(t(276))/7+parseInt(t(273))/8+-parseInt(t(259))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vs,299719);function vs(){const x=["getChildren","146kYJpWD","1569015iuYQpw","translate","forEach","defaultPrevented","type","cancelZoom","zoomMinLimit","zoomOut","translateWith","update","toScreenXY","scaleY","transform","length","zoomIn","lookAt","dirty","1767222BHLzKd","scale","scaleX","zoomBy","dispatchEvent","15YBsURM","2895485htlSDg","1882866vGoFZi","7132QRxYUu","wheelZoom","199708sfBqEO","inputSystem","height","zoomAfter","3156552xoLlEy"];return vs=function(){return x},vs()}function hn(x,e){const t=vs();return hn=function(n,s){return n=n-248,t[n]},hn(x,e)}let Ut=new uc("zoom");class dc extends _t{constructor(e){const t=hn;super(),this.x=0,this.y=0,this[t(260)]=1,this.dirty=!![],this[t(254)]=new t0,this.zoomMaxLimit=10,this[t(248)]=.1,this.stage=e}[St(257)](e,t){const n=St;typeof e!="number"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t);const s=this.stage,i=this;s.getChildren()[n(278)](function(r){const o=n;r.translate(-i.x*r.scaleX,-i.y*r[o(253)])}),s[n(251)](),Ut.type="lookAt",this.dispatchEvent(Ut),this.dirty=!![]}zoomOut(e=.8){const t=St;return this.zoomBy(e),Ut.type=t(249),this[t(263)](Ut),this}zoomIn(e=1.25){const t=St;return this[t(262)](e),Ut[t(280)]=t(256),this[t(263)](Ut),this}zoomBy(e,t,n){const s=St;let i=this.scale*e;if(i>this.zoomMaxLimit||i<this.zoomMinLimit)return;this[s(260)]=i;const r=this.stage;if(this.hasListener(at.zoom)){let a=new Event(at.zoom,{cancelable:!![]});if(r.dispatchEvent(a),a[s(279)]==!![])return}const o=this;if(r[s(274)]().forEach(function(a){const c=s;a.mouseEnabled&&a[c(268)]&&o.zoomLayer(a,e,t,n)}),this.hasListener(at.zoomAfter)){let a=new Event(at[s(272)],{cancelable:!![]});if(r[s(263)](a),a.defaultPrevented==!![])return}r.update(),this.dirty=!![],Ut[s(280)]="zoom",this.dispatchEvent(Ut)}zoom(e){const t=St;this.stage.getChildren().forEach(function(s){s.scaleTo(1,1),s.translateTo(0,0)}),this[t(260)]=1,this.zoomBy(e,this.x,this.y)}cancelZoom(){const e=St,t=this.stage;t.getChildren().forEach(function(n){n.scaleTo(1,1),n.translateTo(0,0)}),this.scale=1,this.dirty=!![],t.update(),Ut.type=e(281),this.dispatchEvent(Ut)}zoomLayer(e,t,n,s){const i=St;if(this.hasListener("zoom")){let l=new Event("zoom",{cancelable:!![]});if(l.zoom={x:t,y:t,cx:n,cy:s},this[i(263)](l),l.defaultPrevented==!![])return}if(n!=null&&s!=null){e.updateMatrix();let l=e.toScreenXY(n,s);n=l.x,s=l.y}e.scaleBy(t,t);let r=e.width*e[i(261)],o=e.height*e.scaleY,a=r*t-r,c=o*t-o;if(n!=null&&s!=null){let l=e.stage,h={x:l.width*.5,y:l[i(271)]*.5},p=e[i(252)](h.x,h.y),b=(n-p.x)/2,_=(s-p.y)/2;t>=1?(a+=b,c+=_):(a-=b*t,c-=_*t)}e.translateWith(-(a/2),-(c/2))}translateWith(e,t){const n=St;this.x+=e,this.y+=t,this[n(258)]=!![]}_dragWith(e,t){const n=St;this[n(250)](-e,-t);const s=this.stage;s[n(270)].isDragStart&&s.setCursor("grabbing");const i=s.getChildren().filter(r=>r.mouseEnabled&&r.draggable);for(let r=0;r<i[n(255)];r++)i[r].translateWith(e,t)}targetOnly(e){this.stage.localView.enter(e)}getTransform(){const e=St;return this.transform[e(277)](this.x,this.y),this.transform.scale(this.scale,this[e(260)]),this.transform}isDirty(){return this.dirty}clearDirty(){const e=St;this[e(258)]=![]}}const k=se;(function(x,e){const t=se,n=x();for(;[];)try{if(-parseInt(t(284))/1+parseInt(t(235))/2*(-parseInt(t(340))/3)+-parseInt(t(329))/4*(parseInt(t(336))/5)+-parseInt(t(347))/6+parseInt(t(293))/7+parseInt(t(350))/8*(-parseInt(t(310))/9)+parseInt(t(275))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ps,171788);function se(x,e){const t=Ps();return se=function(n,s){return n=n-235,t[n]},se(x,e)}let fc=Date.now();class ks extends _t{constructor(e,t){const n=se;super(),this.version=wn,this.children=[],this.visible=![],this.mode="normal",this.destoryed=![],this.config={dropAllowed:!![]},this.Debug=$t,t!=null&&Object.assign(this.config,t),this[n(317)]=new dc(this),this[n(295)]=new hc(this),this[n(295)].mode=null,this.keyboard=new Ri(this),this[n(343)]=new jx,this.selectedGroup=new Wi,this.resourceSystem=tt,this._init(e),this.injectCss(),this.styleSystem=new Ui(this),this.behaviourSystem=new ac(this),this.animationSystem=new Yi,this[n(323)]=new Ji(this,this.animationSystem),this.graphSystem=new Ye,this.layoutSystem=new qi(this.animationSystem,this[n(335)]),this.renderSystem=new Va(this),this.exportSystem=new Ja(this),this.serializerSystem=new Le,this[n(236)].on("loaded",s=>{this.update()}),this.inputSystem._initEvent(this)}injectCss(){const e=se;let t=document[e(288)]||document.getElementsByTagName("head")[0],n=document[e(351)](e(276));n==null&&(n=document.createElement(e(291)),n.id=e(276),n[e(245)]=ga,t[e(330)](n))}[k(244)](e){const t=k;let n=this;document.oncontextmenu=function(){return!n[se(343)].isMouseOn},n.domElement=bc(e);const s=document[t(255)]("div");n.layersContainer=s,n.debugPanel=new fa(n),$t.isDebug&&n.debugPanel[t(283)](),n.setToolbar(new zi(n)),s.classList.add("layer_container"),s.style.position="relative",s[t(291)].width="100%",n.domElement.appendChild(s),n.width=s.offsetWidth,n.height=s.clientHeight;{const i=new $0(n);n.handlerLayer=i;const r=i[t(280)].canvas;r[t(291)].zIndex=""+i[t(349)],this.layersContainer.appendChild(r)}pc(n),n.on(t(258),function(i){i.preventDefault()})}[k(242)](){const e=k;this.debugPanel[e(283)]()}[k(238)](){this.debugPanel.hide()}[k(285)](e){let t=this;t.overview==null&&(t.overview=new pa(t)),t.overview.css(e),t.overview.show()}_updateOverview(){this.overview!=null&&this.overview.update()}hideOverview(){this.overview!=null&&this.overview.hide()}getToolbarHeight(){return this.toolbar==null?0:this.toolbar.getHeigth()}[k(270)](e=.8){return this.camera.zoomOut(e),this}zoomIn(e=1.25){const t=k;return this.camera[t(313)](e),this}zoom(e){this.camera.zoomBy(e)}cancelZoom(){const e=k;this.camera[e(261)]()}[k(267)](){const e=k,t=this;let n=t[e(309)](),s=t[e(281)]/n.width,i=t[e(342)]/n.height,r=Math.min(s,i),o=0,a=0;this.camera.zoomBy(r,o,a),t.translateToCenter()}translateToCenter(){const e=k;if(!this.visible){console[e(318)]("stage.translateToCenter() should after stage.show()");return}this[e(326)]()[e(254)](function(t){t.centerBy()})}[k(265)](e){const t=k;let n=new ht(e);return this[t(327)](n),n}[k(327)](e){const t=k;e._onMound(this),e.zIndex=this.children.length,e.resizeTo(this.width,this.height),e[t(333)]==null&&(e.name=t(321)+e.zIndex),this.children.push(e);const n=e.render.canvas;n[t(291)].zIndex=""+e.zIndex,this.layersContainer.appendChild(n),this.updateZIndex()}updateZIndex(){const e=k;this.children.sort(function(t,n){const s=se;return t[s(349)]-n[s(349)]}),this.children[e(254)](t=>{const n=e,s=t.render[n(303)];s.style.zIndex=""+t.zIndex})}getChildren(){return this.children}removeChild(e){e.render.canvas.remove();let t=this.children.indexOf(e);return t==-1?this:(z.removeAt(this.children,t),e.stage=null,this)}show(){const e=k;this.visible=!![],this.getChildren().forEach(function(t){t[se(283)]()}),this.renderSystem[e(274)](),this.styleSystem.start()}hide(){this.visible=![],this.renderSystem.pause(),this.getChildren().forEach(function(e){e.hide()})}update(){const e=k;this[e(326)]().forEach(function(t){t.update()}),this.handlerLayer[e(354)]()}forceUpdate(){const e=k;this[e(286)].forceUpdate(),this.getChildren()[e(254)](function(t){t.forceUpdate()})}[k(282)](){const e=k;return this.exportSystem[e(282)](this.children)}[k(352)](){return this.exportSystem.saveImageInfo(this.children)}saveAsLocalImage(){const e=k;this.exportSystem[e(256)](this.children)}on(e,t){return this.on.index=fc,this.addEventListener(e,t)}fullWindow(){const e=k;if(this[e(322)](at[e(345)])){let t=new Event(at.fullWindow,{cancelable:!![]});if(this.dispatchEvent(t),t.defaultPrevented==!![])return}ge.fullWindow(this[e(312)])}fullScreen(){ge.fullScreen(this.domElement)}showToolbar(){const e=k;if(this.toolbar==null)return;this.toolbar.show();let t=e(289)+this.getToolbarHeight()+"px)";this[e(277)].style.height=t}hideToolbar(){const e=k;if(this.toolbar==null)return;this[e(324)][e(249)]();let t=e(289)+this.getToolbarHeight()+"px)";this[e(277)][e(291)].height=t}[k(311)](e){const t=k;this.toolbar!=null&&this.toolbar.remove(),this[t(312)][t(330)](e.getDom());let n=t(289)+this.getToolbarHeight()+t(301);this.layersContainer.style[t(342)]=n,this.toolbar=e}setMode(e){const t=k;if(this.hasListener(at.modeChange)){let n=new Event(at.modeChange,{cancelable:!![]});if(n[t(325)]=e,this[t(305)](n),n.defaultPrevented==!![])return}gc(this,e),e==yt.drag?this.setCursor("grab"):this.setCursor(t(278))}[k(339)](e){}dragoverHandler(){}mouseoverHandler(){}mousedownHandler(e){const t=k,n=this.inputSystem;if(this[t(325)]==yt.drag){this[t(332)](t(240));return}let s=this,i=s[t(250)]();s[t(343)][t(320)]=i;let r=s.mode=="edit"&&i!=null&&i.mouseEnabled==![];if(i!=null&&!r){n.pickObject(i);return}!(e.ctrlKey||e[t(271)])&&s.selectedGroup.removeAll()}static[k(252)](e,t){const n=k;let s=e[n(247)](),i=E.flatten(e.children);for(let r=t[n(306)]-1;r>=0;r--){let o=t[r];if(!(e===o||o===e.parent||!o.dropAllowed)&&!(s[n(290)](o)!=-1||i.indexOf(o)!=-1)&&o[n(266)].aabb.containsRect(e._obb.aabb))return o}return null}mousedragHandler(e){const t=k,n=this.inputSystem,s=this.handlerLayer,i=this.mode,r=this.inputSystem.target,o=this[t(262)],a=this.pickUpViewLayers();n.mouseoverTarget=a;const c=e.buttons==1,l=c&&r!=null&&r.mouseEnabled&&r.draggable,h=this.getChildren().filter(b=>b.mouseEnabled);if(c&&this.config.dropAllowed&&l&&r[t(355)]){let b=null;for(let _=0;_<h[t(306)];_++){const g=h[_],I=g.flattenList[t(253)](m=>m.painted&&m[t(279)]);b=ks.findDropToObjec(r,I),b!==n.dropTarget&&n[t(344)]&&n[t(344)].dragoutHandler(n),b!=null&&b.dragoverHandler(this[t(343)])}n.dropTarget=b}if(l){o.dragHandler(n);return}if(c&&(i==yt.select||i==yt.edit)){Jr(s);return}this[t(317)]._dragWith(n.dx,n.dy)}mouseupHandler(e){const t=k,n=this[t(343)];let s=this;const i=this.getChildren(),r=n[t(353)]();for(let c=0;c<i.length;c++){const l=i[c];l.draggable&&n[t(257)]&&l[t(273)]()}if(this.mode==yt.drag){this[t(332)]("grab");return}this.setCursor(t(278));let o=this.inputSystem.target,a=this.handlerLayer;a[t(239)].hide(),a[t(239)].resizeTo(0,0),o&&o.mouseEnabled&&(n.type==t(263)?o.mouseupHandler(n):n.type==t(300)&&o.touchendHandler(n),n.previous.isDraging&&o.draggable&&r==![]&&s.selectedGroup.dragEndHandler(n)),this.config[t(272)]&&n.dropTarget&&(n[t(344)][t(339)](n),n.dropTarget=null)}[k(307)](e){const t=k,n=this.inputSystem;this[t(286)][t(307)](n),this.selectedGroup.mouseoutHandler(n)}[k(334)](e){const t=k,n=this[t(343)];let s=n.target;s&&!n[t(269)][t(241)]&&s.clickHandler(n)}dblclickHandler(e){const t=k,n=this.inputSystem;let s=n[t(320)];s&&!n.previous.isDragEnd&&s.dblclickHandler(n)}mousemoveHandler(e){const t=k,n=this.inputSystem;if(n.isDraging)return this.mousedragHandler(e);if(this.mode==yt[t(294)]){this.setCursor("grab");return}if(n.skipPointerMovePicking){console.log("跳过");return}let s=n.mouseoverTarget,i=this.pickUpViewLayers();s!==i&&s!=null&&s.mouseoutHandler&&s.mouseoutHandler(n),i!=null&&(s!==i?i.mouseenterHandler&&i.mouseenterHandler(n):i[t(264)]&&i.mousemoveHandler(n)),n.mouseoverTarget=i}mousewheelHandler(e){const t=k,n=this.getCurrentLayer();if(n==null||this.inputSystem.wheelZoom!=!![])return;let r=n[t(248)],o=n.mouseY;(e.wheelDelta==null?e[t(246)]:e.wheelDelta)>0?this.camera.zoomBy(1.25,r,o):this[t(317)].zoomBy(.8,r,o)}mouseenterHandler(e){}touchstartHandler(e){this.mousedownHandler(e)}[k(251)](e){const t=k,n=this.inputSystem,s=this.handlerLayer,i=this[t(325)],r=this.inputSystem.target,o=this.selectedGroup,a=this[t(250)]();this.inputSystem[t(304)]=a,n.distanceRatio!=1&&this.getChildren().forEach(h=>{h.zoom(n.distanceRatio,n.distanceRatio)}),n.isDragStart;const c=r!=null&&r[t(308)]&&r.draggable;if(this.getChildren().filter(h=>h.mouseEnabled),c){o.dragHandler(n);return}if(i==yt[t(298)]||i==yt.edit){Jr(s);return}this.camera[t(260)](n.dx,n.dy)}touchwheelHandler(e){throw new Error("touchwheelHandler")}[k(237)](e){this.mouseupHandler(e)}pickUpViewLayers(){const e=k;let t=this.getChildren();for(let n=t.length-1;n>=0;n--){let s=t[n];if(!(s[e(299)]&&s.mouseEnabled))continue;let i=s.pickUpChild();if(i!=null)return i}return null}getCursor(){const e=k;return this.handlerLayer[e(280)][e(297)]()}setCursor(e){return this.handlerLayer.render.setCursor(e)}download(e,t){return this[k(302)].download(e,t)}[k(298)](e){const t=k;this.selectedGroup.removeAll(),this[t(262)].addAll(e)}[k(316)](){const e=k;return this.children.filter(t=>t[e(299)]==!![])[0]}rand(e,t){const n=k;return e==null&&(e=-this.width*.5),t==null&&(t=this.height*.5),Math.round(Math[n(319)]()*(t-e)+e)}getAABB(){const e=k;let t=this[e(326)]()[e(287)](s=>s[e(338)](s.getAABB()));return j.unionRects(t)}[k(331)](){const e=k;let t=this.getChildren().map(s=>s.toStageRect(s.getExportAABB()));return j[e(268)](t)}destory(e){const t=k;if(this.destoryed)throw new Error("Stage has been destroyed already.");this.destoryed=!![],this[t(292)]&&this[t(292)].disconnect(),this._resizeTimer&&clearInterval(this._resizeTimer),this[t(286)].destory(),this.children.forEach(n=>{n.destory()}),this.domElement.innerHTML="",e!=![]&&tt.clearCache()}}function Jr(x,e){const t=k;let n=x.stage,s=x[t(348)](),i=x[t(243)].getChildren();for(var r=0;r<i[t(306)];r++){let o=i[r];if(!o.hasChildren())continue;let a=o.toLayerRect(s),c=o[t(328)](a);n.selectedGroup.addAll(c)}}function qr(x,e,t){const n=k;x[n(277)].style.height="calc(100% - "+x.getToolbarHeight()+"px)",x.width=e,x.height=t,x.handlerLayer[n(346)](e,t),x.getChildren().forEach(function(i){const r=n;i.updateSize(e,t),x.editor&&x[r(259)].update&&x.editor[r(354)]()});let s=new Event(at[n(314)]);x.dispatchEvent(s)}function pc(x){const e=k,t=x.layersContainer;if(t.style.height="calc(100% - "+x.getToolbarHeight()+"px)",window[e(296)]){const s=new ResizeObserver(i=>{const r=e;i[0].contentRect,It.delayRun(r(341),function(){qr(x,t.clientWidth,t.clientHeight)},30)});s.observe(t),x[e(292)]=s;return}let n=setInterval(function(){const s=e;let i=t.offsetWidth,r=t.offsetHeight;(x.width!=i||x[s(342)]!=r)&&(t.style.height="calc(100% - "+x[s(315)]()+"px)",qr(x,i,r))},500);x._resizeTimer=n}function gc(x,e){const t=k;let n=x.mode;x.mode=e;let s={type:at.modeChange,oldMode:n,newMode:e};x[t(305)](s)}function bc(x){const e=k;if(typeof x=="string"&&(x=document.getElementById(x),x==null))throw new Error("the dom element id is not found id:"+x);if(x==null)throw new Error("the dom element is null.");return x.style.position=e(337),x}function Ps(){const x=["resourceSystem","touchendHandler","hideDebugPanel","areaBox","grabbing","isDragEnd","showDebugPanel","stage","_init","textContent","detail","getAncestors","mouseX","hide","pickUpViewLayers","touchmoveHandler","findDropToObjec","filter","forEach","createElement","saveAsLocalImage","isDraging","dragover","editor","_dragWith","cancelZoom","selectedGroup","mouseup","mousemoveHandler","createLayer","_obb","zoomFullStage","unionRects","previous","zoomOut","metaKey","dropAllowed","dragEndHandler","start","9875390ySowJQ","_jtopo_style_","layersContainer","default","isNode","render","width","toDataURL","show","315002SIYAvG","showOverview","handlerLayer","map","head","calc(100% - ","indexOf","style","_resizeObserver","1592171PLOhrE","drag","localView","ResizeObserver","getCursor","select","visible","touchend","px)","exportSystem","canvas","mouseoverTarget","dispatchEvent","length","mouseoutHandler","mouseEnabled","getAABB","117LxIeAc","setToolbar","domElement","zoomIn","resize","getToolbarHeight","getCurrentLayer","camera","warn","random","target","Layer_","hasListener","effectSystem","toolbar","mode","getChildren","addChild","pickUpByRect","20fdpRjN","appendChild","getExportAABB","setCursor","name","clickHandler","graphSystem","294605sCmRbB","relative","toStageRect","dropHandler","327bWedBX","stage_resize","height","inputSystem","dropTarget","fullWindow","updateSize","362406yUTvkz","showAreaBox","zIndex","95304HYWtik","getElementById","saveImageInfo","isRightButton","update","draggable","4006SejEFn"];return Ps=function(){return x},Ps()}function Ss(x,e){const t=Os();return Ss=function(n,s){return n=n-431,t[n]},Ss(x,e)}const q=Ss;(function(x,e){const t=Ss,n=x();for(;[];)try{if(-parseInt(t(448))/1+-parseInt(t(451))/2*(parseInt(t(443))/3)+-parseInt(t(445))/4+-parseInt(t(438))/5*(-parseInt(t(455))/6)+parseInt(t(444))/7*(-parseInt(t(442))/8)+parseInt(t(432))/9*(-parseInt(t(459))/10)+-parseInt(t(458))/11*(-parseInt(t(441))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Os,605977);function Os(){const x=["2525052ZATefy","8YcqIza","161691cmhXeH","6512709rbwXkE","128100SxXQsd","resetCtrlPoint","end","138153bPrKgy","DefaultPositions","length","24wDIwmM","setCtrlPoint","getCtrlPoints","getEndArrowDirection","4278zsepOb","begin","prototype","121NNqPEk","10GuCmWx","points","ctrlPoint","1743867rvvAvI","getPoints","center","serializers","direction","getOwnPropertyDescriptor","1630QGvbRR","translateWith","className"];return Os=function(){return x},Os()}var yc=Object.defineProperty,_c=Object[q(437)],Ls=(x,e,t,n)=>{const s=q;for(var i=n>1?void 0:n?_c(e,t):e,r=x[s(450)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&yc(e,t,i),i};class Ue extends R{constructor(e,t,n,s,i){super(e,t,n,s,i),this.direction="horizontal"}updatePoints(){const e=q;let t=this._calcAZ(),n=t[0],s=t[1],i=this.getCtrlPoint(n,s);return this.points=[n,i,s],this[e(460)]}translateWith(e,t){const n=q;return super[n(439)](e,t),this.ctrlPoint!=null&&(this[n(431)].x+=e,this.ctrlPoint.y+=t),this}autoCalcCtrlPoint(e,t){let n=(e.x+t.x)/2,s=(e.y+t.y)/2;return this.direction==ke.horizontal?s+=(t.y-e.y)/2:s-=(t.y-e.y)/2,{x:n,y:s}}getCtrlPoint(e,t){return this.ctrlPoint!=null?this.ctrlPoint:this.autoCalcCtrlPoint(e,t)}[q(452)](e){this.ctrlPoint=e,this.matrixDirty=!![]}[q(446)](){this.ctrlPoint=void 0,this.matrixDirty=!![]}getPoint(e){let n=this[q(433)](),s=n[0],i=n[1],r=n[2],o=T.interpolate(s,i,e),a=T.interpolate(i,r,e);return T.interpolate(o,a,e)}getBeginArrowDirection(){let t=this[q(460)][0],n=this.getPoint(.01),s=[t.x-n.x,t.y-n.y];return B.normalize(s,s)}[q(454)](){const e=q;let t=this.getPoint(.9),n=this.points[this[e(460)].length-1],s=[n.x-t.x,n.y-t.y];return B.normalize(s,s)}}Ls([d("CurveLink")],Ue.prototype,q(440),2),Ls([d(D.Curve)],Ue.prototype,"shape",2),Ls([d(function(){return[q(456),"end","ctrlPoint"]})],Ue.prototype,q(453),2),Ls([d(R.prototype[q(435)].concat([q(436),"ctrlPoint"]))],Ue.prototype,"serializers",2);const un={};un[v.begin]=function(){return this.getPoints()[0]},un[v[q(447)]]=function(){let x=this.getPoints();return x[x.length-1]},un[v[q(434)]]=function(){let e=this[q(433)]();return T.middle(e[0],e[1])},un[v.ctrlPoint]=function(){if(this.ctrlPoint!=null)return this.ctrlPoint;let x=this.getPoints();return this.getCtrlPoint(x[0],x[1])},Ue[q(457)][q(449)]=un;var dn=Es;(function(x,e){for(var t=Es,n=x();[];)try{var s=-parseInt(t(140))/1*(-parseInt(t(135))/2)+parseInt(t(147))/3+parseInt(t(143))/4+-parseInt(t(144))/5+parseInt(t(148))/6*(-parseInt(t(138))/7)+parseInt(t(145))/8*(parseInt(t(137))/9)+parseInt(t(146))/10*(parseInt(t(141))/11);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ts,793342);var mc=Object.defineProperty,Ic=Object[dn(139)],Cs=(x,e,t,n)=>{for(var s=n>1?void 0:n?Ic(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&mc(e,t,s),s};function Es(x,e){var t=Ts();return Es=function(n,s){n=n-134;var i=t[n];return i},Es(x,e)}function Ts(){var x=["6YWgxlh","shape","className","860810BTPNaB","arrowsSize","45AIjibN","7018879LSwPza","getOwnPropertyDescriptor","1BFblMH","1497529SzvVtE","prototype","4905208IwPiTk","7557510LgACum","776024LCrjkc","10aDKLlZ","3089040qWQxRN"];return Ts=function(){return x},Ts()}class O0 extends ne{constructor(e,t=0,n=0,s=1,i=1){super(e,t,n,s,i)}resizeToFitText(){let t=this._computedStyle.calcGap();this._width=this._textWidth+t,this._height=this._textHeight+t+this.arrowsSize}}Cs([d("TipNode")],O0.prototype,dn(134),2),Cs([d(8)],O0.prototype,dn(136),2),Cs([d(new Se)],O0[dn(142)],dn(149),2),Cs([d(ne.prototype.serializers.concat(["arrowsSize"]))],O0.prototype,"serializers",2);var st=fn;(function(x,e){for(var t=fn,n=x();[];)try{var s=-parseInt(t(411))/1*(parseInt(t(406))/2)+parseInt(t(421))/3+parseInt(t(416))/4*(-parseInt(t(401))/5)+parseInt(t(397))/6+-parseInt(t(402))/7*(parseInt(t(407))/8)+parseInt(t(422))/9*(parseInt(t(419))/10)+parseInt(t(409))/11;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(As,768710);var wc=Object.defineProperty,vc=Object.getOwnPropertyDescriptor,Zi=(x,e,t,n)=>{for(var s=n>1?void 0:n?vc(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&wc(e,t,s),s};function As(){var x=["defineProperties","_dom","2003334Rpqnbs","_isPlaying","_paintText","height","5ECaWcE","7nMSulF","play","width","destory","1270OJsMGZ","5578136ngswcp","concat","11474573tNfyed","setVideo","1699QtAqWH","pause","rect","addEventListener","string","2169944yXJQjP","_video","draw","10exnDhY","className","1434537vkGPUO","11089053vEOouu","src","showCover","mousePickupPath","_videoSrc","prototype","ended"];return As=function(){return x},As()}class L0 extends M{constructor(e,t=0,n=0,s=1,i=1){var r=fn;super(),this[r(398)]=![],this.text=e,this.x=t||0,this.y=n||0,this[r(404)]=s||0,this.height=i||0}[st(424)](){this._isPlaying=![]}play(){var e=st;this._isPlaying=!![],this._video[e(403)]()}pause(){var e=st;this[e(417)].pause()}setVideo(e){var t=st;const n=this;this._dom!=null&&(this[t(396)].remove(),this[t(396)]=null),typeof e==t(415)?(this._videoSrc=e,this._video=ge.createVideo(e,function(){var s=t;n.autoplay&&n[s(403)]()}),this._dom=this[t(417)]):(this._video=e,this._videoSrc=e.firstElementChild.getAttribute(t(423))),this._video.width=this[t(404)],this._video[t(400)]=this.height}onPlay(e){var t=st;this._video[t(414)](t(403),e,![])}onPause(e){var t=st;this._video.addEventListener(t(412),e,![])}onEnded(e){var t=st;this._video[t(414)](t(428),e,![])}[st(418)](e){var t=st;e.beginPath();const n=-this[t(404)]*.5,s=-this.height*.5;if(e[t(413)](n,s,this.width,this.height),this[t(417)]!=null){this._video.width!=this[t(404)]&&(this._video.width=this[t(404)],this[t(417)].height=this[t(400)]);let i=this._isPlaying?this._video:this._image;i!=null&&e.drawImage(i,n,s,this.width,this[t(400)])}else e.stroke();this[t(425)](e),this[t(399)](e)}destory(){var e=st;super[e(405)](),this[e(396)]&&this[e(396)].remove()}}Zi([d("VideoNode")],L0.prototype,st(420),2),Zi([d(![])],L0[st(427)],"autoplay",2),Zi([d(M.prototype.serializers[st(408)](["autoplay","videoSrc"]))],L0.prototype,"serializers",2),Object[st(429)](L0.prototype,{videoSrc:{get(){var x=st;return this[x(426)]},set(x){var e=st;this[e(410)](x)}}});function fn(x,e){var t=As();return fn=function(n,s){n=n-396;var i=t[n];return i},fn(x,e)}function Ve(x,e){const t=Ds();return Ve=function(n,s){return n=n-476,t[n]},Ve(x,e)}const dt=Ve;(function(x,e){const t=Ve,n=x();for(;[];)try{if(parseInt(t(501))/1*(parseInt(t(490))/2)+parseInt(t(493))/3+-parseInt(t(484))/4*(-parseInt(t(504))/5)+-parseInt(t(485))/6+parseInt(t(482))/7+-parseInt(t(479))/8+-parseInt(t(483))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ds,300565);var Ki=function(){};Ki.prototype={calculate:function(x,e){const t=Ve;this.dx=x.x-e.x,this.dy=x.y-e.y,this.d2=this.dx*this.dx+this.dy*this.dy,this.d=Math[t(476)](this.d2)}};class Gr{constructor(e,t,n){const s=Ve;this[s(498)]=[],this.frame_width=t,this.frame_height=n,this.origin=e,this.initialize(),this.initNodes(e)}[dt(494)](e){let t=this;Xt.travel(e,function(n,s){const i=Ve;if(n.isNode&&s!=null){let r=s,o=n;r==e&&t.setOriginEdgeWeight(o,t.originWeight);let a=o.mass|1;t[i(499)](o,a);let c=30;t.addLink(r,o,c)}})}initialize(){const e=dt;this.originWeight=48,this[e(487)]=12,this.gravity=50,this.maxForceDistance=512,this.nodes=new Array,this.edges=new Array,this[e(498)]=new Array}originForce(e,t){const n=dt;if(this[n(498)][e.id]){if(e.id!=this.selectedNode){let s=this[n(498)][e.id],i=(t.d-s)/s;e[n(496)].x+=i*(t.dx/t.d),e.force.y+=i*(t.dy/t.d)}}else if(e.id!=this.selectedNode){let s=this.gravity*e[n(488)]*this[n(491)].mass/t.d2,i=this.maxForceDistance-t.d;i>0&&(s*=Math.log(i)),s<1024&&(e[n(496)].x-=s*t.dx/t.d,e.force.y-=s*t.dy/t.d)}}attractiveForce(e,t,n){const s=dt;let i=this.edges[e.id][t.id];if(i+=3*(e.neighbors+t[s(489)]),i){let r=(n.d-i)/i;e.id!=this[s(478)]&&(e.force.x-=r*n.dx/n.d,e[s(496)].y-=r*n.dy/n.d),t.id!=this.selectedNode&&(t[s(496)].x+=r*n.dx/n.d,t[s(496)].y+=r*n.dy/n.d)}}[dt(502)](e,t,n){const s=dt;let i=this.gravity*e.mass*t[s(488)]/n.d2,r=this[s(486)]-n.d;r>0&&(i*=Math.log(r)),i<1024&&(e.force.x+=i*n.dx/n.d,e.force.y+=i*n.dy/n.d)}doLayout(){this[dt(497)]()}applyForce(){const e=dt;for(var t=0;t<this.nodes[e(477)];t++){let s=this.nodes[t];for(var n=0;n<this[e(503)].length;n++)if(t!=n){let r=this.nodes[n],o=new Ki;o.calculate(s,r),this.getLink(s.id,r.id)!=null&&this.attractiveForce(s,r,o),t!=this.selectedNode&&this.repulsiveForce(s,r,o)}let i=new Ki;i.calculate(this[e(491)],s),this.originForce(s,i),s[e(496)].x*=this[e(487)],s.force.y*=this[e(487)],s.x+=s[e(496)].x,s.y+=s[e(496)].y,s.force.x=0,s.force.y=0}}bounds(e){const t=dt;let n=12,s=n*2+4,i=e.x,r=e.x+s,o=e.y,a=e.y+s;i<0&&(e.x=0),o<0&&(e.y=0),r>this.frame_width&&(e.x=this[t(495)]-s),a>this.frame_height&&(e.y=this[t(480)]-s)}setOriginEdgeWeight(e,t){this.originEdges[e.id]=t}addNode(e,t){const n=dt;e[n(488)]=t|1,e.neighbors=e.neighbors|0,e.force={x:0,y:0},this.nodes.push(e)}[dt(492)](e,t){let s=this[dt(481)][e];return s==null?null:s[t]}[dt(500)](e,t,n){const s=dt;!this.edges[e.id]&&(this[s(481)][e.id]=new Object),this.edges[e.id][t.id]=n;try{e.neighbors++,t.neighbors++}catch(i){console.log("Error Adding Edge: "+i)}}}function Ds(){const x=["selectedNode","2262008LRMiKA","frame_height","edges","3081589uwSeVv","1980882lJalnO","48772wqVdar","3448860cKgMfc","maxForceDistance","speed","mass","neighbors","32cuygun","origin","getLink","559617KIcutK","initNodes","frame_width","force","applyForce","originEdges","addNode","addLink","21056NIthHb","repulsiveForce","nodes","170KoIYHa","sqrt","length"];return Ds=function(){return x},Ds()}function Ms(){const x=["4917gVYleI","1767440gdLqzz","24SZaohS","24302650SLguVU","anticlockwise","1081088yBANql","defineProperty","direction","length","clockwise","getOwnPropertyDescriptor","90QEhdCU","2567800kBGzBr","508095CDXiJn","992aSkbsm","push","cos","3554874qQfVlh"];return Ms=function(){return x},Ms()}const Je=js;(function(x,e){const t=js,n=x();for(;[];)try{if(-parseInt(t(246))/1+-parseInt(t(255))/2*(parseInt(t(259))/3)+parseInt(t(253))/4+-parseInt(t(260))/5+-parseInt(t(252))/6*(parseInt(t(254))/7)+-parseInt(t(261))/8*(-parseInt(t(258))/9)+parseInt(t(244))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ms,920878);var kc=Object[Je(247)],Pc=Object[Je(251)],Bs=(x,e,t,n)=>{const s=Je;for(var i=n>1?void 0:n?Pc(e,t):e,r=x[s(249)]-1,o;r>=0;r--)(o=x[r])&&(i=(n?o(e,t,i):o(i))||i);return n&&i&&kc(e,t,i),i};class C0 extends R{constructor(e,t,n,s,i){super(e,t,n,s,i)}getPoint(e){const t=Je;let n=this.getPoints(),s=n[0],i=n[n.length-1],r=(s.x+i.x)/2,o=(s.y+i.y)/2,a=s.x-i.x,c=s.y-i.y,l=Math.sqrt(a*a+c*c)/2,h=Math.atan2(c,a),p=h+Math.PI*e;return this[t(248)]==t(245)&&(p=h-Math.PI*e),{x:r+l*Math[t(257)](p),y:o+l*Math.sin(p)}}updatePoints(){const e=Je;let t=this._calcAZ(),n=t[0],s=t[1],i=[n],r={x:(n.x+s.x)*.5,y:(n.y+s.y)*.5},o=T.distancePoint(n,s)*.5;return i[e(256)]({x:r.x,y:r.y-o}),i.push({x:r.x,y:r.y+o}),i[e(256)]({x:r.x-o,y:r.y}),i[e(256)]({x:r.x+o,y:r.y}),i.push(s),i}}function js(x,e){const t=Ms();return js=function(n,s){return n=n-244,t[n]},js(x,e)}Bs([d("ArcLink")],C0.prototype,"className",2),Bs([d(D.Arc)],C0.prototype,"shape",2),Bs([d(R.prototype.serializers.concat([Je(248)]))],C0.prototype,"serializers",2),Bs([d(Je(250))],C0.prototype,"direction",2);const Q=qe;(function(x,e){const t=qe,n=x();for(;[];)try{if(parseInt(t(348))/1+parseInt(t(347))/2*(parseInt(t(345))/3)+parseInt(t(353))/4*(parseInt(t(342))/5)+-parseInt(t(352))/6+-parseInt(t(337))/7*(parseInt(t(332))/8)+-parseInt(t(340))/9+-parseInt(t(350))/10*(-parseInt(t(335))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ns,127875);var Sc=Object.defineProperty,Oc=Object.getOwnPropertyDescriptor,Qi=(x,e,t,n)=>{for(var s=n>1?void 0:n?Oc(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Sc(e,t,s),s};class E0 extends R{constructor(e,t,n,s,i){super(e,t,n,s,i)}translateWith(e,t){const n=qe;return super.translateWith(e,t),this.ctrlPoint1!=null&&(this.ctrlPoint1.x+=e,this[n(354)].y+=t),this.ctrlPoint2!=null&&(this.ctrlPoint2.x+=e,this.ctrlPoint2.y+=t),this}setCtrlPoint1(e){const t=qe;this[t(354)]=e,this.matrixDirty=!![]}setCtrlPoint2(e){const t=qe;this[t(339)]=e,this.matrixDirty=!![]}autoCalcCtrlPoint(e,t,n){let s=t.x-e.x,i=t.y-e.y,r=(t.x+e.x)/2,o=(t.y+e.y)/2,a=1-.618;return{x:r+s*a,y:o-i*a}}[Q(334)](e,t,n){const s=Q;return this.ctrlPoint1!=null?this[s(354)]:this.autoCalcCtrlPoint(e,n,t)}calcCtrlPoint2(e,t,n){const s=Q;return this[s(339)]!=null?this.ctrlPoint2:this[s(346)](t,n,e)}resetCtrlPoint(){this.ctrlPoint1=void 0,this.ctrlPoint2=void 0,this.matrixDirty=!![]}getPoint(e){const t=Q;let n=this.getPoints(),s=n[0],i=n[1];n[2];let r=n[3],o=n[4],a=i,c=r,l=T.interpolate(s,a,e),h=T.interpolate(a,c,e),p=T[t(336)](c,o,e),b=T.interpolate(l,h,e),_=T.interpolate(h,p,e);return T.interpolate(b,_,e)}updatePoints(){const e=Q,t=this._calcAZ(),n=t[0],s=t[1];let i={x:(n.x+s.x)/2,y:(n.y+s.y)/2},r=this[e(334)](n,s,i),o=this.calcCtrlPoint2(n,s,i);return[n,r,i,o,s]}}Qi([d("BezierLink")],E0.prototype,"className",2),Qi([d(D[Q(333)])],E0[Q(343)],Q(344),2),Qi([d(R.prototype.serializers.concat(["ctrlPoint1","ctrlPoint2"]))],E0[Q(343)],"serializers",2);function qe(x,e){const t=Ns();return qe=function(n,s){return n=n-332,t[n]},qe(x,e)}const T0={};T0[v[Q(349)]]=function(){return this[Q(355)]()[0]},T0[v.end]=function(){const x=Q;let e=this.getPoints();return e[e[x(351)]-1]},T0[v[Q(338)]]=function(){return this.getPoint(.5,0)},T0[v[Q(354)]]=function(){const x=Q;return this.ctrlPoint1!=null?this[x(354)]:this[x(355)]()[1]},T0[v.ctrlPoint2]=function(){const x=Q;return this.ctrlPoint2!=null?this[x(339)]:this.getPoints()[3]},E0.prototype[Q(341)]=T0;function Ns(){const x=["getPoints","319136LsCqjP","BezierCurve","calcCtrlPoint1","11QZXKUA","interpolate","35IoZgse","center","ctrlPoint2","1754541TEpyuw","DefaultPositions","276910RBmOpH","prototype","shape","99zlXmIK","autoCalcCtrlPoint","9412TJwOOV","49945hytvIr","begin","3627940txwJWI","length","606810HkbROJ","4apKuij","ctrlPoint1"];return Ns=function(){return x},Ns()}function zs(){var x=["17408mCZglk","595UbBVRi","3308456TDOvVb","484363uOiLKR","63PXqitH","removeOutLink","length","852xrXMVQ","633933VXZpHv","1373720JOOEKN","clearPath","1239HnicPo","getPath","135xHSvVn","12498BxXpNh","5784IHdMzs"];return zs=function(){return x},zs()}var $i=Rs;(function(x,e){for(var t=Rs,n=x();[];)try{var s=parseInt(t(474))/1+parseInt(t(468))/2+parseInt(t(461))/3*(parseInt(t(465))/4)+parseInt(t(463))/5*(parseInt(t(464))/6)+parseInt(t(467))/7*(parseInt(t(466))/8)+-parseInt(t(470))/9*(-parseInt(t(475))/10)+parseInt(t(469))/11*(-parseInt(t(473))/12);if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zs,961821);function Rs(x,e){var t=zs();return Rs=function(n,s){n=n-461;var i=t[n];return i},Rs(x,e)}var Lc=Object.defineProperty,Cc=Object.getOwnPropertyDescriptor,Ec=(x,e,t,n)=>{for(var s=n>1?void 0:n?Cc(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Lc(e,t,s),s};class Ws extends R{constructor(e,t,n,s,i){super(e,t,n,s,i)}[$i(462)](){return this.path.endpoints}clearPath(){var e=$i;const t=this.path.endpoints;for(let n=1;n<t.length-1;n++){let s=t[n];s.isDisplayObjectTarget()&&s.target[e(471)](this)}t[e(472)]=0}setPath(e){var t=$i;if(e.length<2)throw new Error("path length is less than 2");this[t(476)](),super._setEndpoints(e),this.matrixDirty=!![]}}Ec([d("PathLink")],Ws.prototype,"className",2);const Fs=Xs;function Hs(){const x=["#346c9c","7701147XWGMxn","#248067","#2775B6","1929658oVnkHj","3249396OjsPGT","8ZJZxGO","#FA7E23","5888136LAbWJx","5321316oaoLqK","2077864FCLLQr","4039540AgBmJw","1VrYsEc"];return Hs=function(){return x},Hs()}(function(x,e){const t=Xs,n=x();for(;[];)try{if(parseInt(t(372))/1*(-parseInt(t(364))/2)+parseInt(t(365))/3+parseInt(t(370))/4+-parseInt(t(371))/5+parseInt(t(368))/6+parseInt(t(369))/7+-parseInt(t(366))/8*(parseInt(t(361))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hs,715722);const Zr=["#475164","#2d2e36",Fs(367),"#FF9900","#FED71A","#2bae85",Fs(362),"#12A182","#5e5314","#1ba784","#0f1423","#4E7ca1","#2474b5",Fs(363),Fs(373),"#61649f","#C06f98","#7e2065","#681752","#EE3f4d","#C02c38"];function Xs(x,e){const t=Hs();return Xs=function(n,s){return n=n-361,t[n]},Xs(x,e)}function Kr(){let x=Math.random()*Zr.length|0;return Zr[x]}const X=pn;function Ys(){const x=["4614SiQAzn","4915060lcBsEs","122202AwSZCv","_stepSize","position","2088972CiFBsj","sin","_actions","forwardTo","96FFXdFV","sizeBy","getMark","addAction","updateDxy","281024wzlVDP","marks","init","43897vOGoMl","forward","_position","turnRight","_direction","moveTo","312dyHzIZ","246760EMUtun","faceToMark","3WooRRp","jump"];return Ys=function(){return x},Ys()}(function(x,e){const t=pn,n=x();for(;[];)try{if(-parseInt(t(339))/1*(parseInt(t(320))/2)+-parseInt(t(337))/3*(parseInt(t(325))/4)+-parseInt(t(335))/5+parseInt(t(341))/6+parseInt(t(328))/7*(-parseInt(t(334))/8)+parseInt(t(344))/9+parseInt(t(340))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ys,158332);function pn(x,e){const t=Ys();return pn=function(n,s){return n=n-320,t[n]},pn(x,e)}const gn=class{constructor(){const x=pn;this[x(343)]={x:0,y:0},this.direction=0,this.stepSize=1,this.dx=1,this.dy=1,this.init()}[X(327)](){const x=X;return this._position={x:0,y:0},this[x(346)]=[],this.marks={},this}addAction(x,e){const t=X;let n={name:x,args:e};return this[t(346)].push(n),this}mark(x){const e=X;if(x==null)throw new Error("mark's name is required.");return this.marks[x]={x:this[e(330)].x,y:this._position.y},this}getMark(x){return this[X(326)][x]}[X(336)](x){let t=this[X(322)](x);return this.faceTo(t)}moveToMark(x){let e=this.getMark(x);return this.moveTo(e)}forwardToMark(x){let t=this[X(322)](x);return this.forwardTo(t)}forwardToMarks(x){for(let e=0;e<x.length;e++){const t=x[e],n=this.getMark(t);this.forwardTo(n)}return this}updateDxy(){const x=X;let e=this._position,t=this._direction,n=this._stepSize,s=e.x+n*Math.cos(t),i=e.y+n*Math[x(345)](t);return this.dx=s-e.x,this.dy=i-e.y,this}faceTo(x){const e=X,t=x.x,n=x.y;return this._direction=Math.atan2(n-this[e(330)].y,t-this[e(330)].x),this.updateDxy(),this}forward(x){const e=X;return this.size(x),this[e(330)].x+=this.dx,this._position.y+=this.dy,this.addAction(gn.OP[e(329)],[this[e(330)].x,this[e(330)].y]),this}jump(x){x==null&&(x=1);for(var e=0;e<x;e++)this._position.x+=this.dx,this._position.y+=this.dy,this.addAction(gn.OP.jump,[this._position.x,this._position.y]);return this}moveTo(x){const e=X,t=x.x,n=x.y;return this._position.x=t,this[e(330)].y=n,this[e(323)](gn.OP[e(333)],[this._position.x,this._position.y]),this}moveToMiddle(x,e){let t={x:(x.x+e.x)/2,y:(x.y+e.y)/2};return this.moveTo(t)}[X(347)](x){const e=X,t=x.x,n=x.y;return this._position.x=t,this._position.y=n,this[e(323)](gn.OP.forwardTo,[this._position.x,this._position.y]),this}turnLeft(x){const e=X;return x==null&&(x=Math.PI/2),this[e(332)]=this._direction-x,this[e(324)](),this}[X(331)](x){return x==null&&(x=-Math.PI/2),this._direction=this._direction+x,this.updateDxy(),this}size(x){const e=X;return this._stepSize=x,this[e(324)](),this}[X(321)](x){const e=X;return this[e(342)]*=x,this.updateDxy(),this}sizeWith(x){return this._stepSize+=x,this.updateDxy(),this}getDistance(x){const e=X,t=x.x,n=x.y;let s=t-this[e(330)].x,i=n-this._position.y;return Math.sqrt(s*s+i*i)}getAngle(x){const e=x.x,t=x.y;return Math.atan2(t-this._position.y,e-this._position.x)}};let Qr=gn;Qr.OP={forward:"forward",forwardTo:X(347),moveTo:X(333),jump:X(338)};const ot=Us;function Us(x,e){const t=Vs();return Us=function(n,s){return n=n-473,t[n]},Us(x,e)}function Vs(){const x=["38492LfESrn","circle","beginPath","12655jzBnAn",`
 return path;`,"restore","1974TjZnvc","length","152WuIWrI","addAction","style","369GagThY","path.","fill","25941936gkiJUW","stroke","ctx","apply","39468nORlPE","_position","117BRUYoF","974744CqgslS","15691iKUsDp","221109xyKTdf","push","1840AjWwIT","string","applyTo","name"];return Vs=function(){return x},Vs()}(function(x,e){const t=Us,n=x();for(;[];)try{if(-parseInt(t(485))/1*(-parseInt(t(500))/2)+-parseInt(t(474))/3*(parseInt(t(492))/4)+parseInt(t(495))/5*(parseInt(t(498))/6)+-parseInt(t(486))/7+-parseInt(t(484))/8*(-parseInt(t(483))/9)+-parseInt(t(488))/10*(-parseInt(t(481))/11)+-parseInt(t(477))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vs,892322);var $r={forward:"lineTo",forwardTo:"lineTo",moveTo:"moveTo",jump:"moveTo"};class to extends Qr{constructor(){super()}[ot(490)](e){const t=ot;let n=this._actions;for(let s=0;s<n[t(499)];s++){const i=n[s];let r=$r[i.name];const o=i.args;r==null&&(r=i.name);let a=e[r];if(a==null)throw new Error("applyTo's target has no method:"+r);if(o==null){a[t(480)](e,[]);continue}o.length?a[t(480)](e,o):e[r]=o}return this}toFunction(){const e=ot;let t=this.toCmd();return new Function(e(479),t)}toPath2D(){const e=ot;let t=this.toCmd(e(475));return t=`var path = new Path2D();
`+t,t=t+e(496),new Function("path",t)()}toCmd(e){return this.toCmds(e).join(`
`)}toCmds(e){const t=ot;let n=this._actions,s=[];e==null&&(e="ctx.");for(let i=0;i<n.length;i++){const r=n[i];let o=$r[r.name];const a=r.args;if(o==null&&(o=r[t(491)]),a==null){s.push(e+o+"();");continue}a.length?s.push(e+o+"("+eo(a)+");"):s[t(487)](e+o+"="+eo(a)+";")}return s}[ot(493)](e){const t=ot;return this.addAction("arc",[this._position.x,this[t(482)].y,e,0,Math.PI*2]),this}[ot(473)](e,t){return this.addAction(e,t),this}text(e){return this[ot(501)]("fillText",[e,this._position.x,this._position.y]),this}lineTo(e){return this.forwardTo(e),this}beginPath(){const e=ot;return this.addAction(e(494)),this}[ot(478)](){return this.addAction("stroke"),this}[ot(476)](){const e=ot;return this.addAction(e(476)),this}save(){return this.addAction("save"),this}restore(){const e=ot;return this.addAction(e(497)),this}}function eo(x){const e=ot;if(!Array.isArray(x)&&typeof x=="string")return'"'+x+'"';let t="";for(let n=0;n<x.length;n++){let s=x[n];typeof s==e(489)?t+='"'+s+'"':t+=""+s,n+1<x.length&&(t+=",")}return t}function Js(){const x=['px" width="',"18376weBkNb","startsWith","svg","width","drawImage","10522831jWTBJb","2681892EbFibT","199642wQNPDW","isHtmlImage","77124jqMUIL","outerHTML","innerHTML","35niapWg","px;height:","substring","src","push","length","height","2939312aPZfhB","opacity","4PYvpwC","10fKJNIc","html","115hdHIUR","style","onload",'<foreignObject width="100%" height="100%" style="position:absolute;top:0;left:0; opacity: ',"canvas","forEach","HtmlImage","1242810FNWPvu","HtmlImage has only src attr","border:0px;position:absolute;top:0px;left:0px;text-align:center;z-index:10;width:","px;opacity:"];return Js=function(){return x},Js()}(function(x,e){const t=At,n=x();for(;[];)try{if(parseInt(t(462))/1*(parseInt(t(476))/2)+-parseInt(t(486))/3+parseInt(t(491))/4*(-parseInt(t(479))/5)+parseInt(t(464))/6*(parseInt(t(467))/7)+-parseInt(t(474))/8+-parseInt(t(461))/9+-parseInt(t(477))/10*(-parseInt(t(460))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Js,234841);function At(x,e){const t=Js();return At=function(n,s){return n=n-458,t[n]},At(x,e)}function Tc(x,e,t){const n=At;t=t|1;const s=document.createElementNS("http://www.w3.org/2000/svg",n(493));return s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s[n(480)]=n(488)+x+n(468)+e+n(489)+t+";",s[n(466)]=n(482)+t+`;">
        '</foreignObject>`,s}function Ac(x){const e=At;let t=document.createElement(e(483));t.width=x.style[e(458)]?+x.style[e(458)]:x.width,t[e(473)]=x.style.height?+x.style.height:x.height;let n=t.getContext("2d");return n.scale(t.width/x.naturalWidth,t.height/x.naturalHeight),n[e(459)](x,0,0),'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink" width="'+x.width+'" height="'+x[e(473)]+'" display="inline" style="vertical-align: middle;display: inline-block"><image xlink:href="'+t.toDataURL("image/png")+'" height="'+x[e(473)]+e(490)+x.width+'px" /></svg>'}async function Dc(x){const e=x.replace(/\<br\>/gi,"<div/>"),t=e.match(/<img .*?>/g);if(t==null||t.length==0)return new Promise(function(s){s([[],[]])});const n=[];return new Promise(function(s){const i=At;t[i(484)](function(r){const o=i,a=document.createElement("div");a[o(466)]=r;const c=a.querySelector("img");c[o(481)]=function(){const l=o,h=Ac(c);n[l(471)](h),n.length==t[l(472)]&&s([t,n])}})})}class no{constructor(e,t,n,s=1){const i=At;this[i(463)]=!![],this.width=1,this.height=1,this.opacity=1,this.isHtmlImage=!![],e!==null&&e[i(492)](i(485))&&(e=e[i(469)]("HtmlImage"[i(472)])),this[i(478)]=e,this.width=t,this.height=n,this.opacity=s|1,this.svg=Tc(t,n,this[i(475)]),this.canvas=document.createElement("canvas")}setSize(e,t){const n=At;this.width=e,this[n(473)]=t}getAttribute(e){const t=At;if(e!="src")throw new Error(t(487));return t(485)+this.html}setHtml(e){this.html=e}getCanvas(){const e=At;let t=this[e(478)];const n=this.svg,s=this;let i=s.canvas,r=i.getContext("2d");return i[e(480)].width=s[e(458)]+"px",i.style.height=s.height+"px",i.width=s.width,i.height=s.height,new Promise(function(o){Dc(t).then(function(a){const c=At,l=a[0],h=a[1];for(let _=0;_<l.length;_++)t=t.replace(l[_],h[_]);const p=n.querySelector("foreignObject");p.innerHTML=t;let b=new Image;b[c(470)]="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(s[c(493)][c(465)]),b.onload=function(){r.drawImage(b,0,0,s.width,s.height),o(i)}})})}}const Ge=qs;(function(x,e){const t=qs,n=x();for(;[];)try{if(-parseInt(t(294))/1+-parseInt(t(289))/2*(-parseInt(t(292))/3)+parseInt(t(298))/4+parseInt(t(291))/5+-parseInt(t(304))/6+-parseInt(t(295))/7*(parseInt(t(299))/8)+-parseInt(t(296))/9*(parseInt(t(300))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gs,857723);var Mc=Object[Ge(293)],Bc=Object.getOwnPropertyDescriptor,xo=(x,e,t,n)=>{for(var s=n>1?void 0:n?Bc(e,t):e,i=x.length-1,r;i>=0;i--)(r=x[i])&&(s=(n?r(e,t,s):r(s))||s);return n&&s&&Mc(e,t,s),s};function qs(x,e){const t=Gs();return qs=function(n,s){return n=n-288,t[n]},qs(x,e)}function Gs(){const x=["concat","rect","100034EhtrBF","down","6452765uvfCrs","90GbCRuh","defineProperty","255694zRjyQf","5268823urFCmG","4844763KZnLRV","draw","5149424KjpJxz","8qpWrAp","10fGTemB","ratio","prototype","direction","10044036AVKSno","width"];return Gs=function(){return x},Gs()}class Zs extends M{constructor(e,t=0,n=0,s=1,i=1){const r=Ge;super(e,t,n,s,i),this[r(301)]=.5,this.direction=v.right}[Ge(297)](e){const t=Ge;let n=this._computedStyle,s=n.fillStyle;n.fillStyle=null,this._strokeAndFill(e),this.mousePickupPath(e),n.fillStyle=s,e.beginPath(),e.fillStyle=s;let i=n.borderWidth||0,r=n.padding||0,o=r*2+i*2,a=-this[t(305)]*.5+i+r,c=-this.height*.5+i+r,l=(this.width-o)*this[t(301)],h=(this.height-o)*this[t(301)];if(this[t(303)]==v.right)h=this.height-o;else if(this.direction==v[t(290)])l=this[t(305)]-o;else if(this.direction==v.left)a=-this[t(305)]*.5+this.width-i-r-l,h=this.height-o;else if(this.direction==v.up)c=-this.height*.5+this.height-i-r-h,l=this.width-o;else throw new Error("Unknow RatioNode's direction:"+this[t(303)]);e[t(288)](a,c,l,h),e.fill(),this._paintText(e)}}xo([d("RatioNode")],Zs.prototype,"className",2),xo([d(M[Ge(302)].serializers[Ge(306)](["ratio","direction"]))],Zs[Ge(302)],"serializers",2);const Ks=bn;(function(x,e){const t=bn,n=x();for(;[];)try{if(parseInt(t(253))/1+parseInt(t(246))/2*(-parseInt(t(252))/3)+parseInt(t(250))/4+-parseInt(t(254))/5+parseInt(t(248))/6*(parseInt(t(247))/7)+parseInt(t(234))/8+parseInt(t(240))/9*(parseInt(t(243))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qs,808909);function Qs(){const x=["6ptnnnc","554911DhMnKi","114zRdRQs","setHtml","1408932MXxGSO","style","1523217sUxMNG","1408505DrUlSE","6805380vNproz","item","offsetHeight","layersContainer","forEach","2836848meUTEv","jtopo_popoupmenu","width","domElement","hide","top","645039MLJCTp","addEventListener","offsetWidth","10uzvLox","height","stage"];return Qs=function(){return x},Qs()}class so extends _t{constructor(e,t){super(),this.stage=e,this.domElement=this.setHtml(t)}remove(){const e=bn;this[e(237)]!=null&&this[e(237)].remove()}[Ks(249)](e){const t=Ks;this.html=e,this.remove();let n=document.createElement("div");return n.classList.add(t(235)),this.stage[t(257)].appendChild(n),n.innerHTML=e,this.initEvent(n),this[t(237)]=n,this[t(238)](),n}initEvent(e){const t=Ks;let n=this;e.querySelectorAll("a")[t(258)](function(i){const r=t;i[r(241)]("click",function(o){const a=r;let c=new Event("select",{cancelable:!![]});c[a(255)]=this.innerHTML,n.dispatchEvent(c),!c.defaultPrevented&&n[a(238)]()})})}showAt(e,t){const n=Ks;this[n(237)][n(251)].display="block",t+this[n(237)].offsetHeight>=this[n(245)].height&&t>this.stage[n(244)]/2&&(t-=this.domElement[n(256)]),e+this[n(237)][n(242)]>=this[n(245)][n(236)]&&e>this[n(245)].width/2&&(e-=this.domElement.offsetWidth),this[n(237)].style.left=e+"px",this[n(237)].style[n(239)]=t+"px"}hide(){this.domElement.style.display="none"}}function bn(x,e){const t=Qs();return bn=function(n,s){return n=n-234,t[n]},bn(x,e)}function gt(x,e){const t=$s();return gt=function(n,s){return n=n-255,t[n]},gt(x,e)}const jc=gt;(function(x,e){const t=gt,n=x();for(;[];)try{if(parseInt(t(262))/1*(-parseInt(t(260))/2)+-parseInt(t(256))/3+parseInt(t(258))/4*(-parseInt(t(267))/5)+-parseInt(t(274))/6+parseInt(t(268))/7*(-parseInt(t(263))/8)+parseInt(t(255))/9*(-parseInt(t(275))/10)+parseInt(t(272))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($s,465139);function $s(){const x=["parentNode","30327220SciPux","opacity","500676qcTsLS","102670bhTuDS","remove","0.9","639KPoZHX","2080209xNEglb","domElement","228kLxfVd","add","6YoVBZq","display","80143VyGOAv","24QTqSCI","fadeOut","stopFade","layersContainer","24785vpmOLg","613893opmUYW","style","fadeoutTimer"];return $s=function(){return x},$s()}class io extends _t{constructor(e){const t=gt;super(),this.stage=e,this.domElement=document.createElement("div"),this.domElement.classList[t(259)]("jtopo_tooltip"),this.stage[t(266)].appendChild(this.domElement),this.initEvent(),this.hide()}disable(){const e=gt;this.domElement&&this.domElement[e(276)]()}enabled(){const e=gt;this[e(257)]&&this.domElement[e(271)]==null&&this.stage.layersContainer.appendChild(this[e(257)])}setHtml(e){const t=gt;return this[t(257)].innerHTML=e,this[t(257)]}initEvent(){const e=this,t=this.stage.inputSystem;t.on("mousedown",function(){e.hide()}),t.on("mouseup",function(){e.hide()}),t.on("mousemove",function(){const n=gt;t.mouseoverTarget==null&&e[n(264)]()})}showAt(e,t){const n=gt;this[n(265)](),this.domElement[n(269)][n(261)]="block",this[n(257)][n(269)].left=e+"px",this.domElement.style.top=t+"px",this.domElement.style[n(273)]=n(277)}hide(){const e=gt;this[e(265)](),this.domElement[e(269)].display="none"}stopFade(){const e=gt;this.fadeoutTimer!=null&&(clearInterval(this[e(270)]),this[e(270)]=null)}[jc(264)](e=50){if(this.fadeoutTimer!=null)return;let t=this;this.fadeoutTimer=setInterval(function(){const n=gt;t.domElement.style.opacity-=.1,t[n(257)].style.opacity<=.1&&t.hide()},e)}}const ro=ie;(function(x,e){const t=ie,n=x();for(;[];)try{if(-parseInt(t(403))/1+parseInt(t(404))/2*(-parseInt(t(410))/3)+parseInt(t(402))/4*(-parseInt(t(401))/5)+-parseInt(t(406))/6+-parseInt(t(400))/7+parseInt(t(417))/8*(-parseInt(t(396))/9)+parseInt(t(418))/10*(parseInt(t(405))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ti,534626);function ie(x,e){const t=ti();return ie=function(n,s){return n=n-396,t[n]},ie(x,e)}function ti(){const x=["212536gSPJTb","24018770QfbhaG","117UuTycB","setValue","value","onkeydown","2332561nxqjap","1763590xNLQeI","4dUKBaG","302545lbPBGI","728PgIwAp","11aLwnab","1466268hZqUMw","style","width","appendChild","2382ZyhFFe","textarea","editor","height","ctrlKey","hide","none"];return ti=function(){return x},ti()}class oo{constructor(e){const t=ie;this[t(412)]=e,this.stage=e.stage;let n=document.createElement("textarea");n.classList.add("jtopo_input_textfield"),this.stage.layersContainer[t(409)](n);let s=this;n[t(399)]=function(i){s.onkeydown(i)},this.textarea=n}attachTo(e,t){const n=ie;let s={x:t.x-50,y:t.y};if(e.isNode){let i=e.positionToLocalPoint(v.lt);s=e.toStageXY(i.x,i.y);let r=lx(e.width,60,100),o=lx(e[n(413)],60,100);this.setSize(r,o)}else if(e.isLink)return;this[n(397)](e.text),this.show(s.x,s.y)}setValue(e){this.textarea.value=e}setSize(e,t){const n=ie;this[n(411)][n(407)][n(408)]=e+"px",this.textarea.style.height=t+"px"}show(e,t){const n=ie;this[n(411)].style.display="block",this.textarea.focus(),e!=null&&(e=Math.max(0,e),t=Math.max(0,t),this.textarea[n(407)].left=e,this.textarea.style.top=t)}hide(){const e=ie;this.textarea.style.display=e(416)}[ro(399)](e){const t=ro;let n=this.textarea;if(e.key=="Enter"&&(e[t(414)]||e.metaKey)){let s=this.stage.inputSystem.target;if(s==null)return;s.text=n[t(398)],n.style.display=t(416),this[t(415)]()}}}function ei(){var x=["2cokJVj","5823wedwcl","783008tVCLAN","717916CQdolk","1451091iXKTgg","75959257UqyqcH","35YUzGaa","1460819FWVUau","35DNsxyY","24070uwNDTg","10360464IxucIU"];return ei=function(){return x},ei()}function tr(x,e){var t=ei();return tr=function(n,s){n=n-222;var i=t[n];return i},tr(x,e)}(function(x,e){for(var t=tr,n=x();[];)try{var s=-parseInt(t(224))/1+-parseInt(t(228))/2*(parseInt(t(232))/3)+-parseInt(t(231))/4*(parseInt(t(223))/5)+-parseInt(t(227))/6+parseInt(t(225))/7*(parseInt(t(230))/8)+parseInt(t(229))/9*(-parseInt(t(226))/10)+parseInt(t(222))/11;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ei,909825),function(x,e){for(var t=er,n=x();[];)try{var s=parseInt(t(242))/1+parseInt(t(244))/2+parseInt(t(237))/3+parseInt(t(243))/4*(-parseInt(t(245))/5)+parseInt(t(241))/6*(parseInt(t(239))/7)+-parseInt(t(240))/8*(-parseInt(t(238))/9)+-parseInt(t(246))/10;if(s===e)break;n.push(n.shift())}catch{n.push(n.shift())}}(ni,165326);function ni(){var x=["12MIvadw","133959HfaLqg","20KUZiBh","559826wYudym","16265FRbtHw","8580690sYICvv","766716hbpLMM","18NVnSPv","1032549yClEzV","300808MrOrol"];return ni=function(){return x},ni()}function er(x,e){var t=ni();return er=function(n,s){n=n-237;var i=t[n];return i},er(x,e)}const Nc=Object.freeze(Object.defineProperty({__proto__:null,AENode:is,Animation:Xi,AnimationSystem:Yi,ArcLink:C0,ArcShape:r0,ArrowShape:n0,AutoFoldLink:xe,BezierCurveShape:i0,BezierLink:E0,CircleNode:b0,CircleShape:Nn,Collection:z,Config:re,Cursor:ir,CurveLink:Ue,CurveShape:s0,Debug:$t,DefaultDarkTheme:Bi,DefaultLightTheme:fe,DefaultZIndexs:$e,Direction:ke,DisplayObject:E,DomUtil:ge,Edge:us,EffectSystem:Ji,EllipseShape:zn,Endpoint:Ct,EndpointFixedName:he,EndpointFixedPoint:zt,EndpointFunction:Z0,EndpointNearest:ue,EndpointSegment:u0,EventNames:at,EventTarget:_t,FlexionalLink:_e,FoldLink:_0,FontInfo:oe,FontUtil:qn,ForceDirectLayout:Gr,Graph:k0,GraphSystem:Ye,HandlerLayer:$0,HtmlImage:no,ImageUtil:Lt,InputEvent:V,InputSystem:jx,InputTextfield:oo,Intersect:V0,Keyboard:Ri,Layer:ht,LayerLocalDeep:D0,Layout:ln,LayoutSystem:qi,LineShape:x0,LinearGradient:Te,Link:R,LinkHelper:m0,Node:M,NodeHelper:Xt,OBB:Bt,PI2:Qe,Path:Vr,PathLink:Ws,Point:T,PopupMenu:so,Position:v,PositionInvertMap:rr,RadialGradient:c0,RatioNode:Zs,RectDefaultPositions:qt,RectShape:z0,Rectangle:j,ResourceLoader:tt,Runtime:ji,SelectedGroup:Wi,SerializerSystem:Le,Shape:D,Stage:ks,StageLocalDeep:si,StageMode:yt,Style:it,StylePattern:ce,StyleSystem:Ui,TextNode:ne,Theme:Me,TipNode:O0,TipShape:Se,Toolbar:zi,Tooltip:io,TopoEvent:Ir,TopoPainter:to,Transform:t0,VERSION:wn,Vertext:Xe,VideoNode:L0,clickEvent:mi,convertToEndpoint:Rt,copyKeyboardEvent:tx,copyMouseEvent:mr,dblclickEvent:Ii,dragEndEvent:Pi,dragEvent:ki,dropEvent:Oi,dropoutEvent:Li,dropoverEvent:Si,getClass:Dn,getEndpointNormal:dx,getLineIntersectPoint:J0,getLineIntersectPoints:Di,getNearestAnchorOnObjects:Lr,getNearestPointOnLines:cx,getNearestPointOnObjectsOBB:Or,getNearestPositionName:Cr,getParallelLine:kr,getParallelLines:vr,getPointByEndpoint:De,getRectPositionDirection:oi,getRectPositionRotate:ai,isHorizontal:q0,jtopo:ft,mousedownEvent:gi,mousedragEvent:wr,mouseenterEvent:wi,mousemoveEvent:yi,mouseoutEvent:vi,mouseoverEvent:_i,mouseupEvent:bi,newInstance:e0,pointProjectToLine:Pr,randomColor:Kr,range:lx,regClass:or,selectedEvent:Ci,setProto:d,touchendEvent:pi,touchmoveEvent:nx,touchstartEvent:fi,unselectedEvent:Ei,util:It,vec2:B},Symbol.toStringTag,{value:"Module"}));function nr(x,e){const t=xi();return nr=function(n,s){return n=n-481,t[n]},nr(x,e)}(function(x,e){const t=nr,n=x();for(;[];)try{if(parseInt(t(488))/1*(-parseInt(t(483))/2)+-parseInt(t(491))/3+parseInt(t(482))/4+parseInt(t(487))/5+-parseInt(t(486))/6*(parseInt(t(490))/7)+-parseInt(t(485))/8*(parseInt(t(484))/9)+parseInt(t(481))/10*(parseInt(t(489))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xi,705970);function xi(){const x=["15239873aLDUZx","2989BpSlaz","3429129OwOtAS","10gLSFLU","2711728IwelEm","3330GNqkds","18NEVIBv","533864XGaQmE","522HmhOvt","155890XtDgUV","45IPKBiF"];return xi=function(){return x},xi()}let ao=ft;Object.assign(ao,Nc),delete ao.jtopo,f.AENode=is,f.Animation=Xi,f.AnimationSystem=Yi,f.ArcLink=C0,f.ArcShape=r0,f.ArrowShape=n0,f.AutoFoldLink=xe,f.BezierCurveShape=i0,f.BezierLink=E0,f.CircleNode=b0,f.CircleShape=Nn,f.Collection=z,f.Config=re,f.Cursor=ir,f.CurveLink=Ue,f.CurveShape=s0,f.Debug=$t,f.DefaultDarkTheme=Bi,f.DefaultLightTheme=fe,f.DefaultZIndexs=$e,f.Direction=ke,f.DisplayObject=E,f.DomUtil=ge,f.Edge=us,f.EffectSystem=Ji,f.EllipseShape=zn,f.Endpoint=Ct,f.EndpointFixedName=he,f.EndpointFixedPoint=zt,f.EndpointFunction=Z0,f.EndpointNearest=ue,f.EndpointSegment=u0,f.EventNames=at,f.EventTarget=_t,f.FlexionalLink=_e,f.FoldLink=_0,f.FontInfo=oe,f.FontUtil=qn,f.ForceDirectLayout=Gr,f.Graph=k0,f.GraphSystem=Ye,f.HandlerLayer=$0,f.HtmlImage=no,f.ImageUtil=Lt,f.InputEvent=V,f.InputSystem=jx,f.InputTextfield=oo,f.Intersect=V0,f.Keyboard=Ri,f.Layer=ht,f.LayerLocalDeep=D0,f.Layout=ln,f.LayoutSystem=qi,f.LineShape=x0,f.LinearGradient=Te,f.Link=R,f.LinkHelper=m0,f.Node=M,f.NodeHelper=Xt,f.OBB=Bt,f.PI2=Qe,f.Path=Vr,f.PathLink=Ws,f.Point=T,f.PopupMenu=so,f.Position=v,f.PositionInvertMap=rr,f.RadialGradient=c0,f.RatioNode=Zs,f.RectDefaultPositions=qt,f.RectShape=z0,f.Rectangle=j,f.ResourceLoader=tt,f.Runtime=ji,f.SelectedGroup=Wi,f.SerializerSystem=Le,f.Shape=D,f.Stage=ks,f.StageLocalDeep=si,f.StageMode=yt,f.Style=it,f.StylePattern=ce,f.StyleSystem=Ui,f.TextNode=ne,f.Theme=Me,f.TipNode=O0,f.TipShape=Se,f.Toolbar=zi,f.Tooltip=io,f.TopoEvent=Ir,f.TopoPainter=to,f.Transform=t0,f.VERSION=wn,f.Vertext=Xe,f.VideoNode=L0,f.clickEvent=mi,f.convertToEndpoint=Rt,f.copyKeyboardEvent=tx,f.copyMouseEvent=mr,f.dblclickEvent=Ii,f.dragEndEvent=Pi,f.dragEvent=ki,f.dropEvent=Oi,f.dropoutEvent=Li,f.dropoverEvent=Si,f.getClass=Dn,f.getEndpointNormal=dx,f.getLineIntersectPoint=J0,f.getLineIntersectPoints=Di,f.getNearestAnchorOnObjects=Lr,f.getNearestPointOnLines=cx,f.getNearestPointOnObjectsOBB=Or,f.getNearestPositionName=Cr,f.getParallelLine=kr,f.getParallelLines=vr,f.getPointByEndpoint=De,f.getRectPositionDirection=oi,f.getRectPositionRotate=ai,f.isHorizontal=q0,f.jtopo=ft,f.mousedownEvent=gi,f.mousedragEvent=wr,f.mouseenterEvent=wi,f.mousemoveEvent=yi,f.mouseoutEvent=vi,f.mouseoverEvent=_i,f.mouseupEvent=bi,f.newInstance=e0,f.pointProjectToLine=Pr,f.randomColor=Kr,f.range=lx,f.regClass=or,f.selectedEvent=Ci,f.setProto=d,f.touchendEvent=pi,f.touchmoveEvent=nx,f.touchstartEvent=fi,f.unselectedEvent=Ei,f.util=It,f.vec2=B,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
