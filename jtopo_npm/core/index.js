const d0 = Qe;
(function(x, e) {
  const t = Qe, n = x();
  for (; []; )
    try {
      if (-parseInt(t(120)) / 1 * (-parseInt(t(118)) / 2) + parseInt(t(117)) / 3 + -parseInt(t(114)) / 4 + -parseInt(t(116)) / 5 * (-parseInt(t(123)) / 6) + parseInt(t(112)) / 7 + parseInt(t(125)) / 8 + -parseInt(t(113)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(On, 594849);
function Fr(x, e, t) {
  return x[0] = e[0] + t[0], x[1] = e[1] + t[1], x;
}
function Ji(x, e, t) {
  return x[0] = e[0] * t, x[1] = e[1] * t, x;
}
function Xr(x, e, t) {
  return x[0] = e[0] * t, x[1] = e[1] * t, x;
}
function On() {
  const x = ["6754544pYFcKU", "add", "2143204HzmHEx", "18548703HZtlSI", "1066432lmsprd", "projection", "5kFGmwN", "1053951JcuMOD", "2GEaRZb", "sqrt", "500429vCMoBe", "multiplyC", "dot", "5521128Imqnnp", "negate"];
  return On = function() {
    return x;
  }, On();
}
function Yr(x, e) {
  return x[0] = -e[0], x[1] = -e[1], x;
}
function Qe(x, e) {
  const t = On();
  return Qe = function(n, s) {
    return n = n - 112, t[n];
  }, Qe(x, e);
}
function Ur(x, e) {
  let n = Math[Qe(119)](e[0] * e[0] + e[1] * e[1]);
  return n == 0 ? (x[0] = 0, x[0] = 0, x) : (x[0] = e[0] / n, x[1] = e[1] / n, x);
}
function Vr(x) {
  return Math[Qe(119)](x[0] * x[0] + x[1] * x[1]);
}
function qi(x, e) {
  return x[0] * e[0] + x[1] * e[1];
}
function Jr(x, e, t) {
  let n = qi(e, t);
  return Ji(x, t, n), x;
}
class M {
}
M[d0(121)] = Ji, M.scale = Xr, M.len = Vr, M[d0(124)] = Yr, M[d0(126)] = Fr, M.normalize = Ur, M[d0(122)] = qi, M[d0(115)] = Jr;
const It = Ln;
function Ln(x, e) {
  const t = Cn();
  return Ln = function(n, s) {
    return n = n - 114, t[n];
  }, Ln(x, e);
}
function Cn() {
  const x = ["zoomAfter", "crosshair", "4NCVxQj", "508120kixaqa", "894132bJzaKw", "196434KRvbgC", "8xLshmQ", "center", "horizontal", "mid1", "58632Zamhfg", "resize", "fullWindow", "7JJaAMZ", "vertical", "4rCHVxs", "267615jWdhHl", "modeChange", "zoom", "fold2", "view", "3351360QoVvQo", "8275157WAgiOq"];
  return Cn = function() {
    return x;
  }, Cn();
}
(function(x, e) {
  const t = Ln, n = x();
  for (; []; )
    try {
      if (-parseInt(t(131)) / 1 * (parseInt(t(116)) / 2) + -parseInt(t(122)) / 3 * (parseInt(t(121)) / 4) + parseInt(t(132)) / 5 + -parseInt(t(133)) / 6 * (parseInt(t(119)) / 7) + parseInt(t(135)) / 8 * (parseInt(t(134)) / 9) + -parseInt(t(127)) / 10 + parseInt(t(128)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Cn, 185110);
const wt = { DefaultFont: "10px sans-serif" }, Re = { PointClosestEpsilon: 0.01, DefaultLightName: "DefaultLight", DefaultDarkName: "DefaultDark", flatten: !![] }, M0 = 2 * Math.PI, gi = "2.5.3_试用版", St = { drag: "drag", edit: "edit", normal: "normal", select: "select", view: It(126) }, qr = { auto: "auto", move: "move", hand: "hand", crosshair: It(130), s_resize: "s-resize", n_resize: "n-resize", w_resize: "w-resize", e_resize: "e-resize" }, $e = { horizontal: It(114), vertical: It(120) }, v = { lt: "lt", ct: "ct", rt: "rt", lm: "lm", center: It(136), rm: "rm", lb: "lb", cb: "cb", rb: "rb", nearest: "nearest", begin: "begin", end: "end", ctrlPoint: "ctrlPoint", ctrlPoint1: "ctrlPoint1", ctrlPoint2: "ctrlPoint2", fold1: "fold1", fold2: It(125), mid: "mid", mid1: It(115), mid2: "mid2", up: "up", down: "down", left: "left", right: "right" }, Gr = { lt: v.rb, ct: v.cb, rt: v.lb, rm: v.lm, rb: v.lt, cb: v.ct, lb: v.rt, lm: v.rm }, rn = { HandlerLayerCanvas: 99, FullWindowDom: 1e3, Link: 1, Node: 2, EditorNewLink: 3, IntersectPoint: 999, NodeCtrlBox: 1e3, LinkCtrlBox: 1001 }, Gi = 0, En = 1, ft = { zoom: It(124), resize: It(117), zoomAfter: It(129), fullWindow: It(118), modeChange: It(123), groupdrag: "groupdrag", groupdragend: "groupdragend", selectObject: "selectObject" };
function d(x) {
  return (e, t) => {
    e[t] = x;
  };
}
const kt = B0;
function B0(x, e) {
  const t = Tn();
  return B0 = function(n, s) {
    return n = n - 120, t[n];
  }, B0(x, e);
}
(function(x, e) {
  const t = B0, n = x();
  for (; []; )
    try {
      if (parseInt(t(142)) / 1 * (-parseInt(t(122)) / 2) + -parseInt(t(137)) / 3 + -parseInt(t(131)) / 4 * (-parseInt(t(144)) / 5) + -parseInt(t(129)) / 6 * (parseInt(t(125)) / 7) + -parseInt(t(128)) / 8 * (parseInt(t(133)) / 9) + parseInt(t(121)) / 10 * (parseInt(t(123)) / 11) + parseInt(t(138)) / 12 * (parseInt(t(134)) / 13) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Tn, 732465);
function Tn() {
  const x = ["interpolate", "35HKhJSq", "createPoints", "14585zDvTmj", "calculatePointOnMultiPointLine", "length", "5982290AIdWjq", "51354QEWVOU", "22NMAsHf", "push", "7rRNMeU", "distancePoint", "assert error betweenPoints", "8YEPFej", "6707976ImnGwl", "distance", "552OOIESW", "atan2", "8292168qlwuyy", "6981Cplpsu", "cos", "offsetWithAngle", "854556gzhdmw", "52656izUxUh", "sqrt", "rotate"];
  return Tn = function() {
    return x;
  }, Tn();
}
class T {
  constructor(e = 0, t = 0) {
    this.x = e, this.y = t;
  }
  toJSON() {
    return { x: this.x, y: this.y };
  }
  static isLikePoint(e) {
    const t = B0;
    return e instanceof T ? !![] : Object.keys(e)[t(120)] == 2 && e.x != null && e.y != null;
  }
  static looksSame(e, t, n) {
    if (e === t)
      return !![];
    let s = Math.abs(t.x - e.x), i = Math.abs(t.y - e.y);
    return n == null && (n = 0.01), s < n && i < n;
  }
  static middle(e, t) {
    return { x: (t.x + e.x) / 2, y: (t.y + e.y) / 2 };
  }
  static getAngle(e, t) {
    return Math.atan2(t.y - e.y, t.x - e.x);
  }
  static [kt(140)](e, t, n, s, i) {
    return { x: (e - n) * Math.cos(i) - (t - s) * Math.sin(i) + n, y: (e - n) * Math.sin(i) + (t - s) * Math.cos(i) + s };
  }
  static rotatePoint(e, t, n) {
    return { x: (e.x - t.x) * Math.cos(n) - (e.y - t.y) * Math.sin(n) + t.x, y: (e.x - t.x) * Math.sin(n) + (e.y - t.y) * Math.cos(n) + t.y };
  }
  static [kt(130)](e, t, n, s) {
    let i = n - e, r = s - t;
    return Math.sqrt(i * i + r * r);
  }
  static distancePoint(e, t) {
    const n = kt;
    let s = t.x - e.x, i = t.y - e.y;
    return Math[n(139)](s * s + i * i);
  }
  static mergeClosestPoints(e, t = Re.PointClosestEpsilon) {
    const n = kt;
    let s = [e[0]];
    for (let i = 1; i < e.length - 1; i++) {
      let r = s[s.length - 1], o = e[i], a = e[i + 1];
      if (o.x === a.x && o.y === a.y)
        continue;
      let c = M.normalize([], [o.x - r.x, o.y - r.y]), l = M.normalize([], [a.x - o.x, a.y - o.y]);
      Math.abs(c[0] - l[0]) < t && Math.abs(c[1] - l[1]) < t || s.push(o);
    }
    return s[n(124)](e[e.length - 1]), s;
  }
  static forward(e, t, n) {
    const s = kt;
    let i = Math[s(132)](t.y - e.y, t.x - e.x);
    return { x: e.x + n * Math[s(135)](i), y: e.y + n * Math.sin(i) };
  }
  static [kt(136)](e, t, n) {
    return typeof n == "number" && (n = { x: Math[kt(135)](t) * n, y: Math.sin(t) * n }), { x: e.x + n.x, y: e.y + n.y };
  }
  static createPoints(e, t, n = 1, s = ![]) {
    const i = s ? [e] : [], r = s ? n - 1 : n;
    let o = e;
    for (var a = 0; a < r; a++) {
      const c = { x: o.x + t[0], y: o.y + t[1] };
      i.push(c), o = c;
    }
    return i;
  }
  static createPointsBidirectional(e, t, n) {
    const s = kt;
    if (n == 0)
      return [];
    const i = [-t[0], -t[1]];
    if (n % 2 == 0) {
      const a = [t[0] / 2, t[1] / 2], c = { x: e.x - a[0], y: e.y - a[1] }, l = { x: e.x + a[0], y: e.y + a[1] }, h = T.createPoints(c, i, n / 2, !![]), f = T.createPoints(l, t, n / 2, !![]);
      return h.concat(f);
    }
    const r = T.createPoints(e, i, (n - 1) / 2 + 1, !![]), o = T[s(143)](e, t, (n - 1) / 2, ![]);
    return r.concat(o);
  }
  static interpolate(e, t, n) {
    let s = (1 - n) * e.x, i = (1 - n) * e.y, r = n * t.x, o = n * t.y;
    return { x: s + r, y: i + o };
  }
  static getDistanceSum(e) {
    const t = kt;
    let n = e.length;
    if (n < 2)
      throw new Error("points.length < 2");
    let s = e[0], i = e[n - 1];
    if (e.length == 2)
      return T[t(126)](s, i);
    let r = 0;
    for (var o = 1; o < n; o++)
      r += T.distancePoint(e[o - 1], e[o]);
    return r;
  }
  static [kt(145)](e, t) {
    const n = kt;
    let s = e[n(120)];
    if (e[n(120)] < 2)
      throw new Error("points.length < 2");
    let i = e[0], r = e[e.length - 1];
    if (e.length == 2)
      return T.interpolate(i, r, t);
    if (t < 0)
      return T.interpolate(e[0], e[1], t);
    if (t > 1)
      return T.interpolate(e[e[n(120)] - 2], e[e[n(120)] - 1], t);
    let o = T.getDistanceSum(e), a = o * t, c = 0;
    for (var l = 1; l < s; l++) {
      let h = T.distancePoint(e[l - 1], e[l]);
      if (a >= c && a <= c + h) {
        let f = a - c, g = f / h;
        return T[n(141)](e[l - 1], e[l], g);
      }
      c += h;
    }
    throw console.log(e, t), new Error(n(127));
  }
}
function An() {
  const x = ["156246yFtRGt", "2287305FwzHhM", "1897920qmMmlC", "getScale", "point", "scaleX", "height", "translate", "483nqmgPV", "width", "skewY", "2432580KhhgZo", "6126060tlOhXI", "cos", "186MjrWoY", "20898171KEUviX", "rotateTarget", "13256ymzRfj", "getMatrix"];
  return An = function() {
    return x;
  }, An();
}
const Tt = j0;
(function(x, e) {
  const t = j0, n = x();
  for (; []; )
    try {
      if (parseInt(t(121)) / 1 * (parseInt(t(105)) / 2) + parseInt(t(108)) / 3 + -parseInt(t(118)) / 4 + -parseInt(t(119)) / 5 + -parseInt(t(107)) / 6 * (parseInt(t(115)) / 7) + parseInt(t(109)) / 8 + parseInt(t(103)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(An, 924316);
function j0(x, e) {
  const t = An();
  return j0 = function(n, s) {
    return n = n - 103, t[n];
  }, j0(x, e);
}
class on {
  constructor(e) {
    const t = j0;
    this[t(116)] = 1, this.height = 1, this.rotation = 0, this.m = e && e.slice() || [1, 0, 0, 1, 0, 0];
  }
  get skewX() {
    return this.m[1];
  }
  get [Tt(117)]() {
    return this.m[2];
  }
  get [Tt(112)]() {
    return this.m[0];
  }
  get scaleY() {
    return this.m[3];
  }
  get x() {
    return this.m[4];
  }
  get y() {
    return this.m[5];
  }
  copy() {
    const e = Tt;
    let t = new on(this.m);
    return t[e(116)] = this[e(116)], t[e(113)] = this.height, t.rotation = this.rotation, t;
  }
  identity() {
    this.m[0] = 1, this.m[1] = 0, this.m[2] = 0, this.m[3] = 1, this.m[4] = 0, this.m[5] = 0;
  }
  transform(e, t, n, s, i, r) {
    let o = [e, t, n, s, i, r], a = this.m[0] * o[0] + this.m[2] * o[1], c = this.m[1] * o[0] + this.m[3] * o[1], l = this.m[0] * o[2] + this.m[2] * o[3], h = this.m[1] * o[2] + this.m[3] * o[3], f = this.m[0] * o[4] + this.m[2] * o[5] + this.m[4], g = this.m[1] * o[4] + this.m[3] * o[5] + this.m[5];
    this.m[0] = a, this.m[1] = c, this.m[2] = l, this.m[3] = h, this.m[4] = f, this.m[5] = g;
  }
  [Tt(111)](e) {
    let t = this.m;
    return { x: t[0] * e.x + t[2] * e.y + t[4], y: t[3] * e.y + t[1] * e.x + t[5] };
  }
  vec(e, t) {
    let n = this.m;
    return e[0] = n[0] * t[0] + n[2] * t[1], e[1] = n[3] * t[1] + n[1] * t[0], e;
  }
  points(e) {
    const t = Tt;
    let n = [];
    for (var s = 0; s < e.length; s++) {
      let i = e[s];
      n.push(this[t(111)](i));
    }
    return n;
  }
  translate(e, t) {
    return this.m[4] += this.m[0] * e + this.m[2] * t, this.m[5] += this.m[1] * e + this.m[3] * t, this;
  }
  translateTo(e, t) {
    return this.m[4] = e, this.m[5] = t, this;
  }
  scale(e, t) {
    return this.m[0] *= e, this.m[1] *= e, this.m[2] *= t, this.m[3] *= t, this;
  }
  [Tt(110)]() {
    return { x: this.m[0], y: this.m[3] };
  }
  rotate(e) {
    let n = Math[Tt(120)](e), s = Math.sin(e), i = this.m[0] * n + this.m[2] * s, r = this.m[1] * n + this.m[3] * s, o = this.m[0] * -s + this.m[2] * n, a = this.m[1] * -s + this.m[3] * n;
    return this.m[0] = i, this.m[1] = r, this.m[2] = o, this.m[3] = a, this;
  }
  [Tt(104)](e, t, n) {
    this[Tt(114)](t, n), this.rotate(e), this.translate(-t, -n);
  }
  getTranslation() {
    return { x: this.m[4], y: this.m[5] };
  }
  multiply(e) {
    let t = this.m, n = e.m, s = t[0] * n[0] + t[2] * n[1], i = t[1] * n[0] + t[3] * n[1], r = t[0] * n[2] + t[2] * n[3], o = t[1] * n[2] + t[3] * n[3], a = t[0] * n[4] + t[2] * n[5] + t[4], c = t[1] * n[4] + t[3] * n[5] + t[5];
    return this.m[0] = s, this.m[1] = i, this.m[2] = r, this.m[3] = o, this.m[4] = a, this.m[5] = c, this;
  }
  invert() {
    let e = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]), t = this.m[3] * e, n = -this.m[1] * e, s = -this.m[2] * e, i = this.m[0] * e, r = e * (this.m[2] * this.m[5] - this.m[3] * this.m[4]), o = e * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);
    return this.m[0] = t, this.m[1] = n, this.m[2] = s, this.m[3] = i, this.m[4] = r, this.m[5] = o, this;
  }
  [Tt(106)]() {
    return this.m;
  }
  setAbsolutePosition(e, t) {
    let n = this.m[0], s = this.m[1], i = this.m[2], r = this.m[3], o = this.m[4], a = this.m[5], c = (n * (t - a) - s * (e - o)) / (n * r - s * i), l = (e - o - i * c) / n;
    return this.translate(l, c);
  }
}
function Dn() {
  const x = ["1978866HOnYUP", "max", "1445328DdnwNV", "2363336HyTsPJ", "top", "getRight", "center", "normal", "toString", "21aAjrYa", "union", "clone", "40TPLVRr", "1233652xUNhdP", "44oLnenF", "5cjoZYi", "height", " y:", "equals", "98006kncTff", " height:", " width:", "1406712WRNWIZ", "8pDhWOW", "getBottom", "bottom", "242034IfgMUH", "abs", "toPoints", "sign", "width", "right", "setTo"];
  return Dn = function() {
    return x;
  }, Dn();
}
const H = z0;
(function(x, e) {
  const t = z0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(288)) / 1 + -parseInt(t(281)) / 2 * (-parseInt(t(271)) / 3) + parseInt(t(265)) / 4 + parseInt(t(277)) / 5 * (-parseInt(t(295)) / 6) + parseInt(t(275)) / 7 * (-parseInt(t(285)) / 8) + parseInt(t(297)) / 9 * (parseInt(t(274)) / 10) + parseInt(t(276)) / 11 * (-parseInt(t(284)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Dn, 359238);
class j {
  constructor(e = 0, t = 0, n = 0, s = 0) {
    const i = z0;
    this.x = 0, this.y = 0, this[i(292)] = 0, this[i(278)] = 0, this.x = e, this.y = t, this.width = n, this.height = s;
  }
  setTo(e = 0, t = 0, n = 0, s = 0) {
    this.x = e, this.y = t, this.width = n, this.height = s;
  }
  getRect() {
    return this;
  }
  [H(273)]() {
    return new j(this.x, this.y, this.width, this.height);
  }
  [H(270)]() {
    const e = H;
    return "[x: " + this.x + e(279) + this.y + e(283) + this.width + e(282) + this.height + "]";
  }
  [H(280)](e) {
    const t = H;
    return e.x == this.x && e.y == this.y && e.width == this.width && e[t(278)] == this.height;
  }
  containsRect(e) {
    const t = H;
    return e.x > this.x && e[t(267)]() < this.getRight() && e.y > this.y && e.getBottom() < this.getBottom() ? !![] : ![];
  }
  contains(e, t) {
    const n = H;
    return e >= this.x && e <= this.x + this[n(292)] && t >= this.y && t <= this.y + this.height;
  }
  isIntersectRect(e) {
    return e.x > this.getRight() || e.y > this.getBottom() ? ![] : e.getRight() < this.x || e.getBottom() < this.y ? ![] : !![];
  }
  [H(267)]() {
    return this.x + this.width;
  }
  getBottom() {
    const e = H;
    return this.y + this[e(278)];
  }
  isEmpty() {
    return this.x === 0 && this.y === 0 && this.width === 0 && this.height === 0;
  }
  setToEmpty() {
    this[H(294)](0, 0, 0, 0);
  }
  getCenter() {
    const e = H;
    return { x: this.x + this[e(292)] / 2, y: this.y + this.height / 2 };
  }
  [H(290)]() {
    return [{ x: this.x, y: this.y }, { x: this.right, y: this.y }, { x: this.right, y: this.bottom }, { x: this.x, y: this.bottom }];
  }
  static [H(272)](e, t) {
    const n = H;
    let s = Math.min(e.x, t.x), i = Math.min(e.y, t.y), r = Math.max(e.getRight(), t.getRight()), o = Math[n(296)](e.getBottom(), t[n(286)]());
    return e.setTo(s, i, r - s, o - i), e;
  }
  static unionRects(e) {
    let t = e[0].clone();
    for (let n = 1; n < e.length; n++)
      t = j.union(t, e[n]);
    return t;
  }
  static [H(269)](e, t) {
    const n = H;
    let s = t.x - e.x, i = t.y - e.y;
    return Math[n(289)](s) > Math.abs(i) ? [Math[n(291)](s), 0] : [0, Math.sign(i)];
  }
  get left() {
    return this.x;
  }
  set left(e) {
    this.x = e;
  }
  get [H(293)]() {
    return this.x + this.width;
  }
  set right(e) {
    this.x = e - this.width;
  }
  get [H(266)]() {
    return this.y;
  }
  set top(e) {
    this.y = e + this.height;
  }
  get bottom() {
    return this.y + this.height;
  }
  set [H(287)](e) {
    const t = H;
    this.y = e - this[t(278)];
  }
  get [H(268)]() {
    const e = H;
    return this.x + this[e(292)] * 0.5;
  }
  set center(e) {
    this.x = e - this.width * 0.5;
  }
  get middle() {
    return this.y + this.height * 0.5;
  }
  set middle(e) {
    const t = H;
    this.y = e - this[t(278)] * 0.5;
  }
}
class Qt {
  constructor() {
  }
  contains(e, t) {
    return this.aabb.contains(e, t) == ![] ? ![] : !![];
  }
  static toAABB(e, t) {
    let n = e[0], s = { x: n.x, y: n.y }, i = { x: n.x, y: n.y }, r = { x: n.x, y: n.y }, o = { x: n.x, y: n.y };
    for (let a = 1; a < e.length; a++) {
      let c = e[a];
      c.x < s.x && (s.x = c.x), c.x > i.x && (i.x = c.x), c.y < r.y && (r.y = c.y), c.y > o.y && (o.y = c.y);
    }
    return t == null || t <= 1 ? new j(s.x, r.y, i.x - s.x, o.y - r.y) : new j(s.x - t, r.y - t, i.x - s.x + t + t, o.y - r.y + t + t);
  }
}
function z0(x, e) {
  const t = Dn();
  return z0 = function(n, s) {
    return n = n - 265, t[n];
  }, z0(x, e);
}
(function(x, e) {
  for (var t = Zs, n = x(); []; )
    try {
      var s = parseInt(t(264)) / 1 + parseInt(t(274)) / 2 + -parseInt(t(271)) / 3 * (parseInt(t(270)) / 4) + -parseInt(t(268)) / 5 * (parseInt(t(267)) / 6) + parseInt(t(265)) / 7 * (parseInt(t(266)) / 8) + parseInt(t(273)) / 9 * (-parseInt(t(272)) / 10) + -parseInt(t(269)) / 11;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Mn, 735557);
function Zs(x, e) {
  var t = Mn();
  return Zs = function(n, s) {
    n = n - 264;
    var i = t[n];
    return i;
  }, Zs(x, e);
}
function Mn() {
  var x = ["978131stykBt", "1981KxgpUm", "41096zWyyBB", "644034fLcfAq", "25MNKtAs", "22010758WTyOZh", "208SdWCdk", "11679DcjEwG", "160gyBfFf", "53172XCAlFB", "2276584Qbivva"];
  return Mn = function() {
    return x;
  }, Mn();
}
function Bn() {
  var x = ["3825KdBiuP", "749NutjPx", "39132aoBUPl", "81196jlnSZA", "21xFZbfs", "162288QAxhwc", "979654iXLZMS", "85MNKnfY", "1397nWyycB", "218282LcGqne", "6306280XOTDzo", "5752IflCnM"];
  return Bn = function() {
    return x;
  }, Bn();
}
function Ks(x, e) {
  var t = Bn();
  return Ks = function(n, s) {
    n = n - 440;
    var i = t[n];
    return i;
  }, Ks(x, e);
}
(function(x, e) {
  for (var t = Ks, n = x(); []; )
    try {
      var s = parseInt(t(441)) / 1 + -parseInt(t(444)) / 2 * (parseInt(t(451)) / 3) + -parseInt(t(450)) / 4 * (parseInt(t(442)) / 5) + parseInt(t(449)) / 6 * (-parseInt(t(448)) / 7) + -parseInt(t(446)) / 8 * (-parseInt(t(447)) / 9) + -parseInt(t(445)) / 10 + parseInt(t(443)) / 11 * (parseInt(t(440)) / 12);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Bn, 565225);
const ln = zn;
(function(x, e) {
  const t = zn, n = x();
  for (; []; )
    try {
      if (parseInt(t(270)) / 1 + parseInt(t(271)) / 2 + parseInt(t(259)) / 3 + -parseInt(t(264)) / 4 + -parseInt(t(260)) / 5 * (-parseInt(t(265)) / 6) + parseInt(t(266)) / 7 * (parseInt(t(267)) / 8) + -parseInt(t(261)) / 9 * (parseInt(t(269)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(jn, 312862);
function jn() {
  const x = ["142915Oappcl", "2412ckrFby", "type", "removeEventListener", "1977612mDkCJo", "102kiQuyb", "119wBJjRQ", "222008HBYVgk", "addEventListener", "57410msGKoS", "483447SkSSUL", "1099212CTHkjT", "length", "listeners", "1065366AQwMYD"];
  return jn = function() {
    return x;
  }, jn();
}
class Et {
  constructor() {
    this.listeners = {};
  }
  hasListener(e) {
    return e in this.listeners;
  }
  [ln(268)](e, t) {
    const n = ln;
    !(e in this.listeners) && (this[n(273)][e] = []), this.listeners[e].push(t);
  }
  [ln(263)](e, t) {
    if (!(e in this.listeners))
      return;
    let n = this.listeners[e];
    for (var s = 0, i = n.length; s < i; s++)
      if (n[s] === t)
        return n.splice(s, 1), this.removeEventListener(e, t);
  }
  dispatchEvent(e) {
    const t = ln;
    if (!(e.type in this.listeners))
      return;
    let n = this.listeners[e[t(262)]];
    for (var s = 0, i = n[t(272)]; s < i; s++)
      n[s].call(this, e);
  }
  on(e, t) {
    return this.addEventListener(e, t);
  }
}
function zn(x, e) {
  const t = jn();
  return zn = function(n, s) {
    return n = n - 259, t[n];
  }, zn(x, e);
}
function jt(x, e) {
  const t = Nn();
  return jt = function(n, s) {
    return n = n - 122, t[n];
  }, jt(x, e);
}
function Nn() {
  const x = ["max", "234561tFJboo", "union", "map", "rotate", "4273524LrruiE", "splice", "1848784OsssGn", "14914269hKNyAj", "MIN_SAFE_INTEGER", "2190ZNIwid", "2789612VIavvt", "height", "width", "push", "274OxGDYQ", "5kinvRc", "6047816VMZqQk"];
  return Nn = function() {
    return x;
  }, Nn();
}
(function(x, e) {
  const t = jt, n = x();
  for (; []; )
    try {
      if (parseInt(t(129)) / 1 * (-parseInt(t(124)) / 2) + parseInt(t(133)) / 3 + parseInt(t(125)) / 4 + -parseInt(t(130)) / 5 * (parseInt(t(137)) / 6) + parseInt(t(139)) / 7 + -parseInt(t(131)) / 8 + parseInt(t(122)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Nn, 928582);
class z {
  static hasChild(e, t) {
    return e.indexOf(t) != -1;
  }
  static notContains(e, t) {
    return e.indexOf(t) == -1;
  }
  static addAll(e, t) {
    const n = jt;
    for (var s = 0; s < t.length; s++)
      e[n(128)](t[s]);
    return e;
  }
  static removeAt(e, t) {
    return e.splice(t, 1);
  }
  static remove(e, t) {
    const n = jt;
    let s = e.indexOf(t);
    return s == -1 ? -1 : (e[n(138)](s, 1), s);
  }
  static getPointsRect(e) {
    const t = jt;
    let n = Number.MAX_SAFE_INTEGER, s = Number.MAX_SAFE_INTEGER, i = Number[t(123)], r = Number.MIN_SAFE_INTEGER;
    return e.forEach(function(o) {
      o.x < n && (n = o.x), o.y < s && (s = o.y), o.x > i && (i = o.x), o.y > r && (r = o.y);
    }), new j(n, s, i - n, r - s);
  }
  static getRectsNormalization(e, t) {
    const n = jt;
    let s = new j();
    s.setTo(e[0].x, e[0].y, e[0].width, e[0].height);
    for (let l = 1; l < e.length; l++)
      j[n(134)](s, e[l]);
    let i = s.width, r = s.height, o = s.x, a = s.y;
    return e.map((l) => {
      const h = n;
      let f = l[h(127)] / i, g = l[h(126)] / r, b = (l.x - o) / i, p = (l.y - a) / r, m = f * t.width, _ = g * t[h(126)], L = t.x + b * t[h(127)], P = t.y + p * t.height;
      return new j(L, P, m, _);
    });
  }
  static getMinMax(e) {
    const t = jt;
    let n = { x: e[0].x, y: e[0].y }, s = { x: e[0].x, y: e[0].y };
    for (let i = 1; i < e.length; i++) {
      let r = e[i];
      n.x = Math.min(n.x, r.x), n.y = Math.min(n.y, r.y), s.x = Math.max(s.x, r.x), s.y = Math[t(132)](s.y, r.y);
    }
    return { min: n, max: s };
  }
  static getPointsNormalization(e, t = -0.5, n = -0.5, s = !![]) {
    const i = jt;
    let r = z.getMinMax(e), o = r.min, a = r[i(132)], c = a.x - o.x, l = a.y - o.y;
    if (c == l || s == ![])
      return e[i(135)]((b) => ({ x: (b.x - o.x) / c + t, y: (b.y - o.y) / l + n }));
    if (c > l) {
      let g = (c - l) * 0.5;
      return l = c, e.map((p) => ({ x: (p.x - o.x) / c + t, y: (p.y + g - o.y) / l + n }));
    }
    let h = (l - c) * 0.5;
    return c = l, e[i(135)]((g) => ({ x: (g.x + h - o.x) / c + t, y: (g.y - o.y) / l + n }));
  }
  static rotateNormaledPoints(e, t, n = 0, s = 0) {
    const i = jt;
    if (t == 0 || t % 6.283185307179586 == 0)
      return e.slice();
    let r = e[i(135)]((o) => T[i(136)](o.x, o.y, n, s, t));
    return z.getPointsNormalization(r);
  }
}
const Ht = me;
(function(x, e) {
  const t = me, n = x();
  for (; []; )
    try {
      if (parseInt(t(105)) / 1 * (parseInt(t(115)) / 2) + -parseInt(t(110)) / 3 + -parseInt(t(101)) / 4 + parseInt(t(100)) / 5 + parseInt(t(103)) / 6 + -parseInt(t(113)) / 7 * (parseInt(t(119)) / 8) + -parseInt(t(124)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Rn, 736481);
function Rn() {
  const x = ["set", "cacheObj", "size", "allLoadedResolve", "923868iPUQdC", "log", "showImgLoadErrorLog", "errorLog", "onerror", "get", "加载完成: ", "5782715KkAnDg", "684000nJhEVl", "whenAllLoaded", "1272450QAgcbi", "dispatchEvent", "25fRMNxJ", "objCache", "error", "onload", "clear", "1466109IAUpkE", "removeObject", "imageCache", "7bKPXzV", "load", "39286NhQwQH", "callbackCache", "hasLoaded", "next", "2886856FpgqAq"];
  return Rn = function() {
    return x;
  }, Rn();
}
class Zr extends Et {
  constructor() {
    const e = me;
    super(), this[e(126)] = !![], this.imageCache = /* @__PURE__ */ new Map(), this[e(116)] = /* @__PURE__ */ new Map(), this.objCache = /* @__PURE__ */ new Map();
  }
  errorLog(e) {
    this[me(126)] && console.error(e);
  }
  [Ht(102)]() {
    let e = this;
    return new Promise((t, n) => {
      e.allLoadedResolve = t;
    });
  }
  whenAllImagesLoaded(e, t = ![]) {
    const n = this.imageCache, s = this;
    function i(o) {
      return new Promise((a, c) => {
        const l = me;
        let h = new Image();
        h.src = o, t && console.log("开始加载: ", o), h[l(108)] = function() {
          const f = l;
          t && console[f(125)](f(130), o), h.complete && h.naturalWidth > 0 ? (n.set(o, h), a(h)) : s[f(127)]("图片加载失败: " + o);
        }, h.onerror = function() {
          s.errorLog("image load error: " + o), a(null);
        };
      });
    }
    let r = e.map(i);
    return Promise.all(r);
  }
  clearCache() {
    const e = Ht;
    this[e(112)][e(109)](), this.callbackCache[e(109)](), this.objCache.clear();
  }
  [Ht(111)](e) {
    this[Ht(106)].delete(e);
  }
  cancelCallback(e) {
    const t = Ht;
    let n = this.objCache[t(129)](e);
    n != null && (n.canceled = !![], this.objCache.delete(e));
  }
  onload(e, t) {
    const n = Ht, s = this, i = this.callbackCache[n(129)](e);
    if (i == null)
      return;
    for (let o = 0; o < i.length; o++) {
      let a = i[o];
      a.canceled != !![] && (a(t), a[n(121)] && this.objCache.delete(a[n(121)]), a.next && a[n(118)](t));
    }
    this.callbackCache.delete(e), t != null && this.imageCache.set(e, t), this[n(117)] = !![], this[n(104)]({ type: "loaded", resource: t }), this[n(116)][n(122)] == 0 && this.allLoadedResolve && (s.allLoadedResolve(t), s[n(123)] = null);
  }
  addToCallbackList(e, t) {
    const n = Ht;
    if (t == null)
      return null;
    let s = this.callbackCache[n(129)](e);
    s == null && (s = [], this[n(116)].set(e, s)), s.push(t);
  }
  loadImageWithObj(e, t, n) {
    const s = Ht;
    let i = this.objCache.get(e);
    return i != null && (i.canceled = !![]), n.cacheObj = e, n.canceled = null, this.objCache[s(120)](e, n), this.loadImage(t, n);
  }
  loadImage(e, t) {
    const n = Ht;
    let s = this, i = this[n(116)].get(e), r = i != null;
    if (s.lastResource = e, this.addToCallbackList(e, t), r)
      return;
    let o = this[n(112)].get(e);
    if (o != null) {
      this[n(108)](e, o);
      return;
    }
    setTimeout(function() {
      const a = n;
      let c = new Image();
      c.src = e, c.addEventListener(a(114), (l) => {
        s.onload(e, c);
      }), c[a(128)] = function() {
        console[a(107)]("Image load error: " + e), s.onload(e, null);
      };
    }, 1);
  }
}
function me(x, e) {
  const t = Rn();
  return me = function(n, s) {
    return n = n - 100, t[n];
  }, me(x, e);
}
const it = new Zr();
(function(x, e) {
  const t = N0, n = x();
  for (; []; )
    try {
      if (parseInt(t(385)) / 1 * (parseInt(t(383)) / 2) + parseInt(t(378)) / 3 + parseInt(t(381)) / 4 + parseInt(t(375)) / 5 * (-parseInt(t(379)) / 6) + -parseInt(t(382)) / 7 * (-parseInt(t(377)) / 8) + parseInt(t(372)) / 9 * (parseInt(t(374)) / 10) + -parseInt(t(376)) / 11 * (parseInt(t(380)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Wn, 319401);
function Kr(x, e, t) {
  return typeof x == "function" ? Pi(x.name, x, e) : Pi(x, e, t);
}
function Pi(x, e, t) {
  const n = N0;
  if (wt[x] != null)
    throw new Error("class already reg, name:" + x);
  const s = e.prototype;
  t != null && t.length > 0 && (s[n(386)] = s.serializers[n(384)](t)), Object.defineProperties(s, { className: { writable: !![] } }), s.className = x, Object.defineProperties(s, { className: { writable: ![] } }), wt[x] = e;
}
function N0(x, e) {
  const t = Wn();
  return N0 = function(n, s) {
    return n = n - 372, t[n];
  }, N0(x, e);
}
function bi(x) {
  const e = N0;
  let t = wt[x];
  if (t == null)
    throw (x == e(373) || x == "ShapeNode") && (t = wt.Node), new Error("class not exist name:" + x);
  return t;
}
function an(x, e) {
  let t, n = bi(x);
  return t = new n(), e && Object.assign(t, e), t;
}
function Wn() {
  const x = ["7rHxZDf", "106AFDkxQ", "concat", "5505UtCHwX", "serializers", "18lXniFa", "ArrowNode", "2365460dpPxPt", "600mWifMs", "18288457tRimju", "4576504tlqJWH", "854652emhzCz", "834lbAiIN", "12QNhKPW", "1507456EhDBtZ"];
  return Wn = function() {
    return x;
  }, Wn();
}
const k = Fn;
(function(x, e) {
  const t = Fn, n = x();
  for (; []; )
    try {
      if (parseInt(t(207)) / 1 + parseInt(t(198)) / 2 + -parseInt(t(224)) / 3 + parseInt(t(194)) / 4 + -parseInt(t(216)) / 5 * (-parseInt(t(218)) / 6) + -parseInt(t(203)) / 7 * (-parseInt(t(193)) / 8) + -parseInt(t(211)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Hn, 609250);
function Hn() {
  const x = ["385oUhhor", "push", "ctrlPoints", "step", "272979BIwNZw", "center", "defineProperty", "end", "7391736DPWsuS", "ctrlPoint2", "begin", "Damond", "length", "785pvMXhW", "cos", "6618sNRyWM", "LineShape", "outerGrid", "pointCount", "width", "prototype", "613647ZDHiqL", "lineWidth", "className", "Rect", "nearest", "Scale", "circlePoints", "Arrow", "direction", "moveTo", "anticlockwise", "getPointsNormalization", "sin", "anchorPoints", "isClosed", "closePath", "points", "rotateNormaledPoints", "updatePoints", "49304rpasrV", "752196Ujivxs", "dirty", "CircleShape", "forEach", "1323878irzqKr", "fromPoints", "Line", "pointToSize", "draw"];
  return Hn = function() {
    return x;
  }, Hn();
}
function Fn(x, e) {
  const t = Hn();
  return Fn = function(n, s) {
    return n = n - 177, t[n];
  }, Fn(x, e);
}
var Qr = Object[k(209)], $r = Object.getOwnPropertyDescriptor, R = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? $r(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Qr(e, t, s), s;
};
const ot = class {
  constructor(x) {
    const e = k;
    this.isClosed = !![], this[e(190)] = x;
  }
  [k(192)](x) {
    const e = k;
    this[e(190)] = x, this[e(195)] = !![];
  }
  toJSON() {
    const x = k;
    let e = { className: this[x(226)] };
    return e[x(190)] = this[x(190)], e.isClosed = this.isClosed, e;
  }
  clone() {
    const x = k;
    return new ot(this[x(190)].slice());
  }
  static fromJSON(x) {
    const e = k;
    let t = bi(x.className), n = new t(x[e(190)]);
    return n.isClosed = x.isClosed, n;
  }
  static [k(199)](x, e = !![]) {
    let n = z[k(185)](x, -0.5, -0.5, e);
    return new ot(n);
  }
  static normalPoints(x, e = !![]) {
    return z.getPointsNormalization(x, -0.5, -0.5, e);
  }
  [k(202)](x, e, t) {
    const n = k;
    t = t || this.points;
    let s = t[0];
    x[n(183)](s.x, s.y);
    for (let r = 1; r < t.length - 1; r++) {
      if (t[r].x === s.x && t[r].y === s.y) {
        s = t[r];
        continue;
      }
      x.lineTo(t[r].x, t[r].y), s = t[r];
    }
    let i = t[t[n(215)] - 1];
    x.lineTo(i.x, i.y), this.isClosed && x.closePath();
  }
  rotate(x) {
    const e = k;
    return this.points = z[e(191)](this[e(190)], x), this.dirty = !![], this;
  }
  scale(x, e) {
    const t = k;
    return this[t(190)][t(197)]((n) => {
      n.x *= x, n.y *= e;
    }), this.points = z.getPointsNormalization(this.points), this.dirty = !![], this;
  }
  static [k(179)](x, e) {
    return function(n) {
      return n.x *= x, n.y *= e, n;
    };
  }
  skew(x, e) {
    return this.points.forEach((t) => {
      let n = t.x, s = t.y;
      t.x = n + s * e, t.y = s + n * x;
    }), this.points = z.getPointsNormalization(this.points), this.dirty = !![], this;
  }
  static [k(201)](x, e, t, n = ![]) {
    return n == !![] && e != t && (e > t ? e = t : t = e), x.map((i) => ({ x: i.x * e, y: i.y * t }));
  }
  static polygon(x = 3, e = 0) {
    let t = [], n = 2 * Math.PI / x;
    for (var s = 0; s < x; s++) {
      let r = Math.cos(e + s * n), o = Math.sin(e + s * n);
      t.push({ x: r, y: o });
    }
    return ot.fromPoints(t);
  }
  static parallelogram(x = 0.2) {
    let e = [{ x, y: 0 }, { x: 1, y: 0 }, { x: 1 - x, y: 1 }, { x: 0, y: 1 }];
    return ot.fromPoints(e);
  }
  static [k(217)](x) {
    const e = k;
    x.begin = x[e(213)] | 0, x.end = x[e(210)] | M0;
    let t = [];
    if (x.pointCount == null) {
      x.step = x.step | 0.2;
      for (let n = x.begin; n <= x[e(210)]; n += x[e(206)]) {
        let s = n;
        t.push({ x: s, y: Math[e(217)](s) });
      }
    } else {
      x.step = (x[e(210)] - x[e(213)]) / x.pointCount;
      for (let n = 0; n < x[e(221)]; n++) {
        let s = (n + 1) * x[e(206)];
        t.push({ x: s, y: Math.cos(s) });
      }
    }
    return ot[e(199)](t);
  }
  static circle(x) {
    let e = ot.circlePoints(x);
    return ot.fromPoints(e);
  }
  static [k(180)](x) {
    const e = k;
    x[e(213)] = x[e(213)] || 0, x[e(210)] = x[e(210)] || M0;
    let t = [];
    if (x.pointCount == null) {
      x[e(206)] = x[e(206)] | 0.2;
      for (let n = x.begin; n <= x.end; n += x.step) {
        let s = n;
        t[e(204)]({ x: Math.sin(s), y: Math[e(217)](s) });
      }
    } else {
      let n = (x.end - x.begin) / x.pointCount;
      for (let s = 0; s < x.pointCount; s++) {
        let i = s * n;
        t.push({ x: Math[e(186)](i), y: Math.cos(i) });
      }
    }
    return t;
  }
  static fn(x) {
    const e = k;
    let t = x();
    return ot[e(199)](t);
  }
  static [k(220)](x, e) {
    const t = k;
    let n = [], s = 1 / (e - 1), i = 1 / (x - 1);
    for (let r = 0; r < x; r++)
      for (let o = 0; o < e; o++) {
        let a = { y: r * i - 0.5, x: o * s - 0.5 };
        n[t(204)](a);
      }
    return new ot(n);
  }
  static innerGrid(x, e) {
    let t = [], n = 1 / (e + 1), s = 1 / (x + 1), i = n, r = s;
    for (let o = 0; o < x; o++)
      for (let a = 0; a < e; a++) {
        let c = { x: i + a * n - 0.5, y: r + o * s - 0.5 };
        t.push(c);
      }
    return new ot(t);
  }
};
let A = ot;
A[k(214)] = (() => {
  let x = [{ x: -0.5, y: 0 }, { x: 0, y: -0.5 }, { x: 0.5, y: 0 }, { x: 0, y: 0.5 }];
  return new ot(x);
})(), A.Triangle = (() => {
  let x = [{ x: -0.5, y: -0.5 }, { x: 0.5, y: 0 }, { x: -0.5, y: 0.5 }];
  return new ot(x);
})(), A.tip = (() => {
  let x = [{ x: 0, y: 0 }, { x: 1, y: 0 }, { x: 1, y: 0.8 }, { x: 0.8, y: 0.8 }, { x: 0.5, y: 1 }, { x: 0.2, y: 0.8 }, { x: 0, y: 0.8 }, { x: 0, y: 0 }];
  return ot.fromPoints(x);
})(), R([d("Shape")], A.prototype, k(226), 2), R([d(["ct", "cb", "lm", "rm"])], A.prototype, "anchorPoints", 2), R([d(["rotate", "lt", "lb", "rt", "rb"])], A.prototype, "ctrlPoints", 2), R([d(!![])], A[k(223)], k(188), 2), R([d(!![])], A.prototype, "isUnit", 2), R([d(![])], A.prototype, k(195), 2), A.Polygon = A.polygon;
class w0 extends A {
  constructor(e = [{ x: -0.5, y: -0.5 }, { x: 0.4, y: 0 }, { x: -0.5, y: 0.5 }, { x: -0.5, y: 0 }]) {
    super(e);
  }
  draw(e, t, n) {
    const s = k;
    n = n || this.points, e[s(183)](n[0].x, n[0].y), e.lineTo(n[1].x, n[1].y), e.lineTo(n[2].x, n[2].y), e.lineCap = "square";
    let i = t._computedStyle[s(225)] || 1, r = i * 0.5 / t[s(222)];
    r > 1 && (r = 1), e.moveTo(n[3].x - r, n[3].y), e.lineTo(n[1].x - r, n[1].y);
  }
}
R([d("ArrowShape")], w0.prototype, "className", 2), R([d(![])], w0.prototype, "isClosed", 2), wt.ArrowShape = w0, A[k(181)] = new w0(), A.ArrowShape = A.Arrow;
class wn extends A {
  constructor(e = [{ x: -0.5, y: -0.5 }, { x: 0.5, y: -0.5 }, { x: 0.5, y: 0.5 }, { x: -0.5, y: 0.5 }]) {
    super(e);
  }
  [k(202)](e, t) {
    e.rect(-0.5, -0.5, 1, 1);
  }
}
R([d("RectShape")], wn[k(223)], "className", 2), wt.RectShape = wn, A.Rect = new wn(), A.RectShape = A[k(177)];
class Qs extends A {
  constructor(e = [{ x: 0, y: 0 }]) {
    super(e);
  }
  draw(e, t) {
    let n = this.points[0];
    e.arc(n.x, n.y, 0.5, 0, M0);
  }
}
R([d(k(196))], Qs.prototype, "className", 2), A.Circle = new Qs();
class $s extends A {
  constructor(e = [{ x: 0, y: 0 }, { x: -0.5, y: 0 }, { x: -0.5, y: 0 }]) {
    super(e);
  }
  draw(e, t) {
    const n = k;
    let s = this[n(190)][0], i = this.points[1], r = this[n(190)][2], o = T.distancePoint(s, i), a = T.distancePoint(s, r);
    e.ellipse(s.x, s.y, o, a, 0, 0, M0);
  }
}
R([d("EllipseShape")], $s.prototype, k(226), 2), A.Ellipse = new $s();
class v0 extends A {
  constructor(e = []) {
    super(e), this.isClosed = ![];
  }
}
R([d(k(219))], v0.prototype, "className", 2), R([d(["begin", "end"])], v0[k(223)], "anchorPoints", 2), R([d(["begin", k(210)])], v0.prototype, k(205), 2), A[k(200)] = new v0();
class k0 extends A {
  constructor(e = []) {
    const t = k;
    super(e), this[t(188)] = ![];
  }
  draw(e, t, n) {
    const s = k;
    let i = n[0], r = n[1], o = n[2];
    e[s(183)](i.x, i.y), e.quadraticCurveTo(r.x, r.y, o.x, o.y), this.isClosed && e[s(189)]();
  }
}
R([d("CurveShape")], k0.prototype, "className", 2), R([d(["begin", "end"])], k0.prototype, "anchorPoints", 2), R([d(["begin", "end"])], k0.prototype, "ctrlPoints", 2), A.Curve = new k0();
class P0 extends A {
  constructor(e = []) {
    const t = k;
    super(e), this[t(188)] = ![];
  }
  draw(e, t, n) {
    let s = n[0], i = n[1], r = n[3], o = n[4];
    e.beginPath(), e.moveTo(s.x, s.y), e.bezierCurveTo(i.x, i.y, r.x, r.y, o.x, o.y), this.isClosed && e.closePath();
  }
}
R([d("BezierCurveShape")], P0.prototype, k(226), 2), R([d(["begin", "end"])], P0[k(223)], k(187), 2), R([d(["begin", k(210), "ctrlPoint1", k(212)])], P0.prototype, "ctrlPoints", 2), A.BezierCurve = new P0();
class S0 extends A {
  constructor(e = []) {
    const t = k;
    super(e), this[t(188)] = ![];
  }
  [k(202)](e, t, n) {
    const s = k;
    let i = n[0], r = n[n.length - 1];
    if (t && t[s(182)] == s(184)) {
      let o = Math.atan2(i.y - r.y, i.x - r.x);
      e.arc(0, 0, 0.5, o, o + Math.PI, !![]);
    } else {
      let o = Math.atan2(i.y - r.y, i.x - r.x);
      e.arc(0, 0, 0.5, o, o + Math.PI, ![]);
    }
    this[s(188)] && e.closePath();
  }
}
R([d("ArcShape")], S0.prototype, "className", 2), R([d([k(213), k(210)])], S0.prototype, "anchorPoints", 2), R([d(["begin", k(210)])], S0.prototype, "ctrlPoints", 2), A.Arc = new S0();
const to = A[k(220)](3, 3).points, eo = [v.lt, v.ct, v.rt, v.lm, v.center, v.rm, v.lb, v.cb, v.rb], le = {};
eo.forEach((x, e) => {
  le[x] = to[e];
}), le[v.nearest] = function() {
  return this[k(178)];
};
function Zi(x) {
  if (x == k(208))
    throw new Error("center is zero vector");
  let t = le[x];
  return M.normalize([], [t.x, t.y]);
}
function Ki(x) {
  let e = le[x];
  return Math.atan2(e.y, e.x);
}
class Ve extends A {
  constructor(e = []) {
    super(e), this.isClosed = !![];
  }
  draw(e, t) {
    const n = k;
    let s = t, i = -s[n(222)] * 0.5, r = -s.height * 0.5, o = s.width, a = s.arrowsSize, c = s.height - a, l = 0;
    e[n(183)](i, r), e.lineTo(i + o, r), e.lineTo(i + o, r + c), e.lineTo(l + (a - 2), r + c), e.lineTo(l, r + c + a), e.lineTo(l - (a - 2), r + c), e.lineTo(i, r + c), e.lineTo(i, r);
  }
}
R([d("TipShape")], Ve.prototype, "className", 2), R([d(![])], Ve.prototype, "isUnit", 2), R([d([])], Ve.prototype, "anchorPoints", 2), R([d([])], Ve.prototype, "ctrlPoints", 2);
function Xn() {
  const x = ["removeFromParent", "348XfRWQp", "Roots", "parent", "push", "564lULDHX", "33593EPjjjy", "5572RyydwU", "1245aHfffv", "length", "fromJSON", "startsWith", "data", "5355LPBOAX", "filter", "38gxDIJB", "10666hjDScK", "CustomStyle", "390SfqbfB", "forEach", "2474420mejDRq", "get", "end", "137929NGgFbY", "5822248oPAVVT", "className", "styles"];
  return Xn = function() {
    return x;
  }, Xn();
}
(function(x, e) {
  const t = Yn, n = x();
  for (; []; )
    try {
      if (parseInt(t(310)) / 1 * (parseInt(t(309)) / 2) + parseInt(t(302)) / 3 * (parseInt(t(301)) / 4) + parseInt(t(314)) / 5 + parseInt(t(326)) / 6 * (-parseInt(t(300)) / 7) + -parseInt(t(318)) / 8 + parseInt(t(307)) / 9 * (parseInt(t(312)) / 10) + parseInt(t(317)) / 11 * (parseInt(t(322)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Xn, 483582);
function Yn(x, e) {
  const t = Xn();
  return Yn = function(n, s) {
    return n = n - 300, t[n];
  }, Yn(x, e);
}
function Hs(x, e) {
  const t = Yn;
  let n = {}, s = {}, i = {}, r = x[t(323)] || [0], o = x.DisplayObjects || [], a = x.Styles || [], c = x.Shapes || [], l = x.Resources || [], h = x[t(311)] || {};
  if (o.forEach((_) => {
    const L = t;
    if (_.hasOwnProperty("userData") && !_.hasOwnProperty("data")) {
      let P = _.userData;
      delete _.userData, _[L(306)] = P;
    }
    _.isLink && _.path == null && (_.path = [_.begin, _.end], delete _.begin, delete _[L(316)]);
  }), h[t(320)] == null) {
    let _ = {}, L = Object.keys(h);
    for (let P = 0; P < L[t(303)]; P++) {
      let E = L[P];
      E[t(305)](".") && (_[E] = h[E], delete h[E]);
    }
    h.styles = _;
  }
  a[t(313)](function(_, L) {
    const P = t;
    s[L] = ct[P(304)](_, l);
  }), c.forEach(function(_, L) {
    let P = A.fromJSON(_);
    i[L] = P;
  });
  let f = [];
  function g(_, L) {
    const P = t;
    let E;
    return e && (E = e[P(315)](_.id)), E == null && (E = an(_[P(319)])), L < r[P(303)] && f[P(325)](E), E._afterFromJSON(_, l, s, i), n[L] = E, E;
  }
  let b = o.map(g);
  b[t(313)]((_) => {
    _.removeAllChild();
  }), o[t(313)]((_, L) => {
    const P = t;
    let E = b[L];
    if (_.parent != null) {
      let q = n[_[P(324)]];
      E[P(324)] != null && E[P(321)](), q.addChild(E);
    }
  });
  let p = o[t(308)]((_) => _.isLink), m = b.filter((_) => _.isLink);
  return p.forEach(function(_, L) {
    m[L]._updateBeginEndAfterJson(_, n);
  }), f;
}
const Si = Vn;
(function(x, e) {
  const t = Vn, n = x();
  for (; []; )
    try {
      if (-parseInt(t(142)) / 1 + -parseInt(t(144)) / 2 + parseInt(t(138)) / 3 + -parseInt(t(147)) / 4 * (-parseInt(t(145)) / 5) + parseInt(t(137)) / 6 + -parseInt(t(146)) / 7 * (parseInt(t(141)) / 8) + parseInt(t(140)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Un, 172144);
function Un() {
  const x = ["1336NkESXC", "49863WMGrNW", "back", "383486SnqDbS", "2005mwgLtq", "3507AsfkWS", "1148FprCUV", "910500dohbIU", "636234jrAseE", "getMax", "166518MFtXUR"];
  return Un = function() {
    return x;
  }, Un();
}
let f0 = 0, yt = {};
function Vn(x, e) {
  const t = Un();
  return Vn = function(n, s) {
    return n = n - 137, t[n];
  }, Vn(x, e);
}
yt.next = function() {
  return ++f0;
}, yt[Si(143)] = function() {
  return --f0;
}, yt[Si(139)] = function() {
  return f0;
}, yt.resetTo = function(x) {
  f0 = x;
}, yt.compare = function(x) {
  x != null && x > f0 && yt.resetTo(x + 1);
};
const Oi = Ie;
(function(x, e) {
  const t = Ie, n = x();
  for (; []; )
    try {
      if (parseInt(t(119)) / 1 * (parseInt(t(104)) / 2) + parseInt(t(115)) / 3 * (-parseInt(t(117)) / 4) + -parseInt(t(118)) / 5 + parseInt(t(112)) / 6 * (-parseInt(t(109)) / 7) + -parseInt(t(105)) / 8 + parseInt(t(120)) / 9 + parseInt(t(108)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Jn, 567133);
function Ie(x, e) {
  const t = Jn();
  return Ie = function(n, s) {
    return n = n - 104, t[n];
  }, Ie(x, e);
}
function Jn() {
  const x = ["forEach", "692ipkCmZ", "4317270mHPafE", "344769Rwqnbp", "6830694gYePDA", "6QyqKoX", "3177976zcpewY", "type", "getState", "15278950YtoVUx", "7voNYqf", "restoreToJson", "styleSystem", "5437032PJyiVO", "CustomStyle", "img", "10182YPXoIf"];
  return Jn = function() {
    return x;
  }, Jn();
}
let no = /* @__PURE__ */ new Map();
const Qi = class {
  constructor() {
  }
  setNumberFixed(x) {
    Qi.numberFixed = x;
  }
  objectsToJSON(x, e = ![]) {
    return Fs(x, e);
  }
  jsonToObjects(x, e) {
    return Hs(x, e);
  }
  copyAndToJSON(x) {
    let e = Fs(x);
    return e.DisplayObjects.forEach((t) => {
      t.id = void 0;
    }), e;
  }
  static getEmptyInstance(x) {
    let e = no.get(x);
    return e == null && (e = an(x)), e;
  }
  static getProtoDefaultProperties(x) {
    let e = x.serializers, t = Object.getPrototypeOf(x), n = {};
    for (var s = 0; s < e.length; s++) {
      let i = e[s], r = t[i], o = x[i];
      o === r && (n[i] = o);
    }
    return n;
  }
  componentToObjects(x) {
    const e = Ie;
    let t = JSON.parse(x);
    return t.DisplayObjects[e(116)]((i) => {
      delete i.id;
    }), Hs(t);
  }
  objectsToComponent(x) {
    let e = this.copyAndToJSON(x);
    return JSON.stringify(e);
  }
  fillByJson(x, e, t = ![]) {
    const n = Ie;
    let s = e;
    typeof e == "string" && (s = JSON.parse(e));
    let i = this;
    function r() {
      const o = Ie;
      let a = s.DisplayObjects, c = a[0];
      c.className == "Layer" && (x.id = c.id), a[o(116)]((l) => yt.compare(l.id)), s[o(113)] != null && x.stage[o(111)].fromJson(s), i.restoreToJson(x, s);
    }
    if (t) {
      let o = s.Resources, a = o.filter((c) => c[n(106)] == n(114) && c.src != "canvas").map((c) => c.src);
      return new Promise((c, l) => {
        if (a.length == 0) {
          r(), c(!![]);
          return;
        }
        it.whenAllImagesLoaded(a).then(() => {
          r(), c(!![]);
        }).catch(() => {
          l(![]);
        });
      });
    }
    return r(), null;
  }
  [Oi(107)](x) {
    return Fs([x]);
  }
  [Oi(110)](x, e) {
    if (e != null) {
      let t = x.toIdMap();
      Hs(e, t);
    }
    return e;
  }
};
let qe = Qi;
qe.numberFixed = 6;
function qn() {
  const x = ["' height='", `'>
<rect x='0' y='0' width='`, "454692gVepxz", "21595ylfLjx", "</g></svg>", "match", " H ", "6346854QtBXvJ", "2242715VQtbqk", "30234710cjSxHu", "6CpbQtd", "rgb(20,20,20)", "data", "491450YWNeCK", "Image url error: ", "; stroke-width:0.5;'>", "74157XpaoRK", "height", "M 0 ", "rgb(255,255,255)", "<svg xmlns='http://www.w3.org/2000/svg' width='", "ctx", "912hKBxbe", "15CxgyZN", "162hVHPpf", 'url("', "width", "#242424", "startsWith", "length"];
  return qn = function() {
    return x;
  }, qn();
}
const Ft = Gn;
(function(x, e) {
  const t = Gn, n = x();
  for (; []; )
    try {
      if (-parseInt(t(405)) / 1 * (-parseInt(t(399)) / 2) + -parseInt(t(412)) / 3 * (parseInt(t(421)) / 4) + parseInt(t(397)) / 5 + -parseInt(t(396)) / 6 + -parseInt(t(422)) / 7 * (parseInt(t(411)) / 8) + parseInt(t(413)) / 9 * (-parseInt(t(402)) / 10) + parseInt(t(398)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(qn, 557150);
const Li = document.createElement("canvas"), Bt = class {
  static bgGrid(x, e, t, n, s = Ft(416), i = "#151515") {
    const r = Ft;
    let o = r(409) + x + "' height='" + e + r(420) + x + r(419) + e + "' style='fill:" + s + ";stroke:" + i + `;stroke-width:1;'/>
<g style='stroke:` + i + r(404), a = e / t, c = x / n, l = "";
    for (let f = 1; f <= t; f++)
      l += r(407) + a * f + r(425) + x + " ";
    o += "<path d='" + l + "'/>";
    let h = "";
    for (let f = 1; f <= n; f++)
      h += "M " + c * f + " 0 V " + e + " ";
    return o += "<path d='" + h + "'/>", o += r(423), o = o.replace(/\n/g, ""), o;
  }
  static createGridImage(x = 100, e = 100, t = 5, n = 5, s, i) {
    const r = Ft;
    let o = Bt.bgGrid(x, e, t, n, s, i);
    return r(414) + Bt.svgToImageUrl(o) + '")';
  }
  static createLightGridImg() {
    const x = Ft;
    return Bt.createGridImage(100, 100, 5, 5, x(408), "rgb(240,240,240)");
  }
  static createDarkGridImg() {
    const x = Ft;
    return Bt.createGridImage(100, 100, 5, 5, "rgb(36,36,36)", x(400));
  }
  static svgToImageUrl(x) {
    return "data:image/svg+xml;charset=UTF-8," + x;
  }
  static canvasColorFilter(x, e) {
    const t = Ft, n = x.getContext("2d"), s = n.getImageData(0, 0, x[t(415)], x[t(406)]);
    let i = (o, a, c, l) => [e[0] * o / 255, e[1] * a / 255, e[2] * c / 255];
    typeof e == "function" && (i = e);
    for (var r = 0; r < s[t(401)].length; r += 4) {
      let o = i(s.data[r], s.data[r + 1], s[t(401)][r + 2], s[t(401)][r + 3]);
      s.data[r] = o[0], s.data[r + 1] = o[1], s.data[r + 2] = o[2], o.length > 3 && o[3] != null && (s[t(401)][r + 3] = o[3]);
    }
    n.putImageData(s, 0, 0);
  }
  static colorFilter(x, e) {
    const t = Ft, n = Bt.canvas, s = Bt.ctx;
    n.width = x[t(415)], n.height = x[t(406)], s.drawImage(x, 0, 0), Bt.canvasColorFilter(n, e);
    const i = new Image();
    return i.src = n.toDataURL("image/png"), i;
  }
  static imageToBase64(x) {
    const e = Ft, t = Bt.canvas, n = Bt[e(410)];
    return t.width = x[e(415)], t.height = x[e(406)], n.drawImage(x, 0, 0), t.toDataURL();
  }
  static parseImgUrl(x) {
    const e = Ft;
    if (x.startsWith("data:image/"))
      return x;
    if (x[e(417)]("url(")) {
      let t = x[e(424)](/url\((['"]?)(.*?)\1\)/);
      if (t)
        return t[2];
      throw new Error(e(403) + x);
    }
    return x;
  }
};
let Rt = Bt;
Rt.canvas = Li, Rt.ctx = Li.getContext("2d", { willReadFrequently: !![] });
function Gn(x, e) {
  const t = qn();
  return Gn = function(n, s) {
    return n = n - 396, t[n];
  }, Gn(x, e);
}
(function(x, e) {
  const t = Te, n = x();
  for (; []; )
    try {
      if (-parseInt(t(341)) / 1 + -parseInt(t(364)) / 2 + parseInt(t(347)) / 3 * (parseInt(t(342)) / 4) + parseInt(t(348)) / 5 * (parseInt(t(344)) / 6) + -parseInt(t(367)) / 7 * (parseInt(t(361)) / 8) + parseInt(t(343)) / 9 * (-parseInt(t(359)) / 10) + parseInt(t(346)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Zn, 987073);
function Zn() {
  const x = ["styleSystem", "version", "getEmptyInstance", "isArray", "isNode", "numberFixed", "set", "get", "stringify", "CustomStyle", "10lVwAdC", "length", "24kfeXvg", "DisplayObjects", "imageToBase64", "1208320fBUJNI", "toJSON", "concat", "4337249rjyURH", "customStyleToJSON", "955818FfHfwq", "40780ZdnwOy", "3365262fWSjRJ", "42bTLFWA", "Roots", "29621636JkNVom", "102mgcXUX", "1243060YCIGNw"];
  return Zn = function() {
    return x;
  }, Zn();
}
function Te(x, e) {
  const t = Zn();
  return Te = function(n, s) {
    return n = n - 341, t[n];
  }, Te(x, e);
}
function xo(x, e = ![]) {
  const t = Te;
  let n = C.flatten(x[0].children);
  for (let b = 1; b < x.length; b++) {
    let p = C.flatten(x[b].children, (m) => m.serializeable);
    n = n.concat(p);
  }
  let s = x[t(366)](n), i = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new Map(), o = /* @__PURE__ */ new Map(), a = [], c = [], l = /* @__PURE__ */ new Map(), h = [];
  function f(b, p) {
    const m = t;
    let _ = l[b];
    if (_ == null) {
      let L = ro(b, p, e), P = { type: "img", src: L };
      h.push(P), _ = h[m(360)] - 1, l[b] = _;
    }
    return _;
  }
  return s.forEach((b, p) => {
    const m = t;
    b.isNode && b.imageSrc != null && f(b.imageSrc, b.image);
    let _ = b.style;
    if (r.get(_) == null) {
      let P = a.length;
      r.set(_, P);
      let E = _.toJSON(f);
      a.push(E);
    }
    let L = b.shape;
    if (b[m(353)] && o[m(356)](L) == null) {
      let P = c.length;
      o.set(L, P), c.push(L[m(365)]());
    }
    i[m(355)](b, p);
  }), { objects: s, objIndexMap: i, styleIndexMap: r, styles: a, resourcesIndexMap: l, resources: h, shapeIndexMap: o, shapes: c, indexImage: f };
}
function Fs(x, e = ![]) {
  const t = Te, n = {};
  n[t(350)] = gi;
  const s = xo(x, e);
  let i = s.objects;
  if (n[t(345)] = x.map((r, o) => o), n.Styles = s.styles, n.Shapes = s.shapes, n.Resources = s.resources, n.DisplayObjects = i.map(function(r) {
    return r.toJSON(s);
  }), x.length == 1 && x[0].isLayer) {
    let r = x[0];
    n[t(358)] = r.stage[t(349)][t(368)](s.indexImage);
  }
  return n;
}
function $i(x, e, t) {
  const n = Te;
  let s = {}, i = qe[n(351)](x.className);
  if (t)
    for (let r = 0; r < t.length; r++) {
      let o = t[r], a = x[o];
      s[o] = a;
    }
  for (let r = 0; r < e.length; r++) {
    let o = e[r], a = x[o];
    if (a != i[o]) {
      if (Array.isArray(a) && Array[n(352)](i[o])) {
        let c = i[o];
        if (!io(c, a))
          s[o] = a;
        else
          continue;
      }
      if (a == null) {
        s[o] = a;
        continue;
      }
      typeof a == "number" && qe.numberFixed != null && (a = so(a, qe[n(354)])), a.toJSON != null ? a = a[n(365)]() : T.isLikePoint(a) && (a = new T(a.x, a.y)), s[o] = a;
    }
  }
  return s;
}
function so(x, e) {
  if (Number.isInteger(x))
    return x;
  let t = x.toString();
  return t.length - t.indexOf(".") - 1 > e && (x = x.toFixed(e), x = parseFloat(x)), x;
}
function io(x, e) {
  if (x === e)
    return !![];
  if (x.length != e.length)
    return ![];
  for (let t = 0; t < x.length; t++)
    if (x[t] != e[t])
      return ![];
  return !![];
}
function ro(x, e, t = ![]) {
  const n = Te;
  return x == null ? null : t == ![] || x.startsWith("data:image/") ? x : Rt[n(363)](e);
}
(function(x, e) {
  const t = R0, n = x();
  for (; []; )
    try {
      if (parseInt(t(387)) / 1 * (-parseInt(t(397)) / 2) + parseInt(t(386)) / 3 + -parseInt(t(392)) / 4 * (parseInt(t(388)) / 5) + -parseInt(t(394)) / 6 * (-parseInt(t(396)) / 7) + -parseInt(t(389)) / 8 * (-parseInt(t(398)) / 9) + parseInt(t(390)) / 10 + -parseInt(t(393)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Kn, 621432);
function Kn() {
  const x = ["64okGLnh", "486FybCzw", "actualBoundingBoxLeft", "width", "2263299sZsXoA", "24746aWeEAR", "5QRZIjG", "118584ktEbih", "6741430gZoKyr", "actualBoundingBoxAscent", "4281644NCMtTl", "4837866xrOciU", "6JGlSDm", "actualBoundingBoxDescent", "4861521SZZRkB"];
  return Kn = function() {
    return x;
  }, Kn();
}
function R0(x, e) {
  const t = Kn();
  return R0 = function(n, s) {
    return n = n - 386, t[n];
  }, R0(x, e);
}
const oo = document.createElement("canvas"), p0 = oo.getContext("2d");
class ti {
  constructor() {
  }
  static measureTextSize(e, t) {
    const n = R0;
    p0.font = t;
    const s = p0.measureText(e), i = s[n(391)] + s.actualBoundingBoxDescent;
    return { width: s.actualBoundingBoxRight + s.actualBoundingBoxLeft, height: i };
  }
  static measureTextArraySize(e, t) {
    const n = R0;
    p0.font = t;
    let s = p0.measureText(e[0]);
    for (let o = 0; o < e.length; o++) {
      let a = p0.measureText(e[o]);
      a.width > s[n(400)] && (s = a);
    }
    const i = s.actualBoundingBoxAscent + s[n(395)];
    return { width: s.actualBoundingBoxRight + s[n(399)], height: i };
  }
}
function t0(x, e) {
  const t = Qn();
  return t0 = function(n, s) {
    return n = n - 121, t[n];
  }, t0(x, e);
}
const He = t0;
(function(x, e) {
  const t = t0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(134)) / 1 + parseInt(t(129)) / 2 * (parseInt(t(132)) / 3) + parseInt(t(128)) / 4 + parseInt(t(126)) / 5 * (-parseInt(t(137)) / 6) + -parseInt(t(130)) / 7 + -parseInt(t(131)) / 8 + parseInt(t(133)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Qn, 853078);
class ge {
  constructor(e) {
    const t = t0;
    this[t(121)] = "normal", this.italicWeight = "normal", this.size = "10px", this.family = "sans-serif", e != null && this[t(127)](e);
  }
  parseFontDesc(e) {
    const t = t0, n = e.split(" ");
    n.length > 3 ? (this.boldWeight = n[0], this[t(122)] = n[1], this.size = n[2], this.family = n[3], (n[0] === t(138) || n[1] === "bold") && (this.boldWeight = n[1], this.italicWeight = n[0])) : (this.boldWeight = n[0], this.size = n[1], this.family = n[2]);
  }
  getFontWeight() {
    return this.boldWeight + " " + this.italicWeight;
  }
  [He(125)](e) {
    const t = He, n = e.split(" ");
    n[t(124)] > 1 ? (this.boldWeight = n[0], this.italicWeight = n[1], (this.boldWeight === "italic" || this[t(122)] === t(123)) && (this.boldWeight = n[1], this.italicWeight = n[0])) : e === t(123) ? this[t(121)] = "bold" : e === t(138) ? this.italicWeight = t(138) : this.boldWeight = "normal";
  }
  setFamily(e) {
    e === null || e === "" || (this.family = e);
  }
  setSize(e) {
    e === null || e === "" || (this.size = e);
  }
  setBold(e) {
    const t = He;
    e === null || e === "" || (this[t(121)] = e);
  }
  setItalic(e) {
    e === null || e === "" || (this.italicWeight = e);
  }
  toogleBold() {
    const e = He;
    this.boldWeight === "bold" ? this[e(121)] = e(135) : this.boldWeight = e(123);
  }
  toogleItalic() {
    const e = He;
    this[e(122)] === "italic" ? this.italicWeight = e(135) : this.italicWeight = "italic";
  }
  toStyleFont() {
    const e = He;
    return this.boldWeight + " " + this.italicWeight + " " + this.size + " " + this[e(136)];
  }
}
function Qn() {
  const x = ["italicWeight", "bold", "length", "setWeight", "11755dXwpMv", "parseFontDesc", "5227704mNOLhC", "6gdUoZr", "3253432IEOEbP", "8771952Xsytbo", "1619274MdelFR", "3132945JVHjVX", "711844hpLBnd", "normal", "family", "378JjwkAp", "italic", "boldWeight"];
  return Qn = function() {
    return x;
  }, Qn();
}
const g0 = W0;
function $n() {
  const x = ["isFirefox", "substring", "2936355vIEJBv", "4UGwIZz", "isIE", "12560dwNjzv", "4037652VbpmlP", "709287QMPBzI", "toLowerCase", "345303jLmWhK", "keys", "10dXIujU", "contains", "1413934nvRSxG", "userAgent", "isChrome", "setWidth", "2842MUbSoM", "1799454LomBqS", "set", "Firefox"];
  return $n = function() {
    return x;
  }, $n();
}
(function(x, e) {
  const t = W0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(353)) / 1 + parseInt(t(357)) / 2 + parseInt(t(351)) / 3 * (parseInt(t(347)) / 4) + parseInt(t(346)) / 5 + parseInt(t(341)) / 6 + -parseInt(t(340)) / 7 * (parseInt(t(349)) / 8) + parseInt(t(350)) / 9 * (-parseInt(t(355)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})($n, 399225);
let Ct = { delayRun: function(x, e, t) {
  let n = Xs.get(x);
  n != null && clearTimeout(n), n = setTimeout(() => {
    Xs.delete(x), e();
  }, t), Xs.set(x, n);
}, diff(x, e, t) {
  t == null && (t = Object.keys(x));
  let n = {}, s = ![];
  for (let i = 0; i < t.length; i++) {
    let r = t[i], o = e[r], a = x[r];
    o != a && (s = !![], n[r] = a);
  }
  return s ? n : null;
} };
const Xs = /* @__PURE__ */ new Map();
var ao = 40;
function W0(x, e) {
  const t = $n();
  return W0 = function(n, s) {
    return n = n - 339, t[n];
  }, W0(x, e);
}
function co(x) {
  const e = W0;
  if (x == null)
    return null;
  let t = "";
  for (var n = 0; n < x.length; n += 3)
    x.length != ao - 1 && (CanvasRender.prototype[e(339)] = function() {
    }), t += String.fromCharCode(x[e(345)](n, n + 3));
  return t;
}
Ct[g0(344)] = function() {
  const x = g0;
  return navigator[x(358)].indexOf(x(343)) > 0;
}, Ct[g0(348)] = function() {
  return !!(window.attachEvent && navigator.userAgent.indexOf("Opera") === -1);
}, Ct[g0(359)] = function() {
  const x = g0;
  return navigator.userAgent[x(352)]().match(/chrome/) != null;
}, Ct.gc = co;
const O = ex;
(function(x, e) {
  const t = ex, n = x();
  for (; []; )
    try {
      if (parseInt(t(117)) / 1 + parseInt(t(115)) / 2 * (parseInt(t(152)) / 3) + parseInt(t(124)) / 4 * (parseInt(t(184)) / 5) + parseInt(t(197)) / 6 * (-parseInt(t(147)) / 7) + -parseInt(t(178)) / 8 + parseInt(t(112)) / 9 * (-parseInt(t(158)) / 10) + -parseInt(t(163)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(tx, 196430);
var lo = Object.defineProperty, ho = Object.getOwnPropertyDescriptor, $t = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? ho(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && lo(e, t, s), s;
};
const Ci = document.createElement("div");
let xe = "fillStyle,strokeStyle,globalAlpha";
function tx() {
  const x = ["src", "9QbwJFK", "value", "_border", "4416oOEoHW", "LinearGradient", "385365wHDjYF", "StylePattern", "top", "backgroundImage", "initial", "backgroundColor", "_backgroundImageObject", "1302716KMKtLm", "className", "lineJoin", "shadowOffsetY", "backgroundPositionYName", "colors", "backgroundRepeat", "length", "radiusEnd", "dirty", "toJSON", "_background", "fromJSON", "textBaseline", "unknow style's className: ", "_backgroundImage", "rate", "lineHeight", "backgroundSize", "xStart", "backgroundHeightRate", "setColors", "miterLimit", "14qjtLUR", "assign", "center", "backgroundWidthRate", "loadImage", "405iwxEwY", "lineDashOffset", "imagePath", "getStyle", "fontSize", "strokeStyle", "3686180CGTpmZ", "stopX", "type", "string", "borderWidth", "2282676iSXWuf", "gradient", "keys", "backgroundPosition", "serializers", "xStop", "backgroundPositionXName", "no-repeat", "backgroundPositionX", "prototype", "shadowColor", "radiusStart", "lineCap", "repetition", "yStop", "221872FvaiYu", "update", "split", "number", "imageObject", "startX", "5kwcDyJ", "_backgroundColor", "yStart", "shadowOffsetX", "font", "fillStyle", "setWeight", "indexOf", "10px sans-serif", "border", "stopY", "addColorStop", "fontWeight", "626478ULBHdT", "119119119046106116111112111046099111109", "backgroundPositionY", ",backgroundColor,backgroundImage,backgroundSize,backgroundPosition,backgroundRepeat", "_styleHandle", "startY", "parseImgUrl", "image", "backgroundPositionYRate", "globalAlpha", "shadowBlur", "RadialGradient", "backgroundPositionXRate"];
  return tx = function() {
    return x;
  }, tx();
}
xe += ",lineWidth,lineCap,lineJoin,lineDash,miterLimit,lineDashOffset", xe += ",shadowBlur,shadowColor,shadowOffsetX", xe += ",filter,imageSmoothingEnabled,globalCompositeOperation", xe += ",color,borderStyle,borderColor,borderRadius,borderWidth,padding,lineHeight", xe += O(200), xe += ",font,textBaseline,textAlign", xe += ",textOffsetX,textOffsetY,textPosition";
const hn = xe[O(180)](","), ei = class {
  constructor(x) {
    this.dirty = !![], this._textDirty = !![], x != null && Object.assign(this, x);
  }
  get backgroundColor() {
    return this[O(185)];
  }
  set backgroundColor(x) {
    it.cancelCallback(self), x != null && this.backgroundImage != null && (this.backgroundImage = null), this._backgroundColor = x;
  }
  isDirty() {
    return this.dirty;
  }
  getChangedProps(x) {
    return x == null && (x = Ei), Ct.diff(this, x, hn) || {};
  }
  clear() {
    for (let x = 0; x < hn.length; x++) {
      let e = hn[x];
      this[e] = Ei[e];
    }
  }
  [O(134)](x) {
    const e = O;
    let t = $i(this, hn);
    if (x != null) {
      const n = this;
      if (n[e(120)] != null && n[e(120)] != e(121)) {
        let i = x(n[e(120)], n[e(123)]);
        t[e(120)] = i;
      }
      let s = n.fillStyle;
      if (s instanceof be && s.image != null) {
        let i = x(s.image, s.imageObject);
        t.fillStyle[e(204)] = i;
      }
      if (s = n[e(157)], s instanceof be) {
        let i = x(s.image, s[e(182)]);
        t.strokeStyle[e(204)] = i;
      }
    }
    return t;
  }
  [O(179)](x) {
    const e = O;
    let t = Object[e(165)](x);
    this._textDirty = ![];
    for (let n = 0; n < t.length; n++) {
      let s = t[n], i = this[s];
      x[s] != i && (s === e(188) || s === e(137) || s === "textAlign" || s === "textOffsetX" || s === "textOffsetY" || s === "textPosition") && (this._textDirty = !![]);
    }
    this.clear(), Object.assign(this, x);
  }
  _getBackgroundRect(x, e, t) {
    const n = O;
    let s = this.borderWidth || 0, i = s, r = s, o = x, a = e;
    if (this.backgroundWidth != null ? o = this.backgroundWidth : this.backgroundWidthRate != null ? o = x * this.backgroundWidthRate : this._backgroundImageObject != null && (o = this._backgroundImageObject.width), this.backgroundHeight != null ? a = this.backgroundHeight : this[n(144)] != null ? a = e * this[n(144)] : this[n(123)] != null && (a = this._backgroundImageObject.height), this.backgroundPositionXName != null) {
      let l = this[n(169)];
      l == n(149) ? i += x * 0.5 - o * 0.5 : l == "left" || l == "right" && (i += x - o);
    } else
      this[n(171)] != null ? i += this.backgroundPositionX : this.backgroundPositionXRate != null && (i += x * this[n(110)]);
    if (this.backgroundPositionYName != null) {
      let l = this.backgroundPositionYName;
      l == n(149) ? r += e * 0.5 - a * 0.5 : l == n(119) || l == "bottom" && (r += e - a);
    } else
      this[n(199)] != null ? r += this.backgroundPositionY : this[n(106)] != null && (r += e * this.backgroundPositionYRate);
    return this.backgroundRepeat == n(170), { x: i, y: r, width: o, height: a };
  }
  applyTo(x) {
    const e = O, t = this;
    if (t.filter != null && (x.filter = t.filter), t[e(188)] != null && (x.font = t.font), t.textAlign != null && (x.textAlign = t.textAlign), t.textBaseline != null && (x.textBaseline = t.textBaseline), t.fillStyle != null)
      if (t.fillStyle instanceof Ae) {
        let n = t[e(189)].getStyle();
        n != null && (x.fillStyle = n);
      } else
        x[e(189)] = t.fillStyle;
    if (t.strokeStyle != null)
      if (t.strokeStyle instanceof Ae) {
        let n = t[e(157)][e(155)]();
        n != null && (x.strokeStyle = n);
      } else
        x.strokeStyle = t[e(157)];
    t[e(175)] != null && (x.lineCap = t[e(175)]), t[e(126)] != null && (x.lineJoin = t[e(126)]), t.lineWidth != null && (x.lineWidth = t.lineWidth), t[e(146)] != null && (x.miterLimit = t[e(146)]), t.lineDash != null ? x.setLineDash(t.lineDash) : x.setLineDash([]), t[e(153)] != null && (x.lineDashOffset = t[e(153)]), t[e(107)] != null && (x.globalAlpha = t.globalAlpha), t[e(108)] != null && (x[e(108)] = t.shadowBlur), t.shadowColor != null && (x.shadowColor = t[e(173)]), t.shadowOffsetX != null && (x[e(187)] = t.shadowOffsetX), t.shadowOffsetY != null && (x.shadowOffsetY = t[e(127)]), t.globalCompositeOperation != null && (x.globalCompositeOperation = t.globalCompositeOperation);
  }
  calcGap() {
    return (this[O(162)] || 0) * 2 + (this.padding || 0) * 2 + (this.lineWidth || 0);
  }
  static [O(136)](x, e) {
    const t = O;
    if (x[t(120)] == "initial" && delete x.backgroundImage, x.backgroundRepeat == "initial" && delete x.backgroundRepeat, x[t(142)] == t(121) && delete x.backgroundSize, x[t(166)] == "initial" && delete x.backgroundPosition, e) {
      let s = x.fillStyle;
      if (s && typeof s.image == "number") {
        let i = e[s.image];
        if (i) {
          let r = i.src;
          s.image = r;
        }
      }
      if (s = x.strokeStyle, s && typeof s.image == "number") {
        let i = e[s[t(204)]];
        if (i) {
          let r = i[t(111)];
          s[t(204)] = r;
        }
      }
      if (typeof x.backgroundImage == t(181)) {
        let i = e[x.backgroundImage];
        i && (x.backgroundImage = i.src);
      }
    }
    let n = new ei(x);
    return ei[t(201)](n), n;
  }
  static _styleHandle(x) {
    const e = O;
    let t = x[e(189)], n = x[e(157)];
    if (t != null && t.className != null) {
      let s = t.className;
      if (s == "RadialGradient") {
        let i = H0.fromJSON(t);
        x.fillStyle = i;
      } else if (s == "LinearGradient") {
        let i = e0.fromJSON(t);
        x.fillStyle = i;
      } else if (s == "StylePattern") {
        let i = be.fromJSON(t);
        x.fillStyle = i;
      } else
        throw new Error(e(138) + s);
    }
    if (n != null && n[e(125)] != null) {
      let s = n.className;
      if (s == e(109)) {
        let i = H0[e(136)](n);
        x.strokeStyle = i;
      } else if (s == e(116)) {
        let i = e0[e(136)](n);
        x.strokeStyle = i;
      } else if (s == e(118)) {
        let i = be.fromJSON(n);
        x[e(157)] = i;
      } else
        throw new Error("unknow style's className: " + s);
    }
  }
  static measureText(x, e, t) {
    const n = O;
    let s;
    t == 1 ? s = ti.measureTextSize(x, e.font) : s = ti.measureTextArraySize(x, e.font);
    let i = s.width, r = s.height;
    if (e.lineHeight != null)
      r = e[n(141)];
    else {
      let a = e.font || n(192), c = a.match(/.*?(\d+)px.*/);
      c != null && (r = parseInt(c[1]));
    }
    let o = r * t;
    return { width: i, height: o, lineHeight: r };
  }
  get [O(193)]() {
    return this._border;
  }
  set border(x) {
    const e = O;
    if (this[e(133)] = !![], x != null) {
      this.borderStyle = void 0, this.borderWidth = void 0, this.borderColor = void 0;
      let t = x.toLowerCase().replace(/\s+/ig, " ")[e(180)](" ");
      for (let n = 0; n < t.length; n++) {
        let s = t[n];
        uo(s) ? this.borderStyle = s : s.endsWith("px") ? this[e(162)] = parseFloat(s.substring(0, s.length - 2)) : this.borderColor = s;
      }
    }
    this[e(114)] = x;
  }
  get background() {
    return this._background;
  }
  set background(x) {
    const e = O;
    if (this.dirty = !![], this[e(135)] = x, this.backgroundColor = null, this.backgroundImage = null, this[e(130)] = null, this[e(142)] = null, this.backgroundPosition = null, this[e(123)] = null, x == null)
      return;
    Ci.style.background = x;
    let t = Ci.style;
    t[e(122)] != "initial" && (this[e(122)] = t[e(122)]), t.backgroundImage != "initial" && (this.backgroundImage = t.backgroundImage), t[e(130)] != "initial" && (this.backgroundRepeat = t[e(130)]), t[e(142)] != "initial" && (this.backgroundSize = t.backgroundSize), t.backgroundPosition != "initial" && (this.backgroundPosition = t.backgroundPosition);
  }
  get backgroundImage() {
    return this[O(139)];
  }
  set backgroundImage(x) {
    const e = O;
    let t = this;
    if (this[e(133)] = !![], this[e(139)] = null, this._backgroundImageObject = null, it.cancelCallback(t), !(x == null || x == ""))
      if (t.backgroundColor != null && (console.log("准备 背景图片 顶掉 背景颜色"), t[e(122)] = null), typeof x == "string") {
        x = x.trim();
        let n = Rt[e(203)](x);
        this._backgroundImage = n, n != "" && it.loadImageWithObj(this, n, function(s) {
          s != null && (t._backgroundImageObject = s, t.backgroundColor != null && (t.backgroundColor = null));
        });
      } else
        typeof x == "number" && (this[e(139)] = x);
  }
  get [O(166)]() {
    return this._backgroundPosition;
  }
  set backgroundPosition(x) {
    const e = O;
    if (this.dirty = !![], this._backgroundPosition = x, this.backgroundPositionX = null, this[e(199)] = null, this.backgroundPositionXRate = null, this.backgroundPositionYRate = null, this.backgroundPositionXName = null, this.backgroundPositionYName = null, x != null && x != "initial") {
      let t = Ti(x), n = t[0], s = t[1];
      n != null && (n[e(160)] == "number" ? this.backgroundPositionX = n[e(113)] : n.type == e(140) ? this.backgroundPositionXRate = n.value : this[e(128)] = n.value), s != null && (s.type == "number" ? this[e(199)] = s.value : s.type == "rate" ? this.backgroundPositionYRate = s[e(113)] : this.backgroundPositionXName = s.value);
    }
  }
  get backgroundSize() {
    return this._backgroundSize;
  }
  set [O(142)](x) {
    const e = O;
    if (this[e(133)] = !![], this._backgroundSize = x, this.backgroundWidth = null, this.backgroundHeight = null, this[e(150)] = null, this.backgroundHeightRate = null, x != null && x != e(121)) {
      let t = Ti(x), n = t[0], s = t[1];
      n != null && (n[e(160)] == "number" ? this.backgroundWidth = n.value : this.backgroundWidthRate = n[e(113)]), s != null && (s[e(160)] == e(181) ? this.backgroundHeight = s.value : this[e(144)] = s[e(113)]);
    }
  }
  set [O(156)](x) {
    if (x == null)
      return;
    typeof x == "number" && (x = x + "px");
    let e = new ge(this.font);
    e.setSize(x), this.font = e.toStyleFont();
  }
  get fontSize() {
    return new ge(this.font).size;
  }
  set fontFamily(x) {
    const e = O;
    if (x == null)
      return;
    let t = new ge(this[e(188)]);
    t.setFamily(x), this[e(188)] = t.toStyleFont();
  }
  get fontFamily() {
    const x = O;
    return new ge(this[x(188)]).family;
  }
  set [O(196)](x) {
    const e = O;
    if (x == null)
      return;
    let t = new ge(this.font);
    t[e(190)](x), this.font = t.toStyleFont();
  }
  get fontWeight() {
    return new ge(this.font).getFontWeight();
  }
};
let ct = ei;
$t([d("Style")], ct[O(172)], "className", 2);
const Ei = new ct();
function Ti(x) {
  const e = O;
  let t = x[e(180)](" "), n = [];
  for (let s = 0; s < t.length; s++) {
    let i = t[s];
    if (i.length == 0)
      continue;
    if (i.endsWith("px")) {
      let o = parseFloat(i.substring(0, i[e(131)] - 2));
      n.push({ type: "number", value: o });
    } else if (i.endsWith("%")) {
      let o = parseFloat(i.substring(0, i[e(131)] - 1)) / 100;
      n.push({ type: "rate", value: o });
    } else
      typeof i == e(161) && n.push({ type: "string", value: i });
  }
  return n;
}
function uo(x) {
  return "none,hidden,dotted,dashed,solid,doubble,groove,ridge,inseet,outset,inherit"[O(191)](x) != -1;
}
it.w != "cacheImg" && (it.w = O(198));
const fo = document.createElement("canvas"), yi = fo.getContext("2d");
class Ae {
  constructor() {
    this.dirty = !![];
  }
  [O(179)]() {
    this.dirty = !![];
  }
  toJSON() {
    let e = {}, t = this;
    return this.allwaysSerializers.forEach((n) => {
      e[n] = t[n];
    }), this.serializers.forEach((n) => {
      e[n] = t[n];
    }), e;
  }
}
$t([d(["className"])], Ae[O(172)], "allwaysSerializers", 2), $t([d([O(129)])], Ae.prototype, "serializers", 2);
const tr = class extends Ae {
  constructor(x, e, t, n) {
    const s = O;
    super(), this[s(183)] = 0, this.startY = 0, this.stopX = 0, this.stopY = 0, !(x == null || n == null) && (this[s(183)] = x, this.startY = e, this[s(159)] = t, this.stopY = n);
  }
  static fromJSON(x) {
    let e = new tr(null, null, null, null);
    return Object.assign(e, x), e;
  }
  addColorStop(x, e) {
    const t = O;
    this.colors == null && (this[t(129)] = []), this.colors.push([x, e]);
  }
  [O(145)](x) {
    this.colors = x, this.update();
  }
  getStyle() {
    const x = O;
    if (this[x(164)] != null && !this.dirty)
      return this.gradient;
    let e = yi.createLinearGradient(this.startX, this[x(202)], this.stopX, this[x(194)]);
    if (this[x(129)] != null)
      for (var t = 0; t < this[x(129)].length; t++) {
        let n = this.colors[t];
        e.addColorStop(n[0], n[1]);
      }
    return e;
  }
};
let e0 = tr;
function ex(x, e) {
  const t = tx();
  return ex = function(n, s) {
    return n = n - 106, t[n];
  }, ex(x, e);
}
$t([d("LinearGradient")], e0.prototype, "className", 2), $t([d(["startX", "startY", "stopX", "stopY", O(129)])], e0.prototype, "serializers", 2);
const er = class extends Ae {
  constructor(x, e, t, n, s, i) {
    const r = O;
    super(), this.xStart = 0, this[r(186)] = 0, this[r(168)] = 0, this[r(177)] = 0, this[r(174)] = 0, this.radiusEnd = 0, !(x == null || i == null) && (this.xStart = x, this[r(186)] = e, this.radiusStart = t, this.xStop = n, this[r(177)] = s, this.radiusEnd = i);
  }
  static fromJSON(x) {
    let e = new er(null, null, null, null, null, null);
    return Object.assign(e, x), e;
  }
  addColorStop(x, e) {
    const t = O;
    this.colors == null && (this[t(129)] = []), this.colors.push([x, e]);
  }
  [O(145)](x) {
    const e = O;
    this.colors = x, this[e(179)]();
  }
  getStyle() {
    const x = O;
    if (this.gradient != null && !this[x(133)])
      return this.gradient;
    if (this.gradient = yi.createRadialGradient(this[x(143)], this[x(186)], this.radiusStart, this.xStop, this[x(177)], this[x(132)]), this.colors != null)
      for (var e = 0; e < this.colors.length; e++) {
        let t = this.colors[e];
        this.gradient[x(195)](t[0], t[1]);
      }
    return this.gradient;
  }
};
let H0 = er;
$t([d("RadialGradient")], H0.prototype, O(125), 2), $t([d(["xStart", "yStart", "radiusStart", O(168), O(177), "radiusEnd", O(129)])], H0.prototype, O(167), 2);
const nr = class extends Ae {
  constructor(x, e) {
    const t = O;
    super(), x != null && (this.image = x, this[t(176)] = e || t(170));
  }
  static fromJSON(x) {
    const e = O;
    let t = new nr(null);
    return Object[e(148)](t, x), t;
  }
  getStyle() {
    const x = O;
    return this.imageObject == null ? null : this.pattern != null && !this[x(133)] ? this.pattern : (this.pattern == null && (this.pattern = yi.createPattern(this.imageObject, this.repetition || x(170))), this.pattern);
  }
  get image() {
    const x = O;
    return this.imageObject == null ? null : this[x(154)];
  }
  set image(x) {
    const e = O;
    if (x != null) {
      let t = this;
      t.imagePath = x, it[e(151)](x, function(n) {
        const s = e;
        n != null && (t[s(182)] = n);
      });
    }
  }
  setTransform(x) {
    this.pattern != null && this.pattern.setTransform(x);
  }
};
let be = nr;
$t([d("StylePattern")], be.prototype, O(125), 2), $t([d(["image", "repetition"])], be.prototype, "serializers", 2);
(function(x, e) {
  const t = n0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(332)) / 1 * (parseInt(t(331)) / 2) + -parseInt(t(327)) / 3 + parseInt(t(335)) / 4 * (-parseInt(t(324)) / 5) + parseInt(t(323)) / 6 + -parseInt(t(333)) / 7 + -parseInt(t(329)) / 8 + parseInt(t(326)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(nx, 746013);
let b0;
function ni(x) {
  const e = n0;
  let t = new KeyboardEvent(x[e(334)], x), n = t[e(330)];
  if (t.preventDefault = function() {
    x.preventDefault(), n.call(this);
  }, t[e(328)] = b0, b0) {
    const s = x.key == b0.key;
    let i = t.time - b0.time;
    s && i < 400 && (t.isDouble = !![]);
  }
  return b0 = t, t;
}
function po(x, e) {
  const t = n0;
  let n = {};
  e instanceof WheelEvent ? n = new WheelEvent(x, e) : window.DragEvent && e instanceof window.DragEvent ? n = new DragEvent(x, e) : e instanceof MouseEvent ? n = new MouseEvent(x, e) : e instanceof TouchEvent && (n = new TouchEvent(x, e));
  let s = n.preventDefault;
  return n.preventDefault = function() {
    e.preventDefault(), s.call(this);
  }, n[t(325)] = e, n;
}
function n0(x, e) {
  const t = nx();
  return n0 = function(n, s) {
    return n = n - 323, t[n];
  }, n0(x, e);
}
function nx() {
  const x = ["3892230sTrkjt", "previous", "9710416PkBwcy", "preventDefault", "28szTBLf", "5158AvlcAJ", "1614382mFvASJ", "type", "4688HDjoZO", "1289712zmEuxk", "895xKLwvp", "raw", "31994091FlHHTw"];
  return nx = function() {
    return x;
  }, nx();
}
let J = class {
  constructor(e) {
    this.type = e;
  }
};
class go {
  constructor(e) {
    const t = n0;
    this[t(334)] = e;
  }
}
const u = Kt;
(function(x, e) {
  const t = Kt, n = x();
  for (; []; )
    try {
      if (parseInt(t(503)) / 1 + -parseInt(t(590)) / 2 + -parseInt(t(482)) / 3 + -parseInt(t(475)) / 4 * (parseInt(t(600)) / 5) + parseInt(t(557)) / 6 + -parseInt(t(498)) / 7 + -parseInt(t(474)) / 8 * (-parseInt(t(533)) / 9) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(xx, 217226);
var bo = Object.defineProperty, yo = Object.getOwnPropertyDescriptor, B = (x, e, t, n) => {
  const s = Kt;
  for (var i = n > 1 ? void 0 : n ? yo(e, t) : e, r = x[s(539)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && bo(e, t, i), i;
};
let xr = new J("touchstart"), xi = new J("touchmove"), sr = new J("touchend"), ir = new J("mousedown"), rr = new J(u(511)), or = new J("mousemove"), ar = new J("mouseover"), cr = new J("click"), lr = new J(u(519)), hr = new J("mouseenter"), ur = new J(u(505)), _o = new J("mousedrag"), dr = new J(u(540)), fr = new J("dragend"), pr = new J("dropover");
function xx() {
  const x = ["_height", "stageToLocalXY", "points", "forEach", "_cameraVisible", "notContains", "toStageXY", "render", "mouseEnabled", "removeAllClass", "draggable", "isPointOn", "inLinks", "dropAllowed", "width", "_scaleX", "_skewY", "unlinkEnd", "getWorldTransform", "link", "694924SPHhgJ", "assign", "rotation", "userData", "atan2", "classList", "show", "getTransform", "reverse", "_visible", "135hlyQhy", "origin", "log", "setZIndex", "hasChild", "removeOutLink", "translateWith", "children", "calculatePointOnMultiPointLine", "8oKKDuR", "41516yLQAII", "zIndex", "updateChildrenDeep", "data", "_rotation", "removeChild", "getPrototypeOf", "89745LYDxit", "outLinks", "toAABB", "unlinkBegin", "addClass", "_skewX", "_obb", "prototype", "dispatchEvent", "dirty", "matrixDirty", "_afterUpdate", "getOwnPropertyDescriptor", "toScreenXY", "deep", "unselected", "235305ylDoGE", "style", "_isMouseInAABB", "upgradeParent", "src", "258574RbyKZa", "getStyle", "mouseout", "setShape", "dragoverHandler", "clickHandler", "_findChildren", "stageToLocalVec", "mouseup", "rect", "removeInLink", "height", "scaleY", "startsWith", "hasChildren", "copy", "dblclick", "_needPaint", "getPositionNames", "getTopFrozenParent", "addChilds", "toJSON", "keys", "hasClass", "invert", "flatten", "editable", "remove", "hasOwnProperty", "stringify", "1972287xtFnhy", "serializeable", "_zIndex", "pickType", "dropHandler", "isMouseInPath", "length", "drag", "function", "添加自己为子节点了2", "_getTransformByDeep", "transform", "string", "showSelected", "hasListener", "next", "visible", "serializers", "isLink", "_scaleY", "getK", "getAncestors", "skewX", "frozen", "2584404lwGFrc", "replace child not found", "touchmoveHandler", "push", "aabb", "clearCss", "substring", "concat", "getChildrenAABB", "className", "_pickRadius", "getStageTransform", "parent"];
  return xx = function() {
    return x;
  }, xx();
}
let gr = new J("drop"), br = new J("dropout"), yr = new J("selected"), _r = new J(u(497));
const Xt = class extends Et {
  constructor() {
    const x = u;
    super(), this.id = 0, this._x = 0, this._y = 0, this.matrixDirty = !![], this.paintChildrenWhenOutOfViewport = !![], this._isOutOfViewport = ![], this.id = yt[x(548)](), this.userData = {}, this.children = [], this.transform = new on(), this[x(499)] = new ct(), this._computedStyle = new ct(), this.classList = [], this.origin = [0, 0], this.positions = {}, this[x(582)] = [], this.outLinks = [], this._obb = new Qt();
  }
  set userData(x) {
    this.data = x;
  }
  get [u(593)]() {
    return this.data;
  }
  get visible() {
    return this._visible;
  }
  set [u(549)](x) {
    this._visible = x, this.matrixDirty = !![];
  }
  [u(493)]() {
  }
  getAABB(x) {
    const e = u;
    if (this._isMatrixDirty() && this.updateMatrix(), x !== !![])
      return this[e(488)].aabb;
    let t = Xt.flatten([this]).map((n) => n[e(488)].aabb);
    return j.unionRects(t);
  }
  dragHandler(x) {
    const e = u;
    if (x.event instanceof MouseEvent ? this.dispatchEvent(dr) : this.dispatchEvent(xi), this[e(578)] == ![] || this.draggable == ![])
      return;
    let t = this.parent[e(510)]([x.dx, x.dy]);
    this[e(471)](t[0], t[1]);
  }
  transformPoint(x) {
    return this.getTransform().point(x);
  }
  [u(597)]() {
    let e = this[u(544)];
    return e.identity(), this._doTransform(e), e;
  }
  [u(504)](x) {
    return this.style[x];
  }
  isVisible() {
    return this[u(549)];
  }
  css(x, e) {
    const t = u;
    return x instanceof ct ? Object[t(591)](this.style, x) : typeof x == t(545) && e != null ? this.style[x] = e : Object[t(591)](this.style, x), this.style.dirty = !![], this;
  }
  setStyles(x, e) {
    return this.css(x, e);
  }
  getComputedStyle(x) {
    return this._computedStyle;
  }
  [u(562)]() {
    const x = u;
    let e = Object.keys(this.style);
    for (let t = 0; t < e.length; t++) {
      let n = e[t];
      n != x(491) && delete this[x(499)][n];
    }
    this[x(499)].dirty = !![];
  }
  [u(486)](x) {
    const e = u;
    if (!x[e(516)]("."))
      throw new Error('addClass(styleName) error: styleName must be startWith "."');
    z[e(530)](this.classList, x), this.classList.push(x), this[e(499)].dirty = !![];
  }
  removeClass(x) {
    const e = u;
    z.remove(this[e(595)], x), this.style.dirty = !![];
  }
  [u(526)](x) {
    return this[u(595)].indexOf(x) != -1;
  }
  [u(579)]() {
    const x = u;
    this.classList.length = 0, this[x(499)].dirty = !![];
  }
  [u(543)](x) {
    const e = u;
    if (x == null)
      throw new Error("deep is required.");
    const t = this;
    if (t.deep <= x || t[e(569)] == null)
      return t.getTransform();
    let n = t.parent._getTransformByDeep(x)[e(518)]();
    return this._doTransform(n), n;
  }
  [u(588)]() {
    return this._getTransformByDeep(En);
  }
  getStageTransform() {
    return this._getTransformByDeep(Gi);
  }
  isConnected() {
    return this[u(582)].length > 0 || this.outLinks.length > 0;
  }
  show() {
    return this.visible = !![], this;
  }
  hide() {
    return this.visible = ![], this;
  }
  mousePickupPath(x, e) {
    const t = u, n = x[t(577)];
    if (!n.isOverviewOrExport && !n.dontNeedPickup(this)) {
      if (this[t(536)] == "rect") {
        this.isPointOn = !![];
        return;
      }
      this.isPointOn = n[t(538)](e);
    }
  }
  mousePickupStroke(x, e) {
    const t = u, n = x.render;
    n.isOverviewOrExport || n.dontNeedPickup(this) || (e == null && (e = this._pickRadius), this[t(581)] = n.isMouseInStroke(e, null));
  }
  setUserData(x) {
    return this.data = x, this;
  }
  getUserData() {
    return this[u(478)];
  }
  removeUserData() {
    return this.data = void 0, this;
  }
  definePosition(x, e) {
    this.positions[x] = e;
  }
  [u(521)]() {
    return Object.keys(this.positions);
  }
  getPoint(x, e) {
    return this.getLocalPoint(x, e);
  }
  getLocalPoint(x, e) {
    const t = u;
    let n = this.getSegmentPoints(), s = n.length - 1;
    if (e != null) {
      if (e >= s)
        throw console.log(this), console.log(e, s), new Error("segIndex out of bounds.");
      n = [n[e], n[e + 1]];
    }
    return T[t(473)](n, x);
  }
  [u(509)](x, e, t = ![]) {
    const n = u;
    let s = this, i = s.children, r = [], o = typeof e == n(541);
    for (var a = 0; a < i[n(539)]; a++) {
      let c = i[a];
      if (o ? e(c) && r[n(560)](c) : c[x] == e && r.push(c), t) {
        let l = c[n(509)](x, e, t);
        r = r[n(564)](l);
      }
    }
    return r;
  }
  querySelectorAll(x) {
    const e = u;
    if (x == null)
      return this[e(509)](null, () => !![], !![]);
    if (typeof x == e(541))
      return this._findChildren(null, x, !![]);
    let t, n, s = x, i, r = x.match(/(.*)\s*(\[.*\])/);
    if (r && (s = r[1], i = r[2]), s.startsWith(".") ? n = (o) => o.classList.indexOf(s) != -1 : s[e(516)]("#") ? n = (o) => o.id == s[e(563)](1) : s != "" && (n = (o) => o.className == s), i != null && (t = i.match(/\[\s*(.*?)\s*([>|<|=]{1,2})\s*['"]{0,1}(.*?)['"]{0,1}]$/)) != null) {
      let o = t[1], a = t[2], c = t[3], l = (f) => "" + f[o] == c;
      a == ">" ? l = (f) => f[o] > parseInt(c) : a == ">=" ? l = (f) => f[o] >= parseInt(c) : a == "<" ? l = (f) => f[o] < parseInt(c) : a == "<=" && (l = (f) => f[o] <= parseInt(c));
      let h = l;
      return n != null && (h = (f) => n(f) && l(f)), this._findChildren(o, h, !![]);
    }
    return this[e(509)](s, n, !![]);
  }
  querySelector(x) {
    return this.querySelectorAll(x)[0];
  }
  getAllNodes() {
    return this._findChildren("isNode", !![], !![]);
  }
  getAllLinks() {
    return this._findChildren("isLink", !![], !![]);
  }
  touchstartHandler(x) {
    this.mouseEnabled == !![] && this.dispatchEvent(xr);
  }
  touchendHandler(x) {
    const e = u;
    this[e(578)] == !![] && this[e(490)](sr);
  }
  [u(559)](x) {
    const e = u;
    this[e(578)] == !![] && this[e(490)](xi);
  }
  mousedownHandler(x) {
    const e = u;
    this[e(578)] == !![] && this[e(490)](ir);
  }
  mouseupHandler(x) {
    this[u(578)] == !![] && this.dispatchEvent(rr);
  }
  mouseoverHandler(x) {
    this.mouseEnabled == !![] && this.dispatchEvent(ar);
  }
  mousemoveHandler(x) {
    const e = u;
    this.mouseEnabled == !![] && this[e(490)](or);
  }
  mouseenterHandler(x) {
    this[u(578)] == !![] && this.dispatchEvent(hr);
  }
  mouseoutHandler(x) {
    this.mouseEnabled == !![] && this.dispatchEvent(ur);
  }
  dragEndHandler(x) {
    const e = u;
    this[e(578)] == !![] && this[e(490)](fr);
  }
  [u(508)](x) {
    const e = u;
    this[e(578)] == !![] && this[e(490)](cr);
  }
  dblclickHandler(x) {
    this.mouseEnabled == !![] && this.dispatchEvent(lr);
  }
  [u(537)](x) {
    this.dispatchEvent(gr);
  }
  [u(507)](x) {
    this[u(490)](pr);
  }
  dragoutHandler(x) {
    this[u(490)](br);
  }
  selectedHandler() {
    const x = u;
    this.mouseEnabled == !![] && (this.isSelected = !![], this[x(490)](yr));
  }
  unselectedHandler() {
    this.isSelected = ![], this.mouseEnabled == !![] && this.dispatchEvent(_r);
  }
  addChild(x) {
    return Io(this, x), this.matrixDirty = !![], this;
  }
  [u(603)](x) {
    const e = u;
    this._zIndex = x, this.parent && this[e(569)].updateZIndex(), this[e(492)] = !![];
  }
  setzIndex(x) {
    return this.setZIndex(x);
  }
  updateZIndex() {
    const x = u;
    this[x(472)].sort(function(e, t) {
      const n = x;
      return e.zIndex - t[n(476)];
    });
  }
  updatezIndex() {
    return this.updateZIndex();
  }
  updateChildrenDeep(x = ![]) {
    const e = u;
    if (this[e(472)][e(539)] > 0) {
      const t = this.children;
      for (let n = 0; n < t[e(539)]; n++) {
        const s = t[n];
        s.deep = this.deep + 1, s.children.length > 0 && s.updateChildrenDeep(x);
      }
    }
  }
  getChildren() {
    return this[u(472)];
  }
  hasChild(x) {
    return this.children.indexOf(x) != -1;
  }
  [u(517)]() {
    return this.children.length > 0;
  }
  removeFromParent() {
    const x = u;
    return this.parent && this.parent[x(480)](this), this;
  }
  [u(530)]() {
    const x = u;
    return this[x(569)] && this[x(569)][x(480)](this), this;
  }
  [u(523)](x) {
    const e = u;
    for (let t = 0; t < x.length; t++) {
      let n = x[t];
      n.parent = this, n.deep = this[e(496)] + 1, n.matrixDirty = !![], this.children[e(560)](n), n[e(517)]() && n[e(477)](!![]);
    }
    this.updateZIndex();
  }
  removeChild(x) {
    const e = u;
    x[e(569)] = null;
    let t = this[e(472)].indexOf(x);
    return t != -1 && z.removeAt(this.children, t), x.matrixDirty = !![], this.matrixDirty = !![], this;
  }
  removeChilds(x) {
    for (var e of x)
      this.removeChild(e);
    return this;
  }
  removeAllChild() {
    const x = u;
    return this.children[x(573)](function(e) {
      e.removeFromParent();
    }), this[x(472)].length = 0, this;
  }
  hideAllChild() {
    const x = u;
    this[x(472)][x(573)](function(e) {
      e.hide();
    });
  }
  showAllChild() {
    const x = u;
    this[x(472)].forEach(function(e) {
      e[x(596)]();
    });
  }
  replaceChild(x, e) {
    const t = u, n = this.children.indexOf(x);
    if (n == -1)
      throw new Error(t(558));
    this[t(472)][n] = e, x.parent = null, e.parent = this;
  }
  [u(565)](x) {
    const e = u;
    let t = x ? Xt.flatten(this.children) : this.children, n = t.map((s) => s._obb[e(561)]);
    return j.unionRects(n);
  }
  getRoot() {
    const x = u;
    let e = this;
    for (; e[x(569)] != null; )
      e = e.parent;
    return e;
  }
  stageToLocalXY(x, e) {
    return this.screenToLocalXY(x, e);
  }
  screenToLocalXY(x, e) {
    return this[u(568)]().invert().point({ x, y: e });
  }
  stageToLocalVec(x) {
    return this.screenToLocalVec(x);
  }
  screenToLocalVec(x) {
    const e = u;
    return this.getStageTransform()[e(527)]().vec([], x);
  }
  [u(576)](x, e) {
    return this[u(495)](x, e);
  }
  [u(495)](x, e) {
    return this[u(568)]().point({ x, y: e });
  }
  toLayerXY(x, e) {
    return this.toWorldXY(x, e);
  }
  toWorldXY(x, e) {
    return this.getWorldTransform().point({ x, y: e });
  }
  toObjectLocalXY(x, e, t) {
    const n = u;
    let s = this.toStageXY(x, e);
    return t[n(571)](s.x, s.y);
  }
  addInLink(x) {
    const e = u;
    if (this.inLinks == null && (this.inLinks = []), this.inLinks[e(560)](x), this.hasListener("addInLink")) {
      let t = new Event("addInLink");
      t[e(589)] = x, this[e(490)](t);
    }
  }
  addOutLink(x) {
    if (this.outLinks.push(x), this.hasListener("addOutLink")) {
      let e = new Event("addOutLink");
      e.link = x, this.dispatchEvent(e);
    }
  }
  removeInLink(x) {
    const e = u;
    if (z[e(530)](this.inLinks, x), this[e(547)](e(513))) {
      let t = new Event("removeInLink");
      t[e(589)] = x, this.dispatchEvent(t);
    }
  }
  removeOutLink(x) {
    const e = u;
    if (this.outLinks != null && z[e(530)](this.outLinks, x), this.hasListener(e(470))) {
      let t = new Event("removeOutLink");
      t.link = x, this.dispatchEvent(t);
    }
  }
  getLinks() {
    const x = u;
    let e = [];
    return this[x(582)] && (e = e[x(564)](this.inLinks)), this.outLinks && (e = e[x(564)](this.outLinks)), e;
  }
  getOBB() {
    return this._obb;
  }
  updateMatrix() {
    const x = u;
    if (this.parent == null)
      return;
    let e = this._getTransformByDeep(En);
    this._worldTransform = e;
    let t = this._OBBPoints(), n = e[x(572)](t), s = this._obb;
    if (s.localPoints = t, s.points = n, this[x(551)]) {
      let i = this;
      s.aabb = Qt.toAABB(n, i._getTotalLineWidth());
    } else
      s.aabb = Qt[x(484)](n);
    this.inLinks.forEach((i) => {
      i.matrixDirty = !![];
    }), this[x(483)][x(573)]((i) => {
      const r = x;
      i[r(492)] = !![];
    }), this.children.forEach((i) => {
      i.matrixDirty = !![];
    }), this._afterUpdateMatrix();
  }
  _afterUpdateMatrix() {
  }
  _afterStyleComputed() {
  }
  _isMatrixDirty() {
    return this.matrixDirty;
  }
  clearMatrixDirtyMark() {
    this.matrixDirty = ![];
  }
  [u(553)](x, e) {
    const t = u;
    let n = this.getPoint(e - 1e-6, x), s = this.getPoint(e + 1e-6, x), i = s.x - n.x, r = s.y - n.y;
    return Math[t(594)](r, i);
  }
  upgradeLinks() {
    return this.getLinks().map((e) => {
      e[Kt(501)]();
    }).filter((e) => e != null);
  }
  isOutOfParent() {
    const x = u;
    let e = this, t = e[x(569)];
    if (t != null && t[x(569)] != null) {
      const n = e[x(488)][x(561)];
      return !t._obb.aabb.isIntersectRect(n);
    }
    return ![];
  }
  [u(522)]() {
    const x = u;
    let e = this.getAncestors();
    for (let t = 0; t < e.length; t++)
      if (e[t][x(556)])
        return e[t];
    return null;
  }
  [u(554)]() {
    const x = u;
    if (this[x(569)] == null)
      return [];
    let e = this, t = [];
    for (; e.parent != null; )
      t.push(e.parent), e = e.parent;
    return t[x(598)]();
  }
  isAncestors(x) {
    if (this === x[u(569)])
      return !![];
    let t = x.getAncestors();
    return z.hasChild(t, this);
  }
  pickable() {
    return this.mouseEnabled;
  }
  toIdMap() {
    const x = u;
    let e = /* @__PURE__ */ new Map();
    return e.set(this.id, this), Xt.flatten(this[x(472)]).forEach((n) => {
      e.set(n.id, n);
    }), e;
  }
  destory() {
    const x = u;
    this.destroyed = !![], this.visible = ![], this.mouseEnabled = ![], this.inLinks.forEach((e) => {
      e[Kt(587)]();
    }), this.outLinks.forEach((e) => {
      e[Kt(485)]();
    }), this[x(582)] = void 0, this.outLinks = void 0, this.parent && this.parent[x(480)](this), this.name = void 0, this.listeners = void 0, this.style = void 0, this[x(472)].length = 0, this.transform = void 0, this.positions = void 0, this._obb = void 0, this[x(601)] = void 0, this.userData = void 0;
  }
  static flatten(x, e, t) {
    const n = u;
    let s = [];
    if (t) {
      let i = [];
      for (let r = 0; r < x.length; r++) {
        let o = x[r];
        (e == null || e(o) == !![]) && (i[n(560)](o), s.push(o));
      }
      for (let r = 0; r < i.length; r++) {
        let o = i[r];
        if (o.children && o[n(472)][n(539)] > 0) {
          let a = Xt.flatten(o.children, e, t);
          s = s.concat(a);
        }
      }
      return s;
    }
    for (let i = 0; i < x.length; i++) {
      let r = x[i];
      if ((e == null || e(r) == !![]) && (s.push(r), r.children && r.children[n(539)] > 0)) {
        let o = Xt[n(528)](r.children, e);
        s = s.concat(o);
      }
    }
    return s;
  }
  static getNoChildrensObjects(x) {
    let e = Xt.flatten(x);
    return e = Xt.flatten(x, (t) => z[Kt(575)](e, t.parent)), e;
  }
  static _anyMatrixOrStyleDirty(x) {
    const e = u;
    if (x.matrixDirty)
      return !![];
    let t = x[e(472)];
    for (let n = 0; n < t.length; n++) {
      let s = t[n];
      if (s[e(492)] || x.style.dirty)
        return !![];
      if (Xt._anyMatrixOrStyleDirty(s))
        return !![];
    }
    return ![];
  }
  [u(524)](x) {
    const e = u;
    let t = $i(this, this.serializers, this.allwaysSerializers);
    if (x != null) {
      let n = x.objIndexMap, s = x.styleIndexMap;
      if (x.shapeIndexMap, x.resourcesIndexMap, n) {
        let i = s.get(this[e(499)]);
        t.style = i;
      }
      if (n && this[e(569)] != null) {
        let i = n.get(this[e(569)]);
        i != null && (t.parent = i);
      }
    }
    return t[e(478)] != null && (Object[e(525)](t.data).length == 0 ? delete t[e(478)] : t.data = JSON.parse(JSON[e(532)](t.data))), t;
  }
  _afterFromJSON(x, e, t, n) {
    const s = u, i = this;
    if (mo(x, i), x.style != null) {
      let r = t[x.style];
      i[s(499)] = r;
    }
    if (x.image != null) {
      let r = e[x.image];
      if (r) {
        let o = r[s(502)];
        i.imageSrc = o;
      }
    }
    if (x.shape != null) {
      let r = n[x.shape];
      i[s(506)](r);
    }
  }
  set zIndex(x) {
    this._zIndex = x, this.setZIndex(x);
  }
  get [u(476)]() {
    return this[u(535)];
  }
  get x() {
    return this._x;
  }
  set x(x) {
    const e = u;
    this._x !== x && (this[e(492)] = !![]), this._x = x;
  }
  get y() {
    return this._y;
  }
  set y(x) {
    this._y !== x && (this.matrixDirty = !![]), this._y = x;
  }
  get [u(584)]() {
    return this._width;
  }
  set [u(584)](x) {
    this.width !== x && (this.matrixDirty = !![]), this._width = x;
  }
  get height() {
    return this[u(570)];
  }
  set height(x) {
    const e = u;
    this[e(570)] !== x && (this[e(492)] = !![]), this[e(570)] = x;
  }
  get [u(592)]() {
    return this._rotation;
  }
  set [u(592)](x) {
    const e = u;
    this[e(479)] !== x && (this[e(492)] = !![]), this._rotation = x;
  }
  get scaleX() {
    return this[u(585)];
  }
  set scaleX(x) {
    this._scaleX !== x && (this.matrixDirty = !![]), this._scaleX = x;
  }
  get [u(515)]() {
    return this._scaleY;
  }
  set scaleY(x) {
    const e = u;
    this[e(552)] !== x && (this.matrixDirty = !![]), this[e(552)] = x;
  }
  get [u(555)]() {
    return this._skewX;
  }
  set [u(555)](x) {
    this[u(487)] !== x && (this.matrixDirty = !![]), this._skewX = x;
  }
  get skewY() {
    return this._skewY;
  }
  set skewY(x) {
    this._skewY !== x && (this.matrixDirty = !![]), this._skewY = x;
  }
  get left() {
    return this.x - this.width * 0.5;
  }
  set left(x) {
    this.x = x + this.width * 0.5;
  }
  get right() {
    return this.x + this.width * 0.5;
  }
  set right(x) {
    const e = u;
    this.x = x - this[e(584)] * 0.5;
  }
  get top() {
    return this.y - this.height * 0.5;
  }
  set top(x) {
    const e = u;
    this.y = x + this[e(514)] * 0.5;
  }
  get bottom() {
    const x = u;
    return this.y + this[x(514)] * 0.5;
  }
  set bottom(x) {
    this.y = x - this.height * 0.5;
  }
};
function Kt(x, e) {
  const t = xx();
  return Kt = function(n, s) {
    return n = n - 470, t[n];
  }, Kt(x, e);
}
let C = Xt;
B([d("DisplayObject")], C[u(489)], "className", 2), B([d(0)], C.prototype, "_x", 2), B([d(0)], C.prototype, "_y", 2), B([d(1)], C[u(489)], "_width", 2), B([d(1)], C.prototype, "_height", 2), B([d(0)], C.prototype, u(479), 2), B([d(1)], C.prototype, u(585), 2), B([d(1)], C.prototype, u(552), 2), B([d(0)], C.prototype, "_skewX", 2), B([d(0)], C.prototype, u(586), 2), B([d(u(512))], C[u(489)], "pickType", 2), B([d(!![])], C.prototype, u(574), 2), B([d(null)], C.prototype, "paintSelected", 2), B([d(![])], C[u(489)], "painted", 2), B([d(![])], C.prototype, u(581), 2), B([d(![])], C.prototype, u(500), 2), B([d(!![])], C[u(489)], u(520), 2), B([d(5)], C[u(489)], u(567), 2), B([d(![])], C.prototype, "destroyed", 2), B([d(["id", "name", "type", "zIndex", "frozen", u(529), "selectedStyle", u(578), "connectable", u(546), u(580), u(549), u(601), "classList", u(583), "data"])], C.prototype, u(550), 2), B([d([u(566)])], C.prototype, "allwaysSerializers", 2), B([d(0)], C.prototype, u(535), 2), B([d(![])], C[u(489)], "frozen", 2), B([d(0)], C.prototype, "deep", 2), B([d(!![])], C.prototype, u(599), 2), B([d(!![])], C.prototype, u(546), 2), B([d(!![])], C.prototype, u(534), 2), B([d(!![])], C.prototype, "connectable", 2), B([d(!![])], C.prototype, "mouseEnabled", 2), B([d(!![])], C[u(489)], "draggable", 2), B([d(![])], C[u(489)], "isSelected", 2), B([d(!![])], C.prototype, "editable", 2), B([d(![])], C[u(489)], "dropAllowed", 2);
function mo(x, e) {
  const t = u;
  let n = e[t(550)], s = Object[t(481)](e);
  return n.forEach((i) => {
    const r = t;
    if (x.hasOwnProperty(i)) {
      let o = Object.getOwnPropertyDescriptor(e, i);
      if (o == null && (o = Object[r(494)](s, i)), o != null && o.writable == ![])
        return;
      let a = x[i];
      a != null && a[r(566)] != null && (a = an(a[r(566)], a)), e[i] = a;
    } else
      s[r(531)](i) && (e[i] = s[i]);
  }), e.id == null && (e.id = yt[t(548)]()), e;
}
function Io(x, e) {
  const t = u;
  if (e.parent != null)
    throw console[t(602)](e), new Error("被添加的子节点已经存在父节点了");
  if (x === e)
    throw console.log(x), new Error(t(542));
  if (z[t(604)](x.getAncestors(), e) && (console.log("互为子节点了"), console.log(x, e)), x.parent === e && (console.log("互为子节点了2"), console.log(x, e)), e[t(569)] = x, e.deep = x[t(496)] + 1, x.children.indexOf(e) != -1)
    throw console.log(x, e), new Error("重复添加");
  return x[t(472)].push(e), e.children.length > 0 && e[t(477)](!![]), x.updatezIndex(), x;
}
function sx() {
  var x = ["styleX", "visible", "bottom", "1057939dEOwdm", "2ahDVbz", "11444BJpZBb", "1842OamZvU", "27702389UNrsJu", "8336298NmRIFR", "207tWAvlp", "24hNUULs", "7AxVhOP", "7302559yarEbg", "right", "8773795sCUzzR", "10zvBMhr", "226880gMTmwH"];
  return sx = function() {
    return x;
  }, sx();
}
(function(x, e) {
  for (var t = F0, n = x(); []; )
    try {
      var s = parseInt(t(480)) / 1 * (-parseInt(t(481)) / 2) + parseInt(t(483)) / 3 * (parseInt(t(482)) / 4) + parseInt(t(474)) / 5 + -parseInt(t(485)) / 6 * (-parseInt(t(471)) / 7) + -parseInt(t(476)) / 8 * (-parseInt(t(469)) / 9) + parseInt(t(475)) / 10 * (parseInt(t(472)) / 11) + parseInt(t(470)) / 12 * (-parseInt(t(484)) / 13);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(sx, 897100);
function F0(x, e) {
  var t = sx();
  return F0 = function(n, s) {
    n = n - 469;
    var i = t[n];
    return i;
  }, F0(x, e);
}
class wo {
  constructor() {
    var e = F0;
    this[e(478)] = ![], this.lineDashScale = 1, this[e(477)] = new ct({ strokeStyle: "rgba(255,0,0,0.3)", fillStyle: "rgba(255,0,0,0.9)", textAlign: e(473), textBaseline: "top", lineWidth: 1 }), this.styleY = new ct({ strokeStyle: "rgba(0,255,0, 0.4)", fillStyle: "rgba(0,255,0, 0.9)", textBaseline: e(479), lineWidth: 1 });
  }
  show() {
    var e = F0;
    this[e(478)] = !![];
  }
  hide() {
    this.visible = ![];
  }
}
const Ys = ix;
(function(x, e) {
  const t = ix, n = x();
  for (; []; )
    try {
      if (parseInt(t(421)) / 1 * (parseInt(t(422)) / 2) + parseInt(t(416)) / 3 * (parseInt(t(427)) / 4) + -parseInt(t(425)) / 5 + parseInt(t(420)) / 6 + parseInt(t(423)) / 7 * (parseInt(t(424)) / 8) + parseInt(t(428)) / 9 + -parseInt(t(426)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(rx, 831338);
function ix(x, e) {
  const t = rx();
  return ix = function(n, s) {
    return n = n - 416, t[n];
  }, ix(x, e);
}
let ue = { isDebug: localStorage[Ys(418)]("_jtopo_debug_mode") == Ys(419), showFPS: ![], paintAABB: ![], debugInfo: null, debugMode: function() {
  const x = Ys;
  let e = localStorage.getItem(x(417)) == "true", t = !e;
  localStorage.setItem("_jtopo_debug_mode", "" + t), ue.isDebug = t;
} };
function rx() {
  const x = ["9128304JfEgqo", "5118460NnwaiA", "33682830qRFpwU", "63208dcyXTt", "14056749ykojgp", "84HNtPzA", "_jtopo_debug_mode", "getItem", "true", "4354122EFjufo", "450757RfZEcL", "6sBFtQC", "7xfNsam"];
  return rx = function() {
    return x;
  }, rx();
}
function ox() {
  var x = ["7cTkvSp", "1756863LkdDKf", "546QDpCOA", "32571HZpPJg", "2422dyMHIR", "323928zZoaaK", "24758228pOlZkr", "850528LiwkVH", "130mWBriR", "120FuBLFq", "147816HbzTyb"];
  return ox = function() {
    return x;
  }, ox();
}
(function(x, e) {
  for (var t = si, n = x(); []; )
    try {
      var s = -parseInt(t(143)) / 1 * (parseInt(t(145)) / 2) + -parseInt(t(142)) / 3 + parseInt(t(146)) / 4 + parseInt(t(150)) / 5 * (-parseInt(t(140)) / 6) + parseInt(t(141)) / 7 * (-parseInt(t(148)) / 8) + -parseInt(t(144)) / 9 * (parseInt(t(149)) / 10) + parseInt(t(147)) / 11;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ox, 340276);
function si(x, e) {
  var t = ox();
  return si = function(n, s) {
    n = n - 140;
    var i = t[n];
    return i;
  }, si(x, e);
}
class Ns {
  constructor(e) {
    this.length = 0, this.x = e.x, this.y = e.y;
  }
}
(function(x, e) {
  const t = lt, n = x();
  for (; []; )
    try {
      if (parseInt(t(427)) / 1 + -parseInt(t(436)) / 2 * (parseInt(t(435)) / 3) + -parseInt(t(451)) / 4 * (-parseInt(t(439)) / 5) + -parseInt(t(454)) / 6 * (parseInt(t(446)) / 7) + -parseInt(t(437)) / 8 + parseInt(t(443)) / 9 + -parseInt(t(444)) / 10 * (-parseInt(t(447)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ax, 495558);
function ax() {
  const x = ["lenght of points less than 2", "2112uOojsI", "toFixed", "423738ZGUFvw", "rate", "segIndex", "multiplyC", "distancePoint", "projectionLen", "points", "length", "1010943UubJGk", "4tnkdTi", "6404216iYghsI", "normalize", "4416820uTVOBE", "begin", "segLen", "abs", "2138553SlwJSY", "12640iKIEDy", "distance", "12229JUXLAK", "9053XrnQZp", "dist", "push", "createPointsBidirectional", "4FODcAG", "positionToLocalPoint"];
  return ax = function() {
    return x;
  }, ax();
}
function lt(x, e) {
  const t = ax();
  return lt = function(n, s) {
    return n = n - 426, t[n];
  }, lt(x, e);
}
function vo(x, e, t, n) {
  const s = lt, i = x.x, r = e.x, o = x.y, a = e.y, c = [r - i, a - o];
  M.normalize(c, c);
  const l = [-c[1] * n, c[0] * n], h = T[s(450)](x, l, t), f = T.createPointsBidirectional(e, l, t);
  return [h, f];
}
function ko(x, e, t) {
  const n = x.x, s = e.x, i = x.y, r = e.y, o = [s - n, r - i];
  M.normalize(o, o);
  const a = [-o[1] * t, o[0] * t], c = T.createPointsBidirectional(x, a, 1), l = T.createPointsBidirectional(e, a, 1);
  return [c[0], l[0]];
}
function Po(x, e, t) {
  const n = lt, s = [x.x - e.x, x.y - e.y], i = [t.x - e.x, t.y - e.y], r = M[n(438)]([], i), o = M.dot(s, r), a = M[n(430)]([], r, o);
  return a.projectionLen = o, a;
}
function So(x, e, t) {
  const n = lt, s = Po(x, e, t), i = [t.x - e.x, t.y - e.y], r = M.len(i), o = s.projectionLen / r, a = new Ns();
  return a.x = e.x + s[0], a.y = e.y + s[1], a.segLen = r, a[n(432)] = s[n(432)], a[n(428)] = o, a;
}
function Oo(x, e, t) {
  const n = lt, s = [x.x - e.x, x.y - e.y], i = [t.x - e.x, t.y - e.y], r = M[n(438)]([], i), o = M.len(i);
  let a;
  const c = M.dot(s, r);
  if (c > o)
    a = t;
  else if (c < 0)
    a = e;
  else {
    let h = M.multiplyC([], r, c);
    a = { x: e.x + h[0], y: e.y + h[1] };
  }
  let l = new Ns(a);
  return l[n(441)] = o, l.projectionLen = c, l[n(428)] = c / o, l;
}
function _i(x, e) {
  const t = lt;
  if (e[t(434)] < 2)
    throw new Error("number of points is less than 2");
  let n = new Ns(e[0]), s = Number.MAX_SAFE_INTEGER;
  for (let i = 0; i < e.length - 1; i++) {
    const r = e[i], o = e[i + 1], a = Oo(x, r, o), c = T[t(431)](a, x);
    c < s && (n = a, n.seg = [r, o], n[t(448)] = c, n.segIndex = i, s = c);
  }
  return n;
}
function cx(x, e, t, n, s = ![]) {
  const i = [e.x - x.x, e.y - x.y], r = [n.x - t.x, n.y - t.y], o = M.normalize([], [-i[1], i[0]]), a = M.normalize([], [-r[1], r[0]]), c = o[0], l = o[1], h = a[0], f = a[1], g = c * f - h * l;
  if (g == 0)
    return null;
  const b = M.dot(o, [x.x, x.y]), p = M.dot(a, [t.x, t.y]), m = { x: (f * b - l * p) / g, y: (c * p - h * b) / g };
  return s == ![] && (!Ai(m, x, e) || !Ai(m, t, n)) ? null : m;
}
function mr(x, e, t, n = ![]) {
  const s = lt;
  if (t[s(434)] < 2)
    throw new Error(s(453));
  let i = [];
  for (var r = 0; r < t[s(434)] - 1; r++) {
    const o = t[r], a = t[r + 1];
    let c = cx(x, e, o, a, n);
    c != null && i.push(c);
  }
  return i = Lo(i), i;
}
function Ai(x, e, t) {
  let n = [t.x - e.x, t.y - e.y], s = M.len(n), i = { x: (e.x + t.x) / 2, y: (e.y + t.y) / 2 }, r = [x.x - i.x, x.y - i.y];
  return M.len(r) <= s * 0.5 + 1e-8;
}
function Lo(x) {
  const e = lt;
  let t = {}, n = [];
  for (var s = 0; s < x.length; s++) {
    let i = x[s], r = i.x[e(426)](6) + "-" + i.y.toFixed(6);
    t[r] == null && (n[e(449)](i), t[r] = i);
  }
  return n;
}
function Co(x, e, t, n) {
  const s = lt;
  let i = Number.MAX_SAFE_INTEGER, r = null, o = x.getTransform();
  for (var a = 0; a < t[s(434)]; a++) {
    const c = t[a], l = o.points(c._obb[s(433)]);
    c.isNode && l.push(l[0]);
    let h = _i(e, l);
    h[s(448)] < i && h[s(448)] < n && (i = h[s(448)], h.object = c, r = h);
  }
  return r;
}
function Eo(x, e, t) {
  const n = lt;
  let s = [];
  for (let i = 0; i < e[n(434)]; i++) {
    const r = e[i], o = r.getStageTransform();
    let a = r.getAnchorPoints();
    a == null && console.log(r);
    for (let c = 0; c < a.length; c++) {
      let l = a[c], h = r[n(452)](l), f = o.point(h), g = T.distancePoint(f, x);
      if (g < t) {
        const b = { distance: g, object: r, anchorName: l };
        s.push(b);
      }
    }
  }
  return s.sort((i, r) => i[n(445)] - r[n(445)]), s;
}
function To(x, e) {
  const t = lt;
  let n = x[t(429)], s = x.rate, i = x.object, r = s >= 0.25 && s <= 0.75, o = s - 0.5, a = Math.abs(x[t(441)] * o);
  if (i.isNode) {
    if (a > e || !r)
      return null;
    if (n == 0)
      return v.ct;
    if (n == 1)
      return v.rm;
    if (n == 2)
      return v.cb;
    if (n == 3)
      return v.lm;
    throw new Error("error segIndex:" + n);
  } else if (i.isLink) {
    let c = i.stageToLocalXY(x.x, x.y);
    return T[t(431)](c, i.getBeginPoint()) <= e ? v[t(440)] : T.distancePoint(c, i.getEndPoint()) <= e ? v.end : null;
  } else
    throw new Error("unkwnow object!");
}
function vn(x) {
  const e = lt;
  return Math[e(442)](Math[e(442)](x) % Math.PI) < 0.5;
}
function ii(x, e, t) {
  return x < e ? e : x > t ? t : x;
}
const y = X0;
(function(x, e) {
  const t = X0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(305)) / 1 * (parseInt(t(332)) / 2) + parseInt(t(333)) / 3 + parseInt(t(307)) / 4 * (-parseInt(t(404)) / 5) + -parseInt(t(392)) / 6 * (parseInt(t(382)) / 7) + -parseInt(t(304)) / 8 + parseInt(t(387)) / 9 + parseInt(t(308)) / 10 * (parseInt(t(344)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(lx, 882659);
var Ao = Object.defineProperty, Do = Object[y(381)], U = (x, e, t, n) => {
  const s = y;
  for (var i = n > 1 ? void 0 : n ? Do(e, t) : e, r = x[s(342)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && Ao(e, t, i), i;
};
function X0(x, e) {
  const t = lx();
  return X0 = function(n, s) {
    return n = n - 297, t[n];
  }, X0(x, e);
}
const Ir = class extends C {
  constructor(x, e = 0, t = 0, n = 1, s = 1) {
    const i = y;
    super(), this._drawContentDesc = { hasBorder: ![], hasBackgroundColor: ![], hasBackgroundImage: ![], hasShape: ![], hasImage: ![], onlyImage: ![], onlyText: ![], shapeSize: { width: 1, height: 1 } }, this.obbPoints = [{ x: 0, y: 0 }, { x: 0, y: 0 }, { x: 0, y: 0 }, { x: 0, y: 0 }], this._originInParent = { x: 0, y: 0 }, x != null && (this.text = x, this._textDirty = !![]), this._x = e || 0, this._y = t || 0, this[i(316)] = n || 0, this._height = s || 0;
  }
  get originAutoRotate() {
    return this[y(334)];
  }
  set originAutoRotate(x) {
    this.rotateWithParent = x;
  }
  get text() {
    return this._text;
  }
  set text(x) {
    this[y(379)](x);
  }
  get [y(412)]() {
    return this[y(357)];
  }
  set image(x) {
    this[y(365)](x);
  }
  get imageSrc() {
    return this._imageSrc;
  }
  set imageSrc(x) {
    const e = y;
    x == "canvas" && (x = null), this.setImage(x), this[e(369)] = x;
  }
  setOrigin(x, e) {
    const t = y;
    return this.origin[0] = x, this.origin[1] = e, this[t(340)] = !![], this;
  }
  setXYOnLink(x, e) {
    const t = y;
    return this.origin[0] = x, this[t(366)][1] = e, this[t(340)] = !![], this;
  }
  setShape(x) {
    const e = y;
    this.shape = x, this[e(340)] = !![];
  }
  alignOriginToLink(x, e, t, n) {
    const s = y;
    n != null && (this.originOffset = n), this.originAlignPosition = x, this.setRotateCenter(x), e != null && this.setXYOnLink(e, this[s(366)][1]), t != null && this[s(383)](this.origin[0], t), this.matrixDirty = !![];
  }
  alignOriginToNode(x, e = "center") {
    const t = y;
    let n = le[e];
    this.setOrigin(n.x, n.y), this[t(323)] = x, this.matrixDirty = !![];
  }
  _OBBPoints() {
    const x = y;
    let e = this.width * 0.5, t = this[x(417)] * 0.5, n = -e, s = -t;
    return [{ x: n, y: s }, { x: e, y: s }, { x: e, y: t }, { x: n, y: t }];
  }
  _afterStyleComputed() {
    const x = y, e = this._computedStyle, t = this._drawContentDesc;
    t.hasBackgroundColor = e.backgroundColor != null, t.hasBorder = e[x(309)] > 0, t[x(370)] = e._backgroundImageObject != null, t.hasImage = this._image != null, t.hasShape = e.lineWidth > 0 && e.strokeStyle != null || e[x(343)] != null, t.onlyImage = (this._image || t[x(370)]) && !t.hasBorder && !t[x(310)] && !t[x(298)], t[x(360)] = this._text != null && !t.hasImage && !t[x(370)] && !t.hasBorder && !t.hasShape && !t.hasBackgroundColor;
  }
  _afterUpdateMatrix() {
    this[y(315)]();
  }
  _afterUpdate() {
    const x = y;
    (this._isMatrixDirty() || this[x(338)] || this[x(329)][x(338)]) && (this[x(339)](), this[x(338)] && (this._textDirty = ![], this[x(401)]()), this._textDirty = ![], this._computedStyle._textDirty = ![]);
  }
  [y(336)]() {
    const x = y, e = this.parent;
    if (e.isLink)
      return this[x(419)]();
    let t = this.originAlignPosition;
    if (this.origin[0] == 0 && this.origin[1] == 0 && t == null)
      return this[x(366)];
    let s = [this[x(366)][0] * e.width, this.origin[1] * e.height];
    if (t != null) {
      let i = this[x(396)](t);
      s[0] -= i.x, s[1] -= i.y;
    }
    return s;
  }
  [y(419)]() {
    const x = y, e = this.parent, t = this;
    if (this === e.beginArrow || t === e[x(335)])
      return [0, 0];
    let n = t.origin[0], s = t.origin[1], i = e[x(328)](s, n);
    if (t.originOffset) {
      let o = this._getOriginRotation();
      i = { x: i.x + t.originOffset * Math[x(403)](o), y: i.y + t[x(348)] * Math.sin(o) };
    }
    let r = t.originAlignPosition;
    if (r != null) {
      let o = t[x(396)](r);
      i.x -= o.x, i.y -= o.y;
    }
    return [i.x, i.y];
  }
  _getOriginRotation() {
    const x = y, e = this.parent;
    if (e == null || e.isLayer || e.isNode || !this.rotateWithParent)
      return 0;
    let t = e;
    if (this === t.beginArrow || this === t.endArrow)
      return 0;
    let n = this.origin[0], s = this.origin[1];
    return e[x(380)](n, s);
  }
  [y(301)](x) {
    const e = y, t = this;
    if (t[e(367)] && t[e(411)] == null)
      return;
    if (t[e(423)])
      throw new Error("link no transform");
    let n = t._calc_originInParent(), s = n[0] + t.x, i = n[1] + t.y;
    x.translate(s, i), (t.skewX != 0 || t.skewY != 0) && x.transform(1, t.skewX, t.skewY, 1, 0, 0), (t.scaleX !== 1 || t[e(402)] !== 1) && x.scale(t.scaleX, t.scaleY);
    let r = t._getOriginRotation() + t.rotation;
    if (r != 0)
      if (t.rotateCenter == "center")
        x.rotate(r);
      else {
        let o = t.positionToLocalPoint(t[e(378)]);
        x.translate(o.x, o.y), x.rotate(r), x[e(372)](-o.x, -o.y);
      }
  }
  _updateShapeSize() {
    const x = y, e = this._computedStyle;
    let t = e.borderWidth || 0, n = e.lineWidth || 0, s = e[x(356)] || 0;
    const i = this[x(400)] - t * 2 - n - s * 2, r = this[x(417)] - t * 2 - n - s * 2;
    this._drawContentDesc[x(319)].width = i, this._drawContentDesc.shapeSize.height = r;
  }
  [y(345)]() {
    const x = y, e = this[x(421)]();
    return this.shape.isClosed && e.push(e[0]), e;
  }
  getImage(x) {
    const e = this;
    return new Promise((t, n) => {
      const s = X0;
      if (e._image != null) {
        x ? x(e._image) : t(e._image);
        return;
      }
      let i = it[s(375)].get(e);
      if (i == null) {
        x ? x(null) : n(null);
        return;
      }
      x == null && (x = function() {
        t(e[s(357)]);
      }), i.next = x;
    });
  }
  setImage(x, e = ![]) {
    const t = y;
    let n = this, s = x;
    return it.cancelCallback(this), s == null || s == "" ? (this._imageSrc = null, this._image = null, n.style.dirty = !![], this) : s[t(362)] == "IMG" ? (this._imageSrc = s[t(415)](t(299)), n._image = s, e == !![] && n.resizeTo(s.width, s.height), n.style.dirty = !![], this) : s.tagName == "CANVAS" ? (this._imageSrc = "canvas", this._image = s, e == !![] && this.resizeTo(s.width, s[t(417)]), n.style.dirty = !![], this) : (it.loadImageWithObj(this, s, function(i) {
      const r = t;
      i != null && (n[r(357)] = i, n[r(369)] = i.getAttribute("src"), e == !![] && n[r(414)](i[r(400)], i.height), n.style[r(422)] = !![]);
    }), this);
  }
  setText(x) {
    const e = y;
    if (x != this._text && (this._textDirty = !![], this.matrixDirty = !![]), x == null) {
      this._text = x, this[e(318)] = null;
      return;
    }
    if (typeof x == e(390) && (x = "" + x), x.indexOf(`
`) != -1) {
      let t = x.split(`
`);
      this._textArr = t;
    } else
      this[e(318)] = null;
    this._text = x;
  }
  _calcTextSize() {
    const x = y;
    let e = this[x(318)] == null ? 1 : this._textArr.length, t;
    e == 1 ? t = ct.measureText(this._text, this[x(329)], e) : t = ct[x(388)](this[x(318)], this._computedStyle, e), this._textWidth = t.width, this[x(297)] = t.height, this._textLineHeight = t.lineHeight;
  }
  attr(x) {
    throw new Error("准备删除的方法");
  }
  resizeToFitImage() {
    const x = y;
    this._image != null && this._image[x(400)] != null && this.resizeTo(this._image.width, this._image[x(417)]);
  }
  [y(408)](x) {
    const e = y;
    if (this[e(405)][e(300)]) {
      let t = this._drawContentDesc.shapeSize;
      x.scale(t.width, t[e(417)]), this.shape.draw(x, this), x.scale(1 / t.width, 1 / t.height);
    } else
      this[e(405)].draw(x, this);
  }
  _drawBackgroundOrBorder(x) {
    const e = y, t = this[e(329)], n = this[e(358)];
    let s = t.borderWidth || 0, i = -this.width * 0.5 + s * 0.5, r = -this[e(417)] * 0.5 + s * 0.5, o = this[e(400)] - s, a = this.height - s, c = t.borderRadius || 0;
    x.beginPath(), c == 0 ? x.rect(i, r, o, a) : x.roundRect(i, r, o, a, c), n.hasBackgroundColor && (x.fillStyle = t.backgroundColor, x.fill()), n[e(391)] && (x.lineWidth = s, x[e(346)] = t.borderColor || "black", (t.borderStyle == e(361) || t.borderStyle == e(306)) && x.setLineDash([1, 1]), x.stroke());
  }
  _drawImage(x, e, t, n, s) {
    const i = y;
    if (this[i(369)] != null && this[i(369)].toLowerCase().endsWith("svg")) {
      x[i(313)](e, -this[i(400)] * 0.5, -this.height * 0.5, this[i(400)], this[i(417)]);
      return;
    }
    const r = this._computedStyle, o = Math[i(324)](this.width, this.width - s - s), a = Math.min(this.height, this.height - s - s), c = r._getBackgroundRect(o, a, this);
    let l = -this[i(400)] * 0.5, h = -this[i(417)] * 0.5, f = l + c.x, g = h + c.y;
    const b = Math.min(o, c.width), p = Math.min(a, c.height);
    let m = e[i(400)], _ = e[i(417)];
    {
      x.imageSmoothingEnabled = r.imageSmoothingEnabled == null ? !![] : r[i(386)], x.drawImage(e, 0, 0, m, _, f, g, b, p);
      return;
    }
  }
  _strokeAndFill(x) {
    const e = y;
    let t = this[e(329)], n = this._drawContentDesc;
    x[e(311)](), (n.hasBorder || n.hasBackgroundColor) && (this[e(384)](x), this[e(317)](x)), n.hasShape && (x.beginPath(), this[e(408)](x), t.fillStyle != null && (x.fillStyle = t[e(343)], x.fill()), t.lineWidth > 0 && t[e(346)] != null && (x[e(314)] = t.lineWidth, x.strokeStyle = t.strokeStyle, x.stroke()), this.isPointOn == ![] && this.pickType == e(405) && (this.shape.isClosed ? this.mousePickupPath(x) : this.mousePickupStroke(x, this[e(374)])));
    const s = this._image;
    if (s) {
      n[e(310)] && x[e(371)]();
      let i = t.borderWidth || 0;
      this[e(302)](x, s, n[e(391)], n[e(298)], i);
    }
    x[e(341)]();
  }
  [y(320)](x) {
    const e = y;
    if (this.width <= 0 || this[e(417)] <= 0)
      return;
    let t = this._drawContentDesc;
    if (this[e(416)](x), t.onlyImage || t.onlyText || t[e(310)] && this[e(394)] == ![] && this.pickType == e(331)) {
      let n = -this[e(400)] * 0.5, s = -this[e(417)] * 0.5;
      x.save(), x.beginPath(), x.rect(n, s, this.width, this.height), x.closePath(), this.mousePickupPath(x), x.restore();
    }
    this[e(377)](x);
  }
  _updateText() {
    const x = y;
    this[x(398)](), this[x(354)]();
  }
  [y(354)](x = 0, e = 0) {
    const t = y;
    let n = this._computedStyle, s = null;
    n.textPosition != null ? s = this.positionToLocalPoint(n[t(407)]) : s = { x: 0, y: this.height * 0.5 };
    let i = 0, r = -(this._textHeight - this._textLineHeight) * 0.5;
    return n.textAlign == t(385) ? i = x + e : n.textAlign == "right" && (i = -(x + e)), n.textBaseline == "top" ? r = x + e : n[t(376)] == "bottom" && (r = -(x + e) - this[t(297)] + this[t(389)]), s.x += i, s.y += r, n[t(413)] != null && (s.x += n.textOffsetX), n.textOffsetY != null && (s.y += n.textOffsetY), this._textPosition = s, s;
  }
  _paintText(x) {
    const e = y;
    let t = this._text;
    if (t == null)
      return null;
    let n = this._computedStyle, s = this._textPosition || { x: 0, y: 0 }, i = this[e(318)];
    if (x[e(343)] = n.color || e(418), this[e(330)] == 0)
      if (i == null)
        x[e(409)](t, s.x, s.y);
      else {
        let o = this[e(389)];
        for (var r = 0; r < i.length; r++)
          x.fillText(i[r], s.x, s.y + r * o);
      }
    else {
      if (x.translate(s.x, s.y), x.rotate(this.textRotation), i == null)
        x.fillText(t, 0, 0);
      else {
        let o = this[e(389)];
        for (var r = 0; r < i[e(342)]; r++)
          x.fillText(i[r], 0, 0 + r * o);
      }
      x.rotate(-this.text), x[e(372)](-s.x, -s.y);
    }
    return s;
  }
  [y(321)](x) {
    const e = y;
    let t = [], n = this.outLinks;
    for (var s = 0; s < n.length; s++) {
      let i = n[s], r = i.end.target;
      !z.hasChild(t, r) && t[e(406)](r), x && r instanceof Ir && r.outLinks.length > 0 && z[e(373)](t, r[e(321)](x));
    }
    return t;
  }
  [y(322)](x, e) {
    const t = this.getSegmentPoints(), n = mr({ x, y: e }, { x: 0, y: 0 }, t);
    return n == null || n.length == 0 ? { x, y: e } : n[0];
  }
  setRotateCenter(x) {
    const e = y;
    return this[e(378)] = x, this;
  }
  translateWith(x, e) {
    const t = y;
    return this.x += x, this.y += e, this.inLinks.forEach((n) => n.updateMatrix()), this.outLinks[t(325)]((n) => n[t(401)]()), this;
  }
  [y(349)](x, e) {
    return this.x = x, this.y = e, this;
  }
  [y(372)](x, e) {
    return this.x = x, this.y = e, this;
  }
  setXY(x, e) {
    return this.x = x, this.y = e, this;
  }
  translatePositionTo(x, e, t) {
    let n = this.positionToLocalPoint(x), s = e - this.x - n.x, i = t - this.y - n.y;
    this.translateWith(s, i);
  }
  resizeTo(x, e) {
    const t = y;
    return this.width = x, this[t(417)] = e, this;
  }
  resize(x, e) {
    const t = y;
    return this[t(400)] = x, this.height = e, this;
  }
  [y(397)](x, e) {
    const t = y;
    return this[t(353)] = x, this.skewY = e, this;
  }
  [y(393)](x, e) {
    const t = y;
    return this[t(400)] += x, this[t(417)] += e, this[t(400)] < 0 && (this.width = 0), this.height < 0 && (this.height = 0), this;
  }
  scaleBy(x, e) {
    return this.scaleX *= x, this.scaleY *= e, this;
  }
  zoom(x, e, t, n) {
    return this[y(400)] * this.scaleX, this.height * this.scaleY, this.scaleBy(x, e), this;
  }
  zoomOut() {
    return this[y(351)](0.8, 0.8), this;
  }
  [y(410)]() {
    return this.zoom(1.25, 1.25), this;
  }
  [y(303)](x, e) {
    const t = y;
    return this.scaleX = x, this[t(402)] = e, this;
  }
  [y(347)](x, e) {
    return this.scaleX = x, this.scaleY = e, this;
  }
  [y(424)](x) {
    const e = y;
    return this[e(364)] = x, this;
  }
  [y(337)](x) {
    return this.rotation = x, this;
  }
  rotateWith(x) {
    return this.rotation += x, this;
  }
  getRect() {
    return new j(this.x - this.width * 0.5, this.y - this.height * 0.5, this.width, this.height);
  }
  [y(328)](x, e) {
    const t = y;
    let n = this[t(355)](x, e);
    return { x: -this[t(400)] * 0.5 + n.x, y: -this.height + n.y };
  }
  changeParent(x) {
    const e = y;
    if (this.parent === x)
      throw new Error(e(327));
    let t = this, n = t[e(326)](0, 0), s = x.stageToLocalXY(n.x, n.y);
    return t[e(411)] && t.parent.removeChild(t), t.setXY(s.x, s.y), x.addChild(t), this;
  }
  [y(359)](x) {
    const e = y;
    let t = le[x];
    return this.origin[0] = t.x, this[e(366)][1] = t.y, this;
  }
  [y(396)](x, e, t) {
    let n = this.positions[x];
    if (n == null && (n = le[x]), n == null)
      throw Error("position not exist:" + x);
    return typeof n == "function" ? n.call(this, e, t) : { x: n.x * this.width, y: n.y * this.height };
  }
  getPositionNormal(x) {
    const e = y;
    let t = this.positionToLocalPoint(v[e(312)]), n = this.positionToLocalPoint(x);
    return j.normal(t, n);
  }
  toJSON(x) {
    let e = super.toJSON(x);
    if (x != null) {
      let t = x.shapeIndexMap, n = x.resourcesIndexMap, s = n[this.imageSrc];
      if (s != null && (e.image = s), this.isNode) {
        let i = t.get(this.shape);
        e.shape = i;
      }
    }
    return e;
  }
  destory() {
    const x = y;
    super.destory(), this.shape = void 0, this[x(420)] = void 0, this._textArr = void 0, this._image = void 0, this._shapePoints = void 0;
  }
};
let D = Ir;
U([d("Node")], D.prototype, "className", 2), U([d(A.Rect)], D.prototype, "shape", 2), U([d(null)], D[y(368)], "originAlignPosition", 2), U([d(!![])], D.prototype, "rotateWithParent", 2), U([d("center")], D.prototype, "rotateCenter", 2), U([d(0)], D.prototype, "originOffset", 2), U([d(null)], D[y(368)], "_text", 2), U([d(null)], D.prototype, y(318), 2), U([d(![])], D.prototype, y(338), 2), U([d(0)], D[y(368)], "_textWidth", 2), U([d(0)], D.prototype, "_textHeight", 2), U([d(0)], D.prototype, "_textLineHeight", 2), U([d(!![])], D.prototype, y(367), 2), U([d(rn[y(352)])], D[y(368)], y(363), 2), U([d(0)], D.prototype, y(330), 2), U([d(["className", y(367)])], D[y(368)], "allwaysSerializers", 2), U([d(C[y(368)].serializers[y(395)](["text", "x", "y", "width", "height", "shape", "scaleX", "scaleY", "rotation", y(348), y(413), "textOffsetY", "textRotation", "originAlignPosition", "rotateCenter", "rotateWithParent", "originAutoRotate"]))], D[y(368)], "serializers", 2), U([d(function() {
  return this.shape.ctrlPoints;
})], D.prototype, y(350), 2), U([d(function() {
  return this.shape.anchorPoints;
})], D.prototype, "getAnchorPoints", 2), U([d("shape")], D.prototype, "pickType", 2);
function lx() {
  const x = ["getCtrlPoints", "zoom", "Node", "skewX", "_calcTextPosition", "getLocalPoint", "padding", "_image", "_drawContentDesc", "setOriginToPosition", "onlyText", "dashed", "tagName", "_zIndex", "rotation", "setImage", "origin", "isNode", "prototype", "_imageSrc", "hasBackgroundImage", "clip", "translate", "addAll", "_pickRadius", "objCache", "textBaseline", "_paintText", "rotateCenter", "setText", "getK", "getOwnPropertyDescriptor", "2485XcotGW", "setXYOnLink", "_drawBackgroundOrBorder", "left", "imageSmoothingEnabled", "14423076kFDILx", "measureText", "_textLineHeight", "number", "hasBorder", "29004TagybR", "resizeWith", "isPointOn", "concat", "positionToLocalPoint", "skew", "_calcTextSize", "fillRect", "width", "updateMatrix", "scaleY", "cos", "170faTmba", "shape", "push", "textPosition", "drawShape", "fillText", "zoomIn", "parent", "image", "textOffsetX", "resizeTo", "getAttribute", "_strokeAndFill", "height", "black", "_calcOriginInParentLink", "_text", "_OBBPoints", "dirty", "isLink", "rotateTo", "_textHeight", "hasBackgroundColor", "src", "isUnit", "_doTransform", "_drawImage", "scaleTo", "5958896zNlRuw", "1rFqkqh", "dotted", "155656xkkJnT", "165330aefRGl", "borderWidth", "hasShape", "save", "center", "drawImage", "lineWidth", "_updateShapeSize", "_width", "mousePickupPath", "_textArr", "shapeSize", "draw", "getLinkChildren", "nearest", "originAlignPosition", "min", "forEach", "toStageXY", "same parent, dont need change", "getPoint", "_computedStyle", "textRotation", "rect", "195150vnBYOv", "3285159rWwoAg", "rotateWithParent", "endArrow", "_calc_originInParent", "rotate", "_textDirty", "_updateText", "matrixDirty", "restore", "length", "fillStyle", "1375DjdoCJ", "getSegmentPoints", "strokeStyle", "scale", "originOffset", "translateTo"];
  return lx = function() {
    return x;
  }, lx();
}
const nt = re;
(function(x, e) {
  const t = re, n = x();
  for (; []; )
    try {
      if (parseInt(t(285)) / 1 + parseInt(t(276)) / 2 + -parseInt(t(284)) / 3 + parseInt(t(292)) / 4 * (parseInt(t(298)) / 5) + parseInt(t(294)) / 6 + -parseInt(t(286)) / 7 + parseInt(t(287)) / 8 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(hx, 951100);
function hx() {
  const x = ["segIndex", "isNode", "ShapeNode", "target is null", "get", "EndpointFixedPoint", "target", "1940769tNCLcj", "916246NcXoOr", "12496113hHFhYP", "11314152Worrbk", "atan2", "className", "assign", "getVec", "4cXLwLK", "EndpointFunction", "4216566OyGAcG", "nearest", "prototype", "function", "567795vlZIoS", "472694DgZkXr"];
  return hx = function() {
    return x;
  }, hx();
}
var Mo = Object.defineProperty, Bo = Object.getOwnPropertyDescriptor, l0 = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Bo(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Mo(e, t, s), s;
};
function re(x, e) {
  const t = hx();
  return re = function(n, s) {
    return n = n - 276, t[n];
  }, re(x, e);
}
class Wt {
  isDisplayObjectTarget() {
    return this[re(283)] instanceof C;
  }
  isNodeTarget() {
    const e = re;
    return this instanceof De || this instanceof cn || this instanceof Me ? this[e(283)].isNode : ![];
  }
  hasTarget() {
    return this.target != null;
  }
  toJSON(e) {
    const t = re;
    let n = this.className, s = Object.assign({ className: n }, this);
    if (this.target == null)
      delete s.target;
    else if (e != null && this.isDisplayObjectTarget()) {
      let i = e[t(281)](this.target);
      s[t(283)] = i;
    }
    return s;
  }
  static fromJSON(e, t) {
    const n = re;
    let s = an(e.className, e);
    if (t != null && typeof e.target == "number") {
      let i = t[e[n(283)]];
      s.target = i;
    }
    return s;
  }
}
l0([d("Endpoint")], Wt[nt(296)], "className", 2);
class cn extends Wt {
  constructor(e, t, n = 0) {
    const s = nt;
    super(), this.target = e, this.t = t, this[s(277)] = n;
  }
}
l0([d("EndpointSegment")], cn.prototype, "className", 2);
class De extends Wt {
  constructor(e, t) {
    super(), this.target = e, this.name = t;
  }
  getAngle() {
    return Ki(this.name) + Math.PI;
  }
  [nt(291)]() {
    const e = nt;
    return this.target[e(278)] ? Zi(this.name) : [0, 0];
  }
}
l0([d("EndpointFixedName")], De.prototype, nt(289), 2), De[nt(296)].className = "EndpointFixedName";
class Me extends Wt {
  constructor(e) {
    const t = nt;
    super(), this[t(283)] = e;
  }
  getAngle(e) {
    const t = nt;
    let n = 0;
    if (this.target.isNode) {
      let s = this.target;
      n = Math[t(288)](e.y - s.y, e.x - s.x);
    }
    return n;
  }
}
l0([d("EndpointNearest")], Me.prototype, nt(289), 2), Me.prototype[nt(289)] = "EndpointNearest";
class Jt extends Wt {
  constructor(e, t, n) {
    super(), this.x = e, this.y = t, this.target = n;
  }
}
l0([d(nt(282))], Jt.prototype, "className", 2);
class Rs extends Wt {
  constructor(e) {
    super(), this.fn = e;
  }
  toJSON() {
    const e = nt;
    let t = this.className, n = this.fn();
    return Object[e(290)]({ className: t, x: n.x, y: n.y }, this);
  }
}
l0([d(nt(293))], Rs.prototype, nt(289), 2);
function Ut(x, e) {
  const t = nt;
  if (x == null)
    throw new Error(t(280));
  if (x instanceof Wt)
    return x;
  if (e instanceof Wt)
    return e;
  if (x instanceof C)
    return e == v[t(295)] ? new Me(x) : new De(x, e || v.center);
  if (T.isLikePoint(x)) {
    let n = x;
    return new Jt(n.x, n.y);
  } else {
    if (typeof x == "function")
      return new Rs(x);
    throw console.log(x, e), new Error("error arguments");
  }
}
const jo = { lm: [-1, 0], ct: [0, -1], rm: [1, 0], cb: [0, 1] };
function ri(x) {
  const e = nt;
  if (x == null)
    return;
  let t = x.target;
  if (typeof t != e(297)) {
    if (x instanceof De)
      return t[e(289)] == e(279) ? t.getPositionNormal(x.name) : jo[x.name];
    if (x instanceof cn) {
      let n = x.segIndex, s = x.t;
      if (t.className == "ShapeNode") {
        let i = t.positionToLocalPoint(v.center), r = t.getLocalPoint(s, n);
        return j.normal(i, r);
      } else if (t instanceof Node) {
        if (n == 0)
          return [0, -1];
        if (n == 1)
          return [1, 0];
        if (n == 2)
          return [0, 1];
        if (n == 3)
          return [-1, 0];
        throw new Error("unkow segIndex:" + n);
      }
      if (t.isAutoFoldLink) {
        let i = t.points[n], r = t.points[n + 1], o = [r.x - i.x, r.y - i.y];
        return M.normalize([], o);
      }
    }
  }
}
const pe = oe;
(function(x, e) {
  const t = oe, n = x();
  for (; []; )
    try {
      if (parseInt(t(304)) / 1 * (-parseInt(t(294)) / 2) + -parseInt(t(303)) / 3 + parseInt(t(299)) / 4 * (parseInt(t(307)) / 5) + -parseInt(t(306)) / 6 * (parseInt(t(308)) / 7) + parseInt(t(309)) / 8 + parseInt(t(296)) / 9 * (-parseInt(t(300)) / 10) + parseInt(t(293)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ux, 321596);
function oe(x, e) {
  const t = ux();
  return oe = function(n, s) {
    return n = n - 293, t[n];
  }, oe(x, e);
}
function ux() {
  const x = ["225265fhlnzx", "119dPHWNU", "4890040AcOJZR", "8248713nlBuBP", "6LGVzfm", "push", "4077NrZYjS", "getEnd", "endpoints", "4ONVnDZ", "5930NEqFbf", "length", "target", "779886qwcpJF", "90367kNqPrU", "remove", "100554ROfDPF"];
  return ux = function() {
    return x;
  }, ux();
}
class zo {
  constructor() {
    this.endpoints = [];
  }
  toJSON(e, t) {
    let n = t.getPoints();
    return this.endpoints.map((i, r) => {
      const o = oe;
      let a = i.toJSON(e);
      if (a.hasOwnProperty(o(302)) && a[o(302)] == null) {
        let c = n[0];
        t instanceof ki ? c = n[r] : r > 0 && (c = n[n[o(301)] - 1]);
        let l = { className: "EndpointFixedPoint", x: c.x, y: c.y };
        return console.log("rs", r, n, l), l;
      }
      return a;
    });
  }
  set(e) {
    const t = oe, n = this.endpoints;
    n.length = 0;
    for (let s = 0; s < e[t(301)]; s++) {
      let i = Ut(e[s]);
      n.push(i);
    }
    return n;
  }
  insert(e, t) {
    const n = oe;
    let s = Ut(e);
    return t == null && (t = this.endpoints.length), t + 1 >= this.endpoints.length ? this.endpoints[n(295)](s) : this[n(298)].splice(t + 1, 0, s), s;
  }
  replace(e, t) {
    const n = oe;
    this.endpoints[t] != null && (this[n(298)][t] = Ut(e));
  }
  [pe(305)](e) {
    const t = pe;
    this.endpoints[t(301)] <= 2 || this[t(298)].splice(e, 1);
  }
  setBegin(e) {
    this.endpoints[0] = Ut(e);
  }
  setEnd(e) {
    const t = pe;
    if (this.endpoints.length < 2) {
      this.endpoints[1] = Ut(e);
      return;
    }
    let n = this.endpoints.length - 1;
    this[t(298)][n] = Ut(e);
  }
  getLength() {
    const e = pe;
    return this.endpoints[e(301)];
  }
  getBegin() {
    return this[pe(298)][0];
  }
  [pe(297)]() {
    let t = this[pe(298)].length - 1;
    return this.endpoints[t];
  }
}
const I = Y0;
(function(x, e) {
  const t = Y0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(373)) / 1 + -parseInt(t(341)) / 2 * (parseInt(t(385)) / 3) + parseInt(t(400)) / 4 * (-parseInt(t(420)) / 5) + parseInt(t(353)) / 6 + parseInt(t(355)) / 7 * (-parseInt(t(427)) / 8) + parseInt(t(361)) / 9 + parseInt(t(403)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(dx, 944689);
var No = Object.defineProperty, Ro = Object[I(362)], At = (x, e, t, n) => {
  const s = I;
  for (var i = n > 1 ? void 0 : n ? Ro(e, t) : e, r = x[s(430)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && No(e, t, i), i;
};
const kn = {};
kn[v.begin] = function() {
  return this.getPoints()[0];
}, kn[v.end] = function() {
  const x = I;
  let e = this[x(364)]();
  return e[e[x(430)] - 1];
}, kn[v.center] = function() {
  let x = this.getPoints();
  return T.middle(x[0], x[x.length - 1]);
};
class N extends C {
  constructor(e, t, n, s, i) {
    const r = I;
    if (super(), this[r(363)] = { hasBorder: ![], hasBackgroundColor: ![] }, this.text = e, this.path = new zo(), t == null) {
      const o = new Jt(0, 0);
      this.path.endpoints.push(o);
    } else
      this.setBegin(t, s);
    if (n == null) {
      const o = new Jt(0, 0);
      this[r(425)].endpoints[r(407)](o);
    } else
      this.setEnd(n, i);
  }
  get begin() {
    return this[I(425)].getBegin();
  }
  get end() {
    const e = I;
    return this.path[e(371)]();
  }
  get text() {
    const e = I;
    return this.label != null ? this.label.text : this[e(345)];
  }
  set [I(432)](e) {
    const t = I;
    this.setLabel(e), this[t(345)] = e;
  }
  setLabel(e) {
    const t = I;
    return e == null && this[t(404)] == null ? this : e instanceof D ? (wt.LinkHelper.asLabel(this, e), e[t(417)] = ![], e) : this.label != null && typeof e == "string" ? (this.label.text = e, this) : (wt.LinkHelper.createLabel(this, e), this);
  }
  attr(e) {
    throw new Error("准备删除的方法");
  }
  getLabel() {
    return this[I(404)];
  }
  [I(413)]() {
    return this[I(382)];
  }
  setBeginArrow(e) {
    const t = I;
    if (!(e instanceof D))
      throw new Error("arrow must be Node");
    let n = this;
    return n.beginArrow != null && n[t(424)](n.beginArrow), n.children.indexOf(e) == -1 && n.addChild(e), e.draggable = ![], e.connectable = ![], e.editable = ![], n[t(382)] = e, this.matrixDirty = !![], this;
  }
  getEndArrow() {
    return this.endArrow;
  }
  [I(372)](e) {
    const t = I;
    if (!(e instanceof D))
      throw new Error("arrow must be Node");
    let n = this;
    return n.endArrow != null && n.removeChild(n[t(367)]), n.children[t(343)](e) == -1 && n.addChild(e), e.draggable = ![], e.connectable = ![], e[t(429)] = ![], n[t(367)] = e, this.matrixDirty = !![], this;
  }
  _OBBPoints() {
    return this.getPoints();
  }
  [I(342)](e, t) {
    const n = I;
    this.matrixDirty = !![], this.begin && this.begin.isDisplayObjectTarget() && this.begin.target.removeOutLink(this);
    const s = Ut(e, t);
    this.path[n(342)](s), s[n(433)] instanceof C && s.target.addOutLink(this);
  }
  [I(399)](e, t) {
    const n = I;
    this.matrixDirty = !![], this[n(423)] && this.end.isDisplayObjectTarget() && this.end[n(433)].removeInLink(this);
    const s = Ut(e, t);
    this.path[n(399)](s), s.target instanceof C && s.target.addInLink(this);
  }
  [I(409)]() {
    const e = I;
    return this.points == null && (this[e(419)] = this.updatePoints()), this[e(419)][0];
  }
  getEndPoint() {
    const e = I;
    return this.points == null && (this.points = this.updatePoints()), this[e(419)][this.points[e(430)] - 1];
  }
  drawPoints(e) {
    return this.drawShape(e);
  }
  [I(377)](e) {
    const t = I;
    let n = this.points;
    if (this._needCalcOffset() && (n = this.offsetPoints, n == null))
      throw new Error("offsetPoints is null");
    let s = Qt.toAABB(n), i = s.getCenter(), r = Math.max(1, Math.max(s[t(376)], s.width));
    e.beginPath(), e[t(349)](i.x, i.y), e.scale(r, r);
    let o = z.getPointsNormalization(n);
    this.shape.draw(e, this, o), e[t(411)](1 / r, 1 / r), e.translate(-i.x, -i.y), e.stroke();
  }
  _getTotalLineWidth() {
    const e = this._drawContentDesc, t = this._computedStyle;
    let n = t.lineWidth || 0;
    return n += t.padding || 0, e.hasBorder && (n += t.borderWidth), n;
  }
  draw(e) {
    const t = I;
    if (this.begin == null || this.end == null)
      return this;
    if (this.drawShape(e), !this[t(401)]) {
      const n = this[t(428)], s = this._computedStyle[t(390)] >= n ? 0 : n;
      this.mousePickupStroke(e, s);
    }
    return this;
  }
  [I(402)]() {
    const e = I, t = this._computedStyle, n = this[e(363)];
    n[e(352)] = t.backgroundColor != null, n.hasBorder = t[e(347)] > 0;
  }
  [I(346)](e) {
    this.beginOffset = e, this.matrixDirty = !![];
  }
  setEndOffset(e) {
    this.endOffset = e, this.matrixDirty = !![];
  }
  translateWith(e, t) {
    const n = I;
    let s = this.path[n(412)];
    for (let i = 0; i < s[n(430)]; i++) {
      let r = s[i];
      r instanceof Jt && r.target == null && (r.x += e, r.y += t, this[n(422)] = !![]);
    }
    return this[n(422)] && (this[n(375)](), this.inLinks.forEach((i) => i[n(375)]()), this.outLinks.forEach((i) => i.updateMatrix())), this;
  }
  _calcAZ() {
    let t = Ge(this, this[I(384)]), n = Ge(this, this.end);
    return [t, n];
  }
  _needCalcOffset() {
    const e = I;
    return this.beginOffset != null && this.beginOffset != 0 ? !![] : this.endOffset != null && this[e(406)] != 0 ? !![] : this[e(382)] != null && this[e(382)].visible ? !![] : this[e(367)] != null && this.endArrow[e(405)] ? !![] : ![];
  }
  _offsetA(e, t) {
    let n = this.beginArrow, s = this.beginOffset || 0;
    if (n != null && n.visible && (s = s + n.width), s != 0) {
      let i = this.getBeginArrowDirection();
      this._setOffsetByVec(e, i, s);
    }
  }
  _offsetZ(e, t) {
    const n = I;
    let s = this.endArrow, i = this.endOffset || 0;
    if (s != null && s.visible && (i = i + s.width), i != 0) {
      let r = this.getEndArrowDirection();
      this[n(392)](t, r, i);
    }
  }
  _setOffsetByVec(e, t, n) {
    const s = I;
    let i = [0, 0];
    M[s(369)](i, t, -n), e.x += i[0], e.y += i[1];
  }
  _notUpdateYet() {
    const e = I;
    console.log("not yet"), this.points = this[e(395)]();
  }
  _afterUpdateMatrix() {
    const e = I;
    this.points = this[e(395)](), this._offsetAndArrowHandle();
  }
  _offsetAndArrowHandle() {
    const e = I;
    if (this[e(382)] && this.beginArrow.parent !== this && (this.beginArrow = null), this.endArrow && this.endArrow.parent !== this && (this[e(367)] = null), !this._needCalcOffset())
      return;
    let t = this.points[0], n = this.points[this[e(419)][e(430)] - 1], s = { x: t.x, y: t.y }, i = { x: n.x, y: n.y };
    if (this._offsetA(s, i), this._offsetZ(s, i), this.beginArrow) {
      let o = { x: (t.x + s.x) * 0.5, y: (t.y + s.y) * 0.5 }, a = Math.atan2(t.y - o.y, t.x - o.x);
      this[e(382)].setXY(o.x, o.y), this.beginArrow.rotateTo(a);
    }
    if (this.endArrow) {
      let o = { x: (n.x + i.x) * 0.5, y: (n.y + i.y) * 0.5 }, a = Math.atan2(n.y - o.y, n.x - o.x);
      this.endArrow.setXY(o.x, o.y), this.endArrow[e(357)](a);
    }
    let r = this._obb.localPoints.slice();
    r = r.slice(), r[0] = s, r[r.length - 1] = i, this[e(389)] = r;
  }
  updatePoints() {
    let e = [];
    const t = this.path.endpoints;
    for (let n = 0; n < t.length; n++) {
      let s = t[n], i = Ge(this, s);
      e.push(i);
    }
    return e;
  }
  getPoints() {
    const e = I;
    return this[e(419)] == null && (this[e(419)] = this.updatePoints()), this.points;
  }
  getTransform() {
    return this.transform;
  }
  _doTransform() {
  }
  [I(360)](e, t) {
    const n = I, s = this.getSegmentPoints(), i = _i({ x: e, y: t }, s);
    return i == null || i[n(430)] == 0 ? { x: e, y: t } : i;
  }
  [I(383)]() {
    return this.getPoints();
  }
  upgradeParent() {
    const e = I;
    let t = this.begin.target, n = this[e(423)].target;
    if (t == null || n == null)
      return;
    let s = Pn(t, n);
    if (this.parent !== s)
      return this.changeParent(s), s;
  }
  [I(354)]() {
    let e = this.points[0], t = this.getPoint(1e-7), n = [e.x - t.x, e.y - t.y];
    return M.normalize(n, n);
  }
  getEndArrowDirection() {
    const e = I;
    let t = this[e(415)](0.999999), n = this[e(419)][this[e(419)].length - 1], s = [n.x - t.x, n.y - t.y];
    return M[e(410)](s, s);
  }
  isAlone() {
    return this.begin.isDisplayObjectTarget() || this.end.isDisplayObjectTarget() ? ![] : !![];
  }
  isBeginDisplayObject() {
    const e = I;
    return this.begin[e(356)]();
  }
  isEndDisplayObject() {
    const e = I;
    return this.end[e(356)]();
  }
  unlinkBegin() {
    const e = I;
    this.begin.isDisplayObjectTarget() && this[e(384)][e(433)][e(379)](this), this.setBegin(this[e(409)]());
  }
  [I(426)]() {
    const e = I;
    this.end.isDisplayObjectTarget() && this.end[e(433)].removeInLink(this), this.setEnd(this[e(359)]());
  }
  unlink() {
    const e = I;
    this.unlinkBegin(), this.unlinkEnd(), this[e(422)] = !![];
  }
  remove() {
    return this.unlink(), super.remove(), this;
  }
  changeParent(e) {
    const t = I;
    if (this.parent === e)
      throw new Error("same parent, dont need change");
    let n = this, s = this;
    function i(r, o, a) {
      const c = Y0;
      let l = r[o];
      l != null && (l = r[c(394)](l.x, l.y), r[o] = a.stageToLocalXY(l.x, l.y));
    }
    if (s[t(384)] instanceof Jt && !s.begin[t(365)]()) {
      let r = s.toStageXY(s.begin.x, s[t(384)].y), o = e.stageToLocalXY(r.x, r.y);
      s.setBegin(o);
    }
    if (s.end instanceof Jt && !s.end[t(365)]()) {
      let r = s.toStageXY(s.end.x, s.end.y), o = e.stageToLocalXY(r.x, r.y);
      s.setEnd(o);
    }
    return s[t(416)] == "CurveLink" ? i(s, t(391), e) : s[t(416)] == "BezierLink" ? (i(s, t(418), e), i(s, t(370), e)) : s.className == t(393) && (i(s, "fold1Offset", e), i(s, t(396), e), i(s, "centerOffset", e)), n[t(380)] && n.parent.removeChild(n), e.addChild(n), this;
  }
  positionToLocalPoint(e, t, n) {
    let i = this[I(368)][e];
    if (i == null && (i = this.DefaultPositions[e]), i == null)
      throw Error("position not exist:" + e);
    return typeof i == "function" ? i.call(this, t, n) : i;
  }
  toJSON(e) {
    const t = I;
    let n = super[t(381)](e);
    if (e != null) {
      let s = e[t(414)];
      n.path = this[t(425)].toJSON(s, this), this[t(404)] != null && (n.label = s.get(this[t(404)])), this.beginArrow != null && (n[t(382)] = s.get(this.beginArrow)), this.endArrow != null && (n[t(367)] = s.get(this.endArrow));
    }
    return n;
  }
  _updateBeginEndAfterJson(e, t) {
    const n = I;
    if (e.label != null) {
      let r = t[e.label];
      this[n(404)] = r;
    }
    if (e.beginArrow != null) {
      let r = t[e.beginArrow];
      r.originAlignPosition = null, r.rotateCenter = "center", this[n(366)](r);
    }
    if (e.endArrow != null) {
      let r = t[e.endArrow];
      r[n(421)] = null, r.rotateCenter = "center", this.setEndArrow(r);
    }
    let s = e.path, i = s.map((r) => Wt[n(374)](r, t));
    this._setEndpoints(i);
  }
  _setEndpoints(e) {
    const t = I;
    this[t(425)].set(e);
    let n = this.path.getBegin();
    n.isDisplayObjectTarget() && n.target.addOutLink(this), n = this.path.getEnd(), n[t(356)]() && n[t(433)].addInLink(this), e = this[t(425)].endpoints;
    for (let s = 1; s < e.length - 1; s++)
      n = e[s], n.isDisplayObjectTarget() && n.target.addInLink(this);
  }
  destory() {
    const e = I;
    super.destory(), this.unlinkBegin(), this.unlinkEnd(), this.beginArrow = null, this.endArrow = null, this[e(404)] = null, this.shape = null, this.points = null, this.unitPoints = null, this.offsetPoints = null, this._text = null;
  }
}
At([d("Link")], N.prototype, "className", 2), At([d(A[I(398)])], N[I(388)], I(350), 2), At([d(rn[I(386)])], N.prototype, "_zIndex", 2), At([d(!![])], N[I(388)], "isLink", 2), At([d(5)], N.prototype, "_pickRadius", 2), At([d(kn)], N[I(388)], "DefaultPositions", 2), At([d(["className", "isLink"])], N.prototype, I(358), 2), At([d(C.prototype.serializers.concat([I(378), "endOffset"]))], N.prototype, "serializers", 2), At([d(function() {
  return this[I(350)].anchorPoints;
})], N[I(388)], "getAnchorPoints", 2), At([d(function() {
  return this.shape.ctrlPoints;
})], N.prototype, "getCtrlPoints", 2);
function Ge(x, e) {
  const t = I;
  let n;
  if (e instanceof De) {
    let s = e[t(433)];
    n = Fo(x, s, e.name);
  } else if (e instanceof Me)
    n = Xo(x, e);
  else if (e instanceof cn) {
    let s = e.target, i = e.segIndex, r = e.t;
    n = Ho(x, s, i, r);
  } else if (e instanceof Jt) {
    let s = e.target;
    s == null ? n = { x: e.x, y: e.y } : n = Wo(x, s, e.x, e.y);
  } else if (e instanceof Rs)
    n = e.fn();
  else
    throw console.log(e), new Error(t(348));
  return n;
}
function Wo(x, e, t, n) {
  const s = I;
  let i = e[s(408)]()[s(387)]({ x: t, y: n });
  return i = x.getWorldTransform().invert()[s(387)](i), i;
}
function Y0(x, e) {
  const t = dx();
  return Y0 = function(n, s) {
    return n = n - 341, t[n];
  }, Y0(x, e);
}
function Ho(x, e, t, n) {
  const s = I;
  let i;
  return e.parent === x.parent ? (i = e[s(351)](n, t), i = e[s(344)]().point(i)) : (i = e.getLocalPoint(n, t), i = e.getWorldTransform()[s(387)](i), i = x.getWorldTransform().invert().point(i)), i;
}
function Fo(x, e, t) {
  const n = I;
  let s;
  return e[n(380)] === x.parent ? (s = e.positionToLocalPoint(t), e.isNode && (s = e.getTransform().point(s))) : (s = e.positionToLocalPoint(t), s = e[n(408)]().point(s), s = x[n(408)]().invert().point(s)), s;
}
function Xo(x, e) {
  const t = I;
  if (x.deep == 0)
    throw new Error("link's deep is 0!");
  const n = e.target, s = x[t(384)].target === n, i = s ? x.end : x.begin, r = i[t(433)];
  let o = x.getWorldTransform().copy(), a;
  i instanceof Me ? a = r.toLayerXY(0, 0) : (s ? a = Ge(x, x.end) : a = Ge(x, x[t(384)]), a = o.point(a));
  let c = n.getWorldTransform();
  a = c.copy()[t(397)]().point(a);
  let l = n[t(360)](a.x, a.y);
  return l = c.point(l), l = o.invert().point(l), l;
}
function dx() {
  const x = ["getTransform", "_text", "setBeginOffset", "borderWidth", "Invalid link's position arguments", "translate", "shape", "getLocalPoint", "hasBackgroundColor", "6244080hnuFVN", "getBeginArrowDirection", "6454uDnQbt", "isDisplayObjectTarget", "rotateTo", "allwaysSerializers", "getEndPoint", "nearest", "3354534hpUGHq", "getOwnPropertyDescriptor", "_drawContentDesc", "getPoints", "hasTarget", "setBeginArrow", "endArrow", "positions", "multiplyC", "ctrlPoint2", "getEnd", "setEndArrow", "608277STwtuC", "fromJSON", "updateMatrix", "height", "drawShape", "beginOffset", "removeOutLink", "parent", "toJSON", "beginArrow", "getSegmentPoints", "begin", "6UoMOBI", "Link", "point", "prototype", "offsetPoints", "lineWidth", "ctrlPoint", "_setOffsetByVec", "AutoFoldLink", "toStageXY", "updatePoints", "fold2Offset", "invert", "Line", "setEnd", "2697308pLZjoN", "isPointOn", "_afterStyleComputed", "32379180rxkTki", "label", "visible", "endOffset", "push", "getWorldTransform", "getBeginPoint", "normalize", "scale", "endpoints", "getBeginArrow", "objIndexMap", "getPoint", "className", "mouseEnabled", "ctrlPoint1", "points", "10KmXDxh", "originAlignPosition", "matrixDirty", "end", "removeChild", "path", "unlinkEnd", "8600XQcjRf", "_pickRadius", "editable", "length", "deep", "text", "target", "758554gkyiIP", "setBegin", "indexOf"];
  return dx = function() {
    return x;
  }, dx();
}
function Pn(x, e) {
  const t = I;
  return x.parent === e[t(380)] ? x.parent : x[t(431)] == e.deep ? Pn(x[t(380)], e[t(380)]) : x.deep > e[t(431)] ? Pn(x.parent, e) : Pn(x, e.parent);
}
function oi(x, e) {
  var t = fx();
  return oi = function(n, s) {
    n = n - 409;
    var i = t[n];
    return i;
  }, oi(x, e);
}
(function(x, e) {
  for (var t = oi, n = x(); []; )
    try {
      var s = -parseInt(t(415)) / 1 * (-parseInt(t(411)) / 2) + parseInt(t(413)) / 3 + parseInt(t(416)) / 4 + parseInt(t(412)) / 5 + -parseInt(t(409)) / 6 * (-parseInt(t(410)) / 7) + -parseInt(t(418)) / 8 + -parseInt(t(414)) / 9 * (parseInt(t(417)) / 10);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(fx, 772305);
function fx() {
  var x = ["10qCTiPM", "5284425GuJTrC", "1280583yVbAZC", "8145eHucWV", "215503PhguBh", "2475464XzdLGB", "27740PKjhFk", "10659096gczvRJ", "108990XEnUlP", "553yWjQyq"];
  return fx = function() {
    return x;
  }, fx();
}
class Yo extends Et {
  constructor() {
    super(), this.stoped = ![];
  }
  dispose() {
  }
}
function x0(x, e) {
  const t = px();
  return x0 = function(n, s) {
    return n = n - 408, t[n];
  }, x0(x, e);
}
const Ot = x0;
(function(x, e) {
  const t = x0, n = x();
  for (; []; )
    try {
      if (parseInt(t(426)) / 1 + parseInt(t(412)) / 2 + parseInt(t(409)) / 3 + parseInt(t(410)) / 4 * (parseInt(t(430)) / 5) + parseInt(t(422)) / 6 * (-parseInt(t(421)) / 7) + parseInt(t(417)) / 8 * (-parseInt(t(408)) / 9) + -parseInt(t(415)) / 10 * (-parseInt(t(427)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(px, 195114);
class wr {
  constructor(e) {
    const t = x0;
    if (this[t(431)] = {}, this.SelectArea = { border: "1px rgba(0,0,0,0.5)", backgroundColor: "rgba(0,0,236,0.1)" }, this[t(419)] = { strokeStyle: "#009A93", shadowColor: t(414) }, this.LinkArrow = {}, this.LinkLabel = { textPosition: t(428), textBaseline: t(413), textAlign: "center" }, this.Node = { textPosition: "cb", textAlign: "center", textBaseline: "top" }, this[t(424)] = { textPosition: "center", textAlign: t(428), textBaseline: "middle" }, this[t(418)] = { textPosition: "cb", textAlign: "center", textBaseline: t(420) }, this.TipNode = { textPosition: "ct", textAlign: t(428), textBaseline: "top" }, this.ShapeNode = { lineWidth: 1, textPosition: "cb", textAlign: "center", textBaseline: "top" }, this.VideoNode = { textPosition: "cb", textAlign: "center", textBaseline: t(420) }, this.RatioNode = { textPosition: "center", textAlign: "center", textBaseline: "middle" }, this.Link = { lineWidth: 1 }, this.FoldLink = { lineWidth: 1 }, this.CurveLink = { lineWidth: 1 }, this.AutoFoldLink = { lineWidth: 1 }, this[t(425)] = { lineWidth: 1 }, this.ArcLink = { lineWidth: 1 }, this.FlexionalLink = { lineWidth: 1 }, e == null)
      return;
    let n = Object.keys(e);
    for (let s = 0; s < n[t(416)]; s++) {
      let i = n[s];
      Object.assign(this[i], e[i]);
    }
  }
  toJSON() {
    const e = x0;
    let t = {}, n = Object.keys(this);
    for (let s = 0; s < n[e(416)]; s++) {
      let i = n[s], r = Uo[i], o = this[i], a = Ct.diff(o, r);
      a != null && (t[i] = a);
    }
    return t;
  }
}
const Uo = new wr();
class h0 {
  constructor(e, t) {
    this.name = e, this.content = new wr(t);
  }
  copy(e) {
    let t = JSON.parse(JSON.stringify(this.content));
    return new h0(e, t);
  }
  setStyle(e, t) {
    let n = this.content[e];
    Object.assign(n, t);
  }
  getStyle(e) {
    return this.content[e];
  }
}
let we = new h0(Re.DefaultLightName, { Layer: { background: Rt.createLightGridImg() + " repeat" }, SelectArea: { border: "1px solid rgba(0,0,0,0.5)", backgroundColor: Ot(411) }, LinkArrow: { strokeStyle: "black" }, Node: { strokeStyle: Ot(432) }, TextNode: { strokeStyle: "black" }, TipNode: { strokeStyle: "black" }, ShapeNode: { strokeStyle: Ot(432) }, CircleNode: { strokeStyle: "black" }, VideoNode: { strokeStyle: "black" }, RatioNode: { strokeStyle: "black" }, Link: { strokeStyle: "black" }, AutoFoldLink: { strokeStyle: "black" }, FoldLink: { strokeStyle: "black" }, FlexionalLink: { strokeStyle: "black" }, CurveLink: { strokeStyle: "black" }, BezierLink: { strokeStyle: "black" }, ArcLink: { strokeStyle: "black" } });
function px() {
  const x = ["1px solid rgba(255,255,255,0.5)", "TextNode", "BezierLink", "159775LCKacn", "1345597psAoxW", "center", "white", "60770Bdgcyb", "Layer", "black", "10836jKiCQU", "271431YOOvqV", "32DroqWg", "rgba(0,0,236,0.1)", "451942fBfYEB", "middle", "#009A93", "10BdynOD", "length", "1656hnrykx", "CircleNode", "SelectedStyle", "top", "28fwlbVS", "377160ZWmZjm"];
  return px = function() {
    return x;
  }, px();
}
let vr = new h0(Re.DefaultDarkName, { Layer: { background: Rt.createDarkGridImg() + " repeat" }, SelectArea: { border: Ot(423), backgroundColor: "rgba(255,255,255,0.2)" }, LinkArrow: { strokeStyle: Ot(429) }, LinkLabel: { strokeStyle: Ot(429), color: Ot(429) }, Node: { strokeStyle: Ot(429), color: "white" }, TextNode: { strokeStyle: "white", color: "white" }, TipNode: { strokeStyle: "white", color: "white" }, ShapeNode: { strokeStyle: "white", color: "white" }, CircleNode: { strokeStyle: "white", color: Ot(429) }, VideoNode: { strokeStyle: "white", color: Ot(429) }, RatioNode: { strokeStyle: "white", color: "white" }, Link: { strokeStyle: "white" }, AutoFoldLink: { strokeStyle: "white" }, FoldLink: { strokeStyle: "white" }, FlexionalLink: { strokeStyle: "white" }, CurveLink: { strokeStyle: Ot(429) }, BezierLink: { strokeStyle: "white" }, ArcLink: { strokeStyle: "white" } });
const Z = s0;
(function(x, e) {
  const t = s0, n = x();
  for (; []; )
    try {
      if (parseInt(t(412)) / 1 * (parseInt(t(419)) / 2) + parseInt(t(410)) / 3 * (-parseInt(t(397)) / 4) + parseInt(t(415)) / 5 + parseInt(t(413)) / 6 * (parseInt(t(403)) / 7) + parseInt(t(404)) / 8 + -parseInt(t(396)) / 9 * (-parseInt(t(402)) / 10) + -parseInt(t(428)) / 11 * (parseInt(t(380)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(gx, 558082);
function gx() {
  const x = ["currentTheme", "applyTo", "34694BUMtRk", "moveTo", "devicePixelRatio", "8460HxXPQp", "_computedStyle", "context", "save", "push", "strokeStyle", "setCursor", "setLineDash", "isSelected", "paint", "layer", "rect", "lineWidth", "width", "stroke", "stage", "57519dOEdOM", "5932TvsaDe", "styleSystem", "restore", "getHeight", "SelectedStyle", "1230IgicBS", "21TpwwPF", "3530936LFBiGi", "canvas", "isPointInStroke", "transform", "event", "selectedStyle", "33GxjihM", "contextExtends", "1734LhsNeM", "424332zDMtQr", "style", "1407625UVorxk", "quadraticCurveTo", "inputSystem", "isPointInPath", "1242kjNHVV", "getStyle", "lineTo", "_paintFlattenObjects", "clear", "display", "paintSelected"];
  return gx = function() {
    return x;
  }, gx();
}
function s0(x, e) {
  const t = gx();
  return s0 = function(n, s) {
    return n = n - 380, t[n];
  }, s0(x, e);
}
class kr extends Yo {
  constructor(e) {
    const t = s0;
    super(), this.destoryed = ![], this.layer = e, this.canvas = document.createElement("canvas"), Object.assign(this.canvas.style, { position: "absolute", left: "0px" }), this.context = this[t(405)].getContext("2d"), this[t(382)].render = this, window.devicePixelRatio && this[t(382)].scale(window[t(430)], window.devicePixelRatio), this[t(411)]();
  }
  [Z(422)](e) {
    const t = Z;
    let n = this.context;
    for (let s = 0; s < e.length; s++) {
      let i = e[s];
      if (n.save(), i instanceof D) {
        let r = i._worldTransform, o = r.m;
        n.transform(o[0], o[1], o[2], o[3], o[4], o[5]);
      } else if (!(i.parent instanceof dt)) {
        let o = i.parent._worldTransform, a = o.m;
        n[t(407)](a[0], a[1], a[2], a[3], a[4], a[5]);
      }
      this.paint(i), n[t(399)]();
    }
  }
  _paintObjects(e, t) {
    const n = Z;
    let s = this[n(390)], i = this.context;
    for (let r = 0; r < e.length; r++) {
      let o = e[r];
      if (o._needPaint == ![] || o._isOutOfViewport && !t)
        continue;
      i[n(383)](), o instanceof D && o._doTransform(i), !t && (o.painted = !![]), this[n(389)](o), s && s.displayList[n(384)](o), this._paintObjects(o.children, t), i.restore();
    }
  }
  paint(e) {
    const t = Z;
    let n = this[t(382)];
    e[t(381)].applyTo(n);
    let s = e[t(388)] && e.showSelected == !![];
    s && (n.save(), this[t(425)](e)), e.draw(n), s && n.restore();
  }
  paintSelected(e) {
    const t = Z;
    let n = this.context;
    if (e[t(409)] != null && e.selectedStyle[t(427)](n), e.paintSelected != null) {
      e.paintSelected(n);
      return;
    }
    if (e instanceof D) {
      n.save(), n.beginPath();
      let s = 1;
      e.selectedStyle != null ? s = e[t(409)][t(392)] | s : (n[t(387)]([0, 0]), this[t(398)] ? n[t(385)] = this[t(398)][t(426)].getStyle(t(401)).strokeStyle : n.strokeStyle = we.getStyle("SelectedStyle").strokeStyle), n.lineWidth = s;
      let i = e[t(393)] + s + 3, r = e.height + s + 3;
      n[t(391)](-i * 0.5, -r * 0.5, i, r), n[t(394)](), n.closePath(), n[t(399)]();
    } else
      this.styleSystem ? n.shadowColor = this[t(398)].currentTheme.getStyle(t(401)).strokeStyle : n.strokeStyle = we[t(420)]("SelectedStyle").shadowColor, n.shadowBlur = 5, n.shadowOffsetX = 3, n.shadowOffsetY = 3;
  }
  clearAll() {
    this[Z(423)]();
  }
  dontNeedPickup(e) {
    const t = Z;
    let n = this[t(395)];
    return n.inputSystem.isDraging && n[t(417)].target !== e ? !![] : n[t(417)][t(408)] instanceof MouseEvent && !e._isMouseInAABB ? !![] : ![];
  }
  isMouseInStroke(e, t) {
    const n = Z;
    let s = this[n(382)], i = this[n(395)];
    if (e == null || e == 0)
      return t != null ? s[n(406)](t, i.inputSystem.x, i[n(417)].y) : s.isPointInStroke(i[n(417)].x, i.inputSystem.y);
    let r = ![];
    for (var o = 0; o < e; o++) {
      if (t != null ? r = s.isPointInStroke(t, i.inputSystem.x + o, i[n(417)].y + o) : r = s[n(406)](i[n(417)].x + o, i.inputSystem.y + o), r)
        return !![];
      if (t != null ? r = s.isPointInStroke(t, i.inputSystem.x - o, i.inputSystem.y - o) : r = s.isPointInStroke(i.inputSystem.x - o, i.inputSystem.y - o), r)
        return !![];
      if (t != null ? r = s.isPointInStroke(t, i.inputSystem.x - o, i.inputSystem.y + o) : r = s.isPointInStroke(i[n(417)].x - o, i.inputSystem.y + o), r)
        return !![];
      if (t != null ? r = s[n(406)](t, i.inputSystem.x + o, i.inputSystem.y - o) : r = s.isPointInStroke(i[n(417)].x + o, i.inputSystem.y - o), r)
        return !![];
    }
    return ![];
  }
  isMouseInPath(e) {
    const t = Z;
    let n = this[t(382)], s = this.stage;
    return e ? n.isPointInPath(e, s[t(417)].x, s.inputSystem.y) : n[t(418)](s.inputSystem.x, s.inputSystem.y);
  }
  contextExtends() {
    this.context.roundRect == null && (this.context.roundRect = function(e, t, n, s, i) {
      const r = s0;
      this.beginPath(), this[r(429)](e + i, t), this[r(421)](e + n - i, t), this.quadraticCurveTo(e + n, t, e + n, t + i), this[r(421)](e + n, t + s - i), this.quadraticCurveTo(e + n, t + s, e + n - i, t + s), this.lineTo(e + i, t + s), this[r(416)](e, t + s, e, t + s - i), this.lineTo(e, t + i), this.quadraticCurveTo(e, t, e + i, t), this.closePath();
    });
  }
  show() {
    this.canvas.style.display = "block";
  }
  hide() {
    const e = Z;
    this.canvas.style[e(424)] = "none";
  }
  getWidth() {
    const e = Z;
    return this.canvas[e(393)];
  }
  [Z(400)]() {
    return this.canvas.height;
  }
  setSize(e, t) {
    this.canvas.width = e, this.canvas.height = t;
  }
  getCursor() {
    return this[Z(405)].style.cursor;
  }
  [Z(386)](e) {
    const t = Z;
    this.canvas[t(414)].cursor = e;
  }
  toDataURL(e, t) {
    const n = Z;
    return e = e || "image/png", this[n(405)].toDataURL(e, t);
  }
  getRectImageData(e, t, n, s) {
    const i = Z;
    return e == null && (e = 0), t == 0 && (t = 0), n == null && (n = this.getWidth()), s == null && (s = this.getHeight()), this[i(382)].getImageData(e, t, n, s);
  }
  clear() {
    const e = Z;
    this.canvas.width = this[e(405)].width;
  }
  dispose() {
    this.canvas.remove();
  }
}
const un = U0;
(function(x, e) {
  const t = U0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(264)) / 1 * (parseInt(t(280)) / 2) + parseInt(t(266)) / 3 * (parseInt(t(259)) / 4) + -parseInt(t(251)) / 5 + parseInt(t(254)) / 6 * (parseInt(t(285)) / 7) + -parseInt(t(261)) / 8 * (parseInt(t(276)) / 9) + -parseInt(t(278)) / 10 * (parseInt(t(257)) / 11) + parseInt(t(262)) / 12 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(bx, 634803);
var Vo = Ct.gc;
let Di = it.w;
function bx() {
  const x = ["lineWidth", "toScreenXY", "50985npPktm", "stroke", "16340KZGzKR", "styleX", "664fACmnC", "21917436EDeqCR", "paintAABB", "33844kmPcJz", "height", "330zCRLvq", "styleY", "paintLayer", "applyTo", "width", "green", "localView", "toStageRect", "beginPath", "fillStyle", "88731HzbCZu", "lineTo", "260fowywv", "getObject", "74aEPkfU", "moveTo", "flatten", "context", "_computedStyle", "7jiLfoK", "restore", "792680GuQqGC", "_paintFlattenObjects", "displayList", "4251426lrtemj"];
  return bx = function() {
    return x;
  }, bx();
}
function U0(x, e) {
  const t = bx();
  return U0 = function(n, s) {
    return n = n - 250, t[n];
  }, U0(x, e);
}
class Pr extends kr {
  constructor(e) {
    super(e);
  }
  renderLayer(e) {
    const t = U0;
    this.clear(), this.stage = this.layer.stage, this.styleSystem = this.stage.styleSystem, e.axis.visible && this.paintAxis(e), this.paintLayer(e, ![]), ue[t(263)] == !![] && e[t(253)] != null && this[t(263)]();
    {
      if (Di == null)
        return;
      let n = this[t(283)];
      n.save(), n.globalAlpha = 0.8, n.font = "bold 16px arial";
      let s = Vo(Di);
      n[t(275)] = "gray", n.fillText(s, 14, this.getHeight() - 14), n.restore();
    }
  }
  [un(268)](e, t) {
    const n = un;
    let s = this[n(283)];
    s.save();
    let i = e.getTransform(), r = i.m;
    return s.transform(r[0], r[1], r[2], r[3], r[4], r[5]), e[n(284)].applyTo(s), Re[n(282)] ? (e[n(253)].forEach((o) => o.painted = !![]), this[n(252)](e.displayList)) : this._paintObjects(e.children, t), s.restore(), e;
  }
  paintAABB() {
    const e = un;
    let t = this.layer, n = this[e(283)], s = t.displayList;
    for (let i = s.length - 1; i >= 0; i--) {
      let r = s[i], o = r._obb.aabb;
      o = t[e(273)](o), n.save(), r instanceof dt ? n.strokeStyle = "rgba(0,0,255,0.3)" : r instanceof N ? n.strokeStyle = "pink" : n.strokeStyle = e(271), n[e(274)](), n.rect(o.x, o.y, o[e(270)], o[e(265)]), n.stroke(), n.closePath(), n.restore();
    }
  }
  paintAxis(e) {
    const t = un, n = e.axis, s = e.stage;
    let i = this.context;
    const r = s[t(272)][t(279)](), o = s.width, a = s.height, c = r[t(256)](0, 0), l = e.scaleX, h = e.scaleY;
    i.save(), c.x > 0 && c.x < o && (i.beginPath(), n[t(267)].applyTo(i), i[t(281)](c.x, 0), i.lineTo(c.x, a), i[t(281)](c.x - 5, a - 8), i.lineTo(c.x, a), i.lineTo(c.x + 5, a - 8), i[t(258)](), i.fillText("+y", c.x + 6, a - 5)), c.y > 0 && c.y < a && (i.beginPath(), n.styleX[t(269)](i), i.moveTo(o * 0.5, c.y), i.lineTo(0, c.y), i.moveTo(o * 0.5, c.y), i.lineTo(o, c.y), i.moveTo(o - 8, c.y - 5), i.lineTo(o, c.y), i[t(277)](o - 8, c.y + 5), i[t(258)](), i.fillText("+x", o - 5, c.y + 5));
    let f = n[t(260)], g = n[t(267)];
    f[t(255)] = Math.max(1, l), g[t(255)] = Math.max(1, h), i[t(250)]();
  }
}
const S = _x;
(function(x, e) {
  const t = _x, n = x();
  for (; []; )
    try {
      if (parseInt(t(354)) / 1 + parseInt(t(429)) / 2 * (parseInt(t(378)) / 3) + parseInt(t(416)) / 4 + -parseInt(t(428)) / 5 + parseInt(t(415)) / 6 * (-parseInt(t(417)) / 7) + -parseInt(t(385)) / 8 + parseInt(t(439)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(yx, 350829);
var Jo = Object[S(390)], qo = Object[S(368)], Fe = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? qo(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Jo(e, t, s), s;
};
function yx() {
  const x = ["getOwnPropertyDescriptor", "viewportRect", "toAABB", "filter", "unionRects", "backgroundColor", "0px", "info", "isLayer", "stage", "74091cAXBYj", "hide", "parseImgUrl", "render", "toStageRect", "_afterStyleComputed", "removeChild", "2915096DXDjJK", "displayList", "setBackground", "scaleX", "map", "defineProperty", "mouseY", "_onMound", "style", "getTransform", "prototype", "containsRect", "_OBBPoints", "_requestReapint", "resetTo", "mouseX", "aabb", "_backgroundImageObject", "script", "_bgInfo", "layer", "width", "forceUpdate", "_frames", "openJson", "markDirty", "getExportAABB", "inputSystem", "_calcBackgroundPosition", "backgroundImage", "1865298BHRABN", "1194556fkLyqQ", "14XcxvMz", "height", "_resetBg", "flattenList", "toFileJson", "translateWith", "left", "_computedStyle", "removeFromParent", "removeAllChild", "parse", "475110ZlklPh", "26dAAkbM", "render not exist", "_getTransformByDeep", "className", "zoom", "copy", "show", "getAABB", "points", "backgroundSize", "6296463hpGclD", "children", "addChilds", "Layer", "renderSystem", "112697BKNwML", "offsetLeft", "_findChildren", "backgroundRepeat", "_whenJsonLoaded", "stringify", "log", "length", "background", "canvas", "setRender", "axis", "toJsonObject", "no-repeat"];
  return yx = function() {
    return x;
  }, yx();
}
class dt extends D {
  constructor(e) {
    const t = S;
    super(), this.className = t(352), this.renderTimes = 0, this.viewportRect = new j(0, 0, 1, 1), this.cuttingHide = !![], this[t(386)] = [], this.flattenList = [], this.wheelZoom = !![], this.axis = new wo(), this.mouseX = -1, this[t(391)] = -1, this._frames = 0, this.isFirstComputeBG = !![], this[t(398)] = ![], this._dragDrawDelay = ![], this._bgInfo = { sw: null, sh: null, x: null, y: null }, this.name = e, this.visible = ![], this.displayList = [], ue.isDebug && (wt[t(405)] = this), this.render = new Pr(this), this.canvas = this[t(381)][t(363)];
  }
  get frames() {
    return this._frames;
  }
  set frames(e) {
    const t = S;
    this[t(408)] = e;
  }
  [S(392)](e) {
    const t = S;
    this[t(377)] = e, this.render.stage = e;
  }
  update() {
    return this._calcBackgroundPosition(), this._requestReapint = !![], !![];
  }
  showAxis() {
    this[S(365)].show();
  }
  hideAxis() {
    this.axis.hide();
  }
  [S(364)](e) {
    this[S(381)] != null && this.render.dispose(), this.render = e, this.update();
  }
  _isMatrixDirty() {
    return !![];
  }
  updateMatrix(e) {
    const t = S;
    let n = this[t(431)](En);
    this._worldTransform = n;
    let s = n[t(434)]().invert(), i = s.point({ x: this.stage.inputSystem.x || 0, y: this.stage[t(412)].y || 0 });
    this[t(400)] = i.x, this[t(391)] = i.y, this.updateViewRect();
  }
  getViewportRectInLayer() {
    return this[S(369)];
  }
  _calc_originInParent() {
    const e = S, t = this[e(377)];
    return [t[e(406)] * 0.5, t.height * 0.5];
  }
  [S(421)](e) {
    const t = S;
    let n = this[t(366)](e);
    return JSON[t(359)](n);
  }
  [S(366)](e) {
    const t = S;
    e == null && (e = { imageToBase64: ![] }), typeof e == "boolean" && (e = { imageToBase64: e });
    let n = this[t(377)].serializerSystem.objectsToJSON([this], e.imageToBase64);
    return e.script != null && (n[t(403)] = e[t(403)]), e[t(375)] != null && (n.info = e[t(375)]), n;
  }
  openJson(e) {
    const t = S;
    yt[t(399)](100);
    let n = e;
    typeof e == "string" && (n = JSON[t(427)](e)), this[t(426)]();
    let s = this;
    return new Promise((i, r) => {
      s.stage.serializerSystem.fillByJson(this, n, !![]).then(() => {
        s._whenJsonLoaded(), i(n);
      });
    });
  }
  openJsonAndWait(e) {
    return this[S(409)](e);
  }
  [S(358)]() {
    const e = S;
    let t = this.stage, n = this;
    t.styleSystem[e(410)](), t.cancelZoom(), this[e(419)](), n[e(377)].forceUpdate();
  }
  _resetBg() {
    const e = S;
    this[e(404)] = { sw: null, sh: null, x: null, y: null }, this[e(413)]();
  }
  updateViewRect() {
    const e = S;
    this.viewportRect.setTo(0, 0, this.stage.width, this[e(377)].height);
    let t = this.getTransform().invert();
    const n = this[e(369)];
    let s = n.toPoints(), i = Qt.toAABB(t[e(437)](s));
    return this[e(369)] = i, n;
  }
  updateSize(e, t) {
    const n = S;
    (e != this.render.getWidth() || t != this[n(381)].getHeight()) && (this.render.setSize(e, t), this.resizeTo(e, t), this.update());
  }
  pickUpByRect(e) {
    const t = S, n = this;
    let s = [], i = n.displayList;
    if (i != null)
      for (var r = 0; r < i[t(361)]; r++) {
        let o = i[r], a = o._obb[t(401)];
        o.pickable() && e[t(396)](a) && s.push(o);
      }
    return s;
  }
  pickUpChild() {
    const e = S;
    let t = this.displayList, n = null;
    for (let s = t[e(361)] - 1; s >= 0; s--) {
      let i = t[s];
      if (i.isPointOn && i.pickable()) {
        n = i;
        break;
      }
    }
    if (n != null) {
      let s = n.getTopFrozenParent();
      s != null && (n = s);
    }
    return n;
  }
  [S(422)](e, t) {
    const n = S;
    return super[n(422)](e, t), this._calcBackgroundPosition(), this;
  }
  _calcBackgroundPosition(e = ![]) {
    const t = S;
    if (!this[t(381)]) {
      console[t(360)](t(430));
      return;
    }
    const n = this.render.canvas;
    let s = this[t(424)], i = this._bgInfo, r = s.backgroundRepeat;
    if (r != null && r != t(367)) {
      let o = 100, a = 100, c = s[t(402)] || this[t(393)]._backgroundImageObject;
      c != null && (o = c[t(406)], a = c[t(418)]);
      let l = o * this[t(388)], h = a * this.scaleY, f = this.width * 0.5 % l + this.x, g = this.height * 0.5 % h + this.y;
      (e || i.sw != l || i.sh != h || i.x != f || i.y != g) && (n[t(393)].backgroundSize = l + "px " + h + "px", n.style.backgroundPosition = f + "px " + g + "px"), i.sw = l, i.sh = h, i.x = f, i.y = g;
    } else
      n.style.backgroundPosition = "0px 0px";
  }
  [S(383)]() {
    const e = S;
    let t = this._computedStyle.getChangedProps();
    Object.keys(t)[e(371)]((s) => s.startsWith("background")).length > 0 && this._updateDomStyle();
  }
  _updateDomStyle() {
    const e = S, t = this[e(363)], n = t.style, s = this[e(424)];
    if (n.background = null, s.backgroundColor != null && (n[e(373)] = s[e(373)]), s.backgroundImage != null) {
      let i = Rt[e(380)](s.backgroundImage);
      n[e(414)] = 'url("' + i + '")';
    }
    return s.backgroundRepeat != null && (n.backgroundRepeat = s[e(357)]), s.backgroundPosition != null && (n.backgroundPosition = s.backgroundPosition), s[e(438)] != null && (n.backgroundSize = s[e(438)]), t[e(406)] = t.width + 1, t[e(406)] = t.width - 1, this[e(413)](!![]), this;
  }
  [S(436)]() {
    const e = S;
    let t = this[e(386)];
    if (t.length == 0)
      return new j(0, 0, 1, 1);
    let n = t[e(389)]((i) => i._obb.aabb);
    return j[e(372)](n);
  }
  getExportAABB() {
    const e = S;
    let t = this[e(420)].filter((i) => i._cameraVisible);
    if (t.length == 0)
      return new j(0, 0, 1, 1);
    let n = t.map((i) => i._obb[e(401)]);
    return j.unionRects(n);
  }
  setZIndex(e) {
    const t = S;
    this._zIndex = e, this.stage && this[t(377)].updateZIndex();
  }
  show() {
    const e = S;
    return super[e(435)](), this.render[e(435)](), this[e(413)](), this;
  }
  hide() {
    const e = S;
    return super[e(379)](), this.render.hide(), this;
  }
  [S(397)]() {
    const e = S;
    let t = this.width, n = this[e(418)];
    return [{ x: 0, y: 0 }, { x: t, y: 0 }, { x: t, y: n }, { x: 0, y: n }];
  }
  getPoints() {
    return this._OBBPoints();
  }
  draw(e) {
  }
  [S(433)](e, t, n, s) {
    return this.stage.camera.zoomLayer(this, e, n, s), this;
  }
  cancelZoom() {
    this.stage.camera.cancelZoom();
  }
  [S(407)]() {
    const e = S;
    this.stage[e(353)]._tickLayer(this, Date.now());
  }
  [S(387)](e, t) {
    const n = S;
    this.render[n(363)][n(393)][n(362)] = e, this.render.canvas.style.backgroundSize = t;
  }
  find(e, t, n = ![]) {
    return this[S(356)](e, t, n);
  }
  [S(382)](e) {
    const t = S;
    let n = e.clone(), s = this.getTransform(), i = n.toPoints();
    return Qt[t(370)](s[t(437)](i));
  }
  toLayerRect(e) {
    const t = S;
    let n = this[t(394)]().invert(), s = e.toPoints();
    return Qt[t(370)](n.points(s));
  }
  dragEndHandler() {
    const e = S;
    if (this._dragDrawDelay == ![])
      return;
    let t = this.render.canvas, n = t[e(355)], s = t.offsetTop;
    this.translateWith(n, s), t.style[e(423)] = e(374), t.style.top = e(374);
  }
  addChild(e) {
    return super.addChild(e), this.update(), this;
  }
  addChilds(e) {
    const t = S;
    super[t(351)](e), this.update();
  }
  centerBy(e) {
    const t = S;
    let n = this, s = n.stage, i;
    if (e == null)
      i = n[t(411)]();
    else if (e instanceof C)
      i = e.getAABB();
    else {
      let l = e[t(389)]((h) => h[t(436)]());
      i = j.unionRects(l);
    }
    i = n[t(382)](i);
    let r = s.width / 2, o = s.height / 2, a = r - i.x, c = o - i.y;
    a -= i.width / 2, c -= i.height / 2, n[t(422)](a, c), n.update();
  }
  getAllVisiable() {
    const e = S;
    return C.flatten(this[e(440)], (t) => t.visible == !![]);
  }
  loopRender(e = 60) {
    this._frames = e;
  }
  endLoopRender() {
    this._frames = 0;
  }
  destory() {
    const e = S;
    if (this.destroyed)
      throw new Error("Layer has been destroyed already.");
    this.destroyed = !![], this.stage && this[e(377)][e(384)](this), this.render.dispose(), this.displayList = void 0, this[e(420)] = void 0, this.listeners = void 0, this.style = void 0, this.viewportRect = void 0, this.classList.length = 0, this.render = void 0, this.stage = void 0, this[e(440)].forEach((t) => t[e(425)]()), this.children[e(361)] = 0;
  }
}
Fe([d("true")], dt.prototype, "className", 2), Fe([d(!![])], dt.prototype, S(376), 2), Fe([d(![])], dt.prototype, "isNode", 2), Fe([d([S(432), "isLayer"])], dt.prototype, "allwaysSerializers", 2), Fe([d(["id", "name"])], dt.prototype, "serializers", 2), Fe([d("undefined")], dt[S(395)], "_layerIndex", 2);
function _x(x, e) {
  const t = yx();
  return _x = function(n, s) {
    return n = n - 351, t[n];
  }, _x(x, e);
}
function mx(x, e) {
  const t = Ix();
  return mx = function(n, s) {
    return n = n - 473, t[n];
  }, mx(x, e);
}
const zt = mx;
(function(x, e) {
  const t = mx, n = x();
  for (; []; )
    try {
      if (-parseInt(t(499)) / 1 + parseInt(t(477)) / 2 * (parseInt(t(494)) / 3) + parseInt(t(487)) / 4 + parseInt(t(492)) / 5 + parseInt(t(474)) / 6 + -parseInt(t(488)) / 7 * (-parseInt(t(489)) / 8) + -parseInt(t(478)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ix, 482614);
function Ix() {
  const x = ["fillStyle", "_paintObjects", "back", "SelectArea", "580900csYVZQ", "65576DxxYMb", "584Gqicka", "fillText", "draw", "2325655ESSTwc", "areaBox", "9OpfYGe", "_computedStyle", "css", "abs", "layer", "94161SYYQeW", "addChild", "mouseoutHandler", "translateTo", "displayList", "styleSystem", "globalAlpha", "stage", "1699314tNxnDK", "currentTheme", "translateWith", "100724qxyWXV", "10365750WuVhZo", "font", "getOwnPropertyDescriptor", "className", "_requestReapint"];
  return Ix = function() {
    return x;
  }, Ix();
}
var Go = Object.defineProperty, Zo = Object[zt(480)], Ko = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Zo(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Go(e, t, s), s;
};
const Qo = Ct.gc, Mi = it.w;
class $o extends kr {
  constructor(e, t) {
    const n = zt;
    super(t), this[n(473)] = e;
  }
  renderLayer(e) {
    const t = zt;
    this.clear(), this.stage = this[t(498)][t(473)], this.styleSystem = this.stage[t(504)];
    let n = this.context;
    return n.save(), e[t(495)].applyTo(n), e[t(491)](n), Re.flatten ? (e.displayList.forEach((i) => i.painted = !![]), this._paintFlattenObjects(e[t(503)])) : this[t(484)](e.children, ![]), n.restore(), e;
  }
}
class Ws extends dt {
  constructor(e) {
    const t = zt;
    super(), this._frames = 0, this._zIndex = rn.HandlerLayerCanvas, yt[t(485)](), this.stage = e, this[t(493)] = new D(), yt.back(), this[t(500)](this[t(493)]), this.axis.visible = ![], this.visible = !![], this.setRender(new $o(e, this)), this[t(493)][t(496)](we.getStyle("SelectArea")), this.areaBox.hide();
  }
  showAreaBox() {
    const e = zt, t = this.stage.inputSystem, n = this.areaBox;
    let s = this.stage[e(504)][e(475)];
    n[e(496)](s.getStyle(e(486)));
    let i = t.mouseDownX, r = t.mouseDownY, o = t.x, a = t.y, c = Math.abs(i - o), l = Math[e(497)](r - a), h = Math.min(i, o), f = Math.min(r, a);
    return n.resizeTo(c, l), n[e(502)](h, f), n[e(476)](c * 0.5, l * 0.5), this.areaBox.show(), new j(h, f, n.width, n.height);
  }
  [zt(501)](e) {
    this.areaBox.hide();
  }
  _calc_originInParent() {
    return [0, 0];
  }
  update() {
    const e = zt;
    return this[e(482)] = !![], !![];
  }
  [zt(491)](e) {
    const t = zt;
    if (Mi == null)
      return;
    e.save(), e[t(505)] = 0.6, e[t(479)] = "bold 16px arial";
    let n = Qo(Mi);
    e[t(483)] = "white", e[t(490)](n, 16, this.render.getHeight() - 16), e.restore();
  }
}
Ko([d("HandlerLayer")], Ws.prototype, zt(481), 2);
const te = wx;
(function(x, e) {
  const t = wx, n = x();
  for (; []; )
    try {
      if (-parseInt(t(258)) / 1 * (-parseInt(t(252)) / 2) + -parseInt(t(265)) / 3 + parseInt(t(271)) / 4 + -parseInt(t(261)) / 5 * (parseInt(t(281)) / 6) + parseInt(t(260)) / 7 * (parseInt(t(273)) / 8) + parseInt(t(276)) / 9 * (parseInt(t(251)) / 10) + parseInt(t(280)) / 11 * (-parseInt(t(256)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(vx, 881213);
function wx(x, e) {
  const t = vx();
  return wx = function(n, s) {
    return n = n - 251, t[n];
  }, wx(x, e);
}
function vx() {
  const x = ["8mFYpxM", "addEventListener", "left", "9hZDVMs", "display", "string", "jtopo", "1131889LPMdqN", "12mCoOIV", "requestFullscreen", "pageXOffset", "setAttribute", "ownerDocument", "forEach", "body", "right", "clientTop", "webkitRequestFullscreen", "12351770qwwTmE", "2QWoXIw", "clientLeft", "type", "pageY", "204Lmhoaz", "getBoundingClientRect", "1302529xhqfOc", "clientY", "3284155gHmGef", "232340YYeEqF", "scrollLeft", "top", "fullScreen", "2136291PebxUM", "getOffsetPosition", "msRequestFullscreen", "pageYOffset", "appendChild", "touches", "1714632wmoMIu", "src"];
  return vx = function() {
    return x;
  }, vx();
}
const Sr = class {
  static [te(274)](x, e, t) {
    let n = x.attachEvent || x.addEventListener;
    Ct.isFirefox() && e == "mousewheel" ? e = "DOMMouseScroll" : window.attachEvent && e.substring(0, 2) !== "on" && (e = "on" + e), n.call(x, e, t);
  }
  static [te(266)](x) {
    const e = te;
    if (x == null)
      return { left: 0, top: 0 };
    let t = 0, n = 0;
    if (x.getBoundingClientRect != null) {
      let s = x[e(257)](), i = x[e(285)], r = i.body, o = i.documentElement, a = o.clientTop || r[e(289)] || 0, c = o[e(253)] || r.clientLeft || 0;
      t = s[e(263)] + (window[e(268)] || o && o.scrollTop || r.scrollTop) - a, n = s[e(275)] + (window[e(283)] || o && o[e(262)] || r[e(262)]) - c;
    } else
      do
        t += x.offsetTop || 0, n += x.offsetLeft || 0, x = x.offsetParent;
      while (x);
    return { left: n, top: t };
  }
  static createVideo(x, e) {
    const t = te;
    if (typeof x == t(278)) {
      let n = document.createElement("video");
      n.muted = "muted", n.style[t(277)] = "none";
      let s = document.createElement("source");
      return s[t(284)]("_source", t(279)), s[t(254)] = "video/mp4", s[t(272)] = x, n.appendChild(s), document.body[t(269)](n), n.oncanplay = function() {
        e(n);
      }, n;
    } else
      return x;
  }
  static fullWindow(x) {
    const e = te;
    let t = "position,width,height,left,top,bottom,right,zIndex".split(",");
    if (x.fullScreen == !![]) {
      let n = x._backup;
      t[e(286)]((s) => {
        x.style[s] = n[s];
      }), x.fullScreen = ![];
    } else {
      let n = {};
      t.forEach((s) => {
        n[s] = x.style[s];
      }), x._backup = n, x.style.position = "fixed", x.style.left = 0, x.style.top = 0, x.style.bottom = 0, x.style[e(288)] = 0, x.style.zIndex = rn.FullWindowDom, x[e(264)] = !![];
    }
  }
  static [te(264)](x) {
    const e = te;
    x[e(282)] ? x.requestFullscreen() : x.mozRequestFullScreen ? x.mozRequestFullScreen() : x.webkitRequestFullscreen ? x[e(290)]() : x.msRequestFullscreen && x[e(267)]();
  }
  static getXYInDom(x, e) {
    const t = te;
    let n = e[t(270)][0].pageX, s = e.touches[0][t(255)];
    e[t(270)][0].pageX == null && (n = e[t(270)][0].clientX + document.body[t(262)] - document[t(287)].clientLeft, s = e.touches[0][t(259)] + document.body.scrollTop - document.body.clientTop);
    let i = Sr.getOffsetPosition(x), r = n - i.left, o = s - i.top;
    return { x: r, y: o };
  }
};
let Be = Sr;
Be.isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);
function kx() {
  const x = ["12235OrpZFz", "198hqSQfU", "9906UWAbli", "276AwqylU", "46mzeNqc", "stage", "9fkovOK", "101096BrNtRY", "6UQMqXy", "1266384YoAZVm", "576276ukDmKQ", "1467179JFCaqE", "886700tKYgaJ"];
  return kx = function() {
    return x;
  }, kx();
}
(function(x, e) {
  const t = Px, n = x();
  for (; []; )
    try {
      if (-parseInt(t(331)) / 1 * (parseInt(t(329)) / 2) + -parseInt(t(335)) / 3 * (-parseInt(t(334)) / 4) + -parseInt(t(327)) / 5 * (parseInt(t(330)) / 6) + -parseInt(t(325)) / 7 + -parseInt(t(323)) / 8 + -parseInt(t(333)) / 9 * (parseInt(t(326)) / 10) + -parseInt(t(328)) / 11 * (-parseInt(t(324)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(kx, 117997);
function Px(x, e) {
  const t = kx();
  return Px = function(n, s) {
    return n = n - 323, t[n];
  }, Px(x, e);
}
const Or = { execute(x, e) {
  const t = Px;
  if (x == null)
    return;
  new Function("return " + x)()(e[t(332)], e, wt);
} }, Lr = Ox;
function Sx() {
  const x = ["76668dBOJVY", "5XzBInG", "20OGXwPa", "2109024oXvsPJ", "112773pKzIeW", "4296726tEUYig", "359982pPZoqH", "createElement", "805684cSOAll", "1422337ArnuTo", "get"];
  return Sx = function() {
    return x;
  }, Sx();
}
(function(x, e) {
  const t = Ox, n = x();
  for (; []; )
    try {
      if (parseInt(t(509)) / 1 + parseInt(t(505)) / 2 * (-parseInt(t(507)) / 3) + parseInt(t(500)) / 4 * (-parseInt(t(504)) / 5) + parseInt(t(503)) / 6 + parseInt(t(501)) / 7 + -parseInt(t(506)) / 8 + parseInt(t(508)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Sx, 212406);
let ta = `
<svg viewBox="0 0 24 24" id="zoom-in">
<path d="M4,20 L9.58788778,14.4121122"/>
<path d="M14,16 C10.6862915,16 8,13.3137085 8,10 C8,6.6862915 10.6862915,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,13.3137085 17.3137085,16 14,16 Z"/>
<path d="M16.6666667 10L11.3333333 10M14 7.33333333L14 12.6666667"/>
</svg>
<svg viewBox="0 0 24 24" id="zoom-out">
<path d="M14,16 C10.6862915,16 8,13.3137085 8,10 C8,6.6862915 10.6862915,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,13.3137085 17.3137085,16 14,16 Z"/>
<path d="M16.6666667 10L11.3333333 10M4 20L9.58788778 14.4121122"/>
</svg>
<svg viewBox="0 0 24 24" id="back-left">
<path d="M5,17 L5,15 C5,10.0294373 8.80557963,6 13.5,6 C18.1944204,6 22,10.0294373 22,15"/>
<polyline points="8 15 5 18 2 15"/>
</svg>
<svg viewBox="0 0 24 24" id="align-center">
<path d="M8 10L16 10M6 6L18 6M6 14L18 14M8 18L16 18"/>
</svg>
<svg viewBox="0 0 24 24" id="edit">
<path d="M18.4142136 4.41421356L19.5857864 5.58578644C20.366835 6.36683502 20.366835 7.63316498 19.5857864 8.41421356L8 20 4 20 4 16 15.5857864 4.41421356C16.366835 3.63316498 17.633165 3.63316498 18.4142136 4.41421356zM14 6L18 10"/>
</svg>
<svg viewBox="0 0 24 24" id="lock-alt">
<rect width="14" height="10" x="5" y="11"/>
<path d="M12,3 L12,3 C14.7614237,3 17,5.23857625 17,8 L17,11 L7,11 L7,8 C7,5.23857625 9.23857625,3 12,3 Z"/>
<circle cx="12" cy="16" r="1"/>
</svg>
<svg viewBox="0 0 24 24" id="lock-open">
<path d="M7,7.625 L7,7 C7,4.23857625 9.23857625,2 12,2 L12,2 C14.7614237,2 17,4.23857625 17,7 L17,11"/>
<rect width="14" height="10" x="5" y="11"/>
</svg>
<svg viewBox="0 0 24 24" id="pan">
<path d="M20,14 L20,17 C20,19.209139 18.209139,21 16,21 L10.0216594,21 C8.75045497,21 7.55493392,20.3957659 6.80103128,19.3722467 L3.34541668,14.6808081 C2.81508416,13.9608139 2.94777982,12.950548 3.64605479,12.391928 C4.35756041,11.8227235 5.38335813,11.8798792 6.02722571,12.5246028 L8,14.5 L8,13 L8.00393081,13 L8,11 L8.0174523,6.5 C8.0174523,5.67157288 8.68902517,5 9.5174523,5 C10.3458794,5 11.0174523,5.67157288 11.0174523,6.5 L11.0174523,11 L11.0174523,4.5 C11.0174523,3.67157288 11.6890252,3 12.5174523,3 C13.3458794,3 14.0174523,3.67157288 14.0174523,4.5 L14.0174523,11 L14.0174523,5.5 C14.0174523,4.67157288 14.6890252,4 15.5174523,4 C16.3458794,4 17.0174523,4.67157288 17.0174523,5.5 L17.0174523,11 L17.0174523,7.5 C17.0174523,6.67157288 17.6890252,6 18.5174523,6 C19.3458794,6 20.0174523,6.67157288 20.0174523,7.5 L20.0058962,14 L20,14 Z"/>
</svg>
<svg viewBox="0 0 24 24" id="apps-alt">
<rect x="5" y="5" width="2" height="2"/>
<rect x="11" y="5" width="2" height="2"/>
<rect x="17" y="5" width="2" height="2"/>
<rect x="5" y="11" width="2" height="2"/>
<rect x="11" y="11" width="2" height="2"/>
<rect x="17" y="11" width="2" height="2"/>
<rect x="5" y="17" width="2" height="2"/>
<rect x="11" y="17" width="2" height="2"/>
<rect x="17" y="17" width="2" height="2"/>
</svg>
<svg viewBox="0 0 24 24" id="maximise">
<polyline points="21 16 21 21 16 21"/>
<polyline points="8 21 3 21 3 16"/>
<polyline points="16 3 21 3 21 8"/>
<polyline points="3 8 3 3 8 3"/>
</svg>
<svg viewBox="0 0 24 24" id="minimise">
<polyline points="8 3 8 8 3 8"/>
<polyline points="21 8 16 8 16 3"/>
<polyline points="3 16 8 16 8 21"/>
<polyline points="16 21 16 16 21 16"/>
</svg>
<svg viewBox="0 0 24 24" id="download">
<path d="M12,3 L12,16"/>
<polyline points="7 12 12 17 17 12"/>
<path d="M20,21 L4,21"/>
</svg>
<svg viewBox="0 0 24 24" id="rectangle">
<rect width="18" height="18" x="3" y="3"/>
</svg>
<svg viewBox="0 0 24 24" id="cursor">
<polygon points="7 20 7 4 19 16 12 16 7 21"/>
</svg>
<svg viewBox="0 0 24 24" id="search">
<path d="M14.4121122,14.4121122 L20,20"/>
<circle cx="10" cy="10" r="6"/>
</svg>
<svg viewBox="0 0 24 24" id="eye">
<path d="M22 12C22 12 19 18 12 18C5 18 2 12 2 12C2 12 5 6 12 6C19 6 22 12 22 12Z"/>
<circle cx="12" cy="12" r="3"/>
</svg>
<svg viewBox="0 0 24 24" id="save">
<path d="M17.2928932,3.29289322 L21,7 L21,20 C21,20.5522847 20.5522847,21 20,21 L4,21 C3.44771525,21 3,20.5522847 3,20 L3,4 C3,3.44771525 3.44771525,3 4,3 L16.5857864,3 C16.8510029,3 17.1053568,3.10535684 17.2928932,3.29289322 Z"/>
<rect width="10" height="8" x="7" y="13"/>
<rect width="8" height="5" x="8" y="3"/>
</svg>
<svg viewBox="0 0 24 24" id="image">
<rect width="18" height="18" x="3" y="3"/>
<path stroke-linecap="round" d="M3 14l4-4 11 11"/>
<circle cx="13.5" cy="7.5" r="2.5"/>
<path stroke-linecap="round" d="M13.5 16.5L21 9"/>
</svg>
<svg viewBox="0 0 24 24" id="upload">
<path d="M12,4 L12,17"/>
<polyline points="7 8 12 3 17 8"/>
<path d="M20,21 L4,21"/>
</svg>
`, Cr = document[Lr(499)]("div");
Cr.innerHTML = ta;
let mi = {};
function Ox(x, e) {
  const t = Sx();
  return Ox = function(n, s) {
    return n = n - 499, t[n];
  }, Ox(x, e);
}
mi[Lr(502)] = function(x) {
  return Cr.querySelector("#" + x);
};
const tt = V0;
function V0(x, e) {
  const t = Lx();
  return V0 = function(n, s) {
    return n = n - 149, t[n];
  }, V0(x, e);
}
(function(x, e) {
  const t = V0, n = x();
  for (; []; )
    try {
      if (parseInt(t(188)) / 1 * (-parseInt(t(163)) / 2) + parseInt(t(198)) / 3 * (-parseInt(t(162)) / 4) + -parseInt(t(174)) / 5 + parseInt(t(165)) / 6 + parseInt(t(167)) / 7 * (-parseInt(t(186)) / 8) + parseInt(t(189)) / 9 + parseInt(t(183)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Lx, 844525);
function xt(x) {
  return mi.get(x).outerHTML;
}
let Er = ' style="display:none" ';
Er = "";
function Lx() {
  const x = [`</button>
<input title="查找" type="text" placeholder="查找" value=""></input>
<button class="item" iconId='search'>`, "toLocaleString", "onkeydown", "stage", 'input[type="file"]', "setMode", "5153210UlFMDB", "button", "removeAllActive", "change", "getAttribute", "maximise", "name", "onload", ".json", "10021800PGqkPw", "domObj", "select", "8MFzIPo", "div", "2PebWIT", "8755155cwLDBb", "Enter", "display", "querySelector", "要保存的文件名：", "text", "fullWindow", "initToolbar", "edit", "3YXtPOe", "activeBtn", "length", `</button>
<button title="缩小"  class="item" iconId='zoom-out'>`, "getCurrentLayer", "upload", "lock-alt", "button[iconid='edit']", "toFileJson", `
<div class="group">
<button title="默认" class="item active" group='mode' iconId='cursor'>`, "showOverview", "jtopo_toolbar", "active", '<input type="file"/>', "readAsText", "innerHTML", "4010928mWlwCr", "110534ugWqMX", "back-left", "6974964cbVGwY", "update", "1043252snPJwW"];
  return Lx = function() {
    return x;
  }, Lx();
}
var ea = tt(155) + xt("cursor") + `</button>
<button title="编辑模式" edit="true" class="item" group='mode' iconId='edit' ` + Er + ">" + xt(tt(197)) + `</button>
<button title="框选模式" class="item" group='mode' iconId='rectangle'>` + xt("rectangle") + `</button>
<button title="拖拽模式"  class="item" group='mode' iconId='pan'>` + xt("pan") + `</button>
<button title="锁定模式" class="item" group='mode' iconId='lock-alt'>` + xt(tt(152)) + `</button>
</div>

<div class="group">
<button title="放大"  class="item" iconId='zoom-in'>` + xt("zoom-in") + tt(149) + xt("zoom-out") + `</button>
<button title="居中" class="item" iconId='align-center'>` + xt("align-center") + `</button>
<button title="缩放至画布" class="item" iconId='minimise'>` + xt("minimise") + `</button>
<button title="取消缩放" class="item" iconId='back-left'>` + xt(tt(164)) + `</button>
</div>

<div class="group">
<button title="缩略图" class="item" iconId='eye'>` + xt("eye") + `</button>
<button title="浏览器全屏" class="item" iconId='maximise'>` + xt(tt(179)) + tt(168) + mi.get("search").outerHTML + `</button>
</div>

<div class="group">
<button title="导出PNG" class="item" iconId='image'>` + xt("image") + `</button>
<button title="打开本地文件" class="item" iconId='upload'>` + xt(tt(151)) + `</button>
<button title="保存到本地" class="item" iconId='save'>` + xt("save") + `</button>
<div style="display:none;"><input type="file"/></div>
</div>
`;
class Tr {
  constructor(e) {
    const t = tt;
    this.imageToBase64 = !![], this.stage = e, this[t(196)](e, ea);
    let n = this;
    setTimeout(function() {
      n.initActiveStatus();
    }, 200);
  }
  getDom() {
    return this.domObj;
  }
  show() {
    const e = tt;
    this[e(184)].style[e(191)] = "block";
  }
  hide() {
    this.domObj.style.display = "none";
  }
  remove() {
    this.domObj.remove();
  }
  getHeigth() {
    const e = tt;
    return this.domObj.style[e(191)] == "none" ? 0 : this.domObj.clientHeight + 1;
  }
  initActiveStatus() {
    const e = tt;
    if (this[e(171)].mode == e(197)) {
      let n = document.querySelector(e(153));
      this.activeBtn(n);
    }
  }
  [tt(196)](e, t) {
    const n = tt;
    let s = this, i = document.createElement(n(187));
    this[n(184)] = i, i.classList.add(n(157)), i[n(161)] = t;
    let r = i.querySelectorAll(n(175));
    this.buttons = r;
    let o = i[n(192)]('input[type="file"]'), a = o.parentNode;
    function c(p) {
      const m = n;
      a[m(161)] = m(159), l();
      let _ = p.target.files[0];
      const L = new FileReader();
      L[m(160)](_), L[m(181)] = function() {
        const P = m, E = s.stage[P(150)](), q = this.result;
        try {
          E.openJson(q), E.translate(0, 0), E.scaleTo(1, 1), document.title = _[P(180)];
        } catch (K) {
          console.log(K), alert("加载出现错误");
        }
      };
    }
    function l() {
      const p = n;
      o = i.querySelector(p(172)), o.addEventListener(p(177), c);
    }
    l(), this.fileInput = o;
    function h() {
      const p = n;
      let m = e.getCurrentLayer(), _ = i[p(192)]('input[type="text"]').value;
      if (_[p(200)] > 0) {
        let L = m.displayList;
        for (let P = 0; P < L[p(200)]; P++) {
          const E = L[P];
          if (E.text != null && E[p(194)].indexOf(_) != -1) {
            m.centerBy(E, 10), e.effectSystem.flash(E).play(), e.editor != null ? e.editor.update() : e[p(166)]();
            return;
          }
        }
      }
    }
    let f = { cursor: function() {
      e[n(173)]("normal");
    }, rectangle: function() {
      const p = n;
      e.setMode(p(185));
    }, pan: function() {
      e[n(173)]("drag");
    }, edit: function() {
      e[n(173)]("edit");
    }, "lock-alt": function() {
      e[n(173)]("view");
    }, eye: function() {
      const p = n;
      e.overview == null || e.overview.visible == ![] ? e[p(156)]() : e.hideOverview();
    }, "zoom-in": function() {
      e.zoomIn();
    }, "zoom-out": function() {
      e.zoomOut();
    }, "back-left": function() {
      e.cancelZoom();
    }, minimise: function() {
      e.zoomFullStage();
    }, "align-center": function() {
      e.translateToCenter();
    }, maximise: function() {
      e[n(195)]();
    }, image: function() {
      e.saveImageInfo();
    }, save: function() {
      const p = n;
      let m = prompt(p(193)), _ = s.imageToBase64;
      if (m != null) {
        let L = e.getCurrentLayer(), P = L.toFileJson({ info: { date: (/* @__PURE__ */ new Date())[p(169)](), fileName: m }, imageToBase64: _ });
        e.download(m + p(182), P);
      }
    }, upload: function() {
      o.click();
    }, search: h };
    i[n(192)]("input")[n(170)] = function(p) {
      const m = n;
      p.key == m(190) && h();
    }, i.querySelector("input").ondblclick = function(p) {
      const m = n;
      if (!p.shiftKey)
        return;
      console.log("reloadJsonTest");
      let _ = e[m(150)]();
      _.openJson(_[m(154)]()).then((L) => {
        Or.execute(L.script, _);
      });
    };
    function g(p) {
      p.onclick = function() {
        const m = V0;
        let _ = p[m(178)]("iconId");
        f[_](), s[m(199)](p);
      };
    }
    for (var b = 0; b < r.length; b++) {
      let p = r[b];
      g(p);
    }
  }
  activeBtn(e) {
    const t = tt;
    let n = e.getAttribute("group");
    n != null && (this[t(176)](n), e.classList.add(t(158)));
  }
  removeAllActive(e) {
    const t = tt;
    let n = this.buttons;
    for (var s = 0; s < n[t(200)]; s++) {
      let i = n[s];
      e == i.getAttribute("group") && i.classList.remove("active");
    }
  }
}
const pt = ae;
(function(x, e) {
  const t = ae, n = x();
  for (; []; )
    try {
      if (parseInt(t(190)) / 1 * (-parseInt(t(187)) / 2) + -parseInt(t(196)) / 3 + parseInt(t(188)) / 4 + parseInt(t(203)) / 5 * (parseInt(t(198)) / 6) + -parseInt(t(186)) / 7 + -parseInt(t(202)) / 8 + -parseInt(t(207)) / 9 * (-parseInt(t(197)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Cx, 406652);
class ve {
  constructor() {
    const e = ae;
    this[e(184)] = [];
  }
  [pt(200)](e) {
    return this.observers.forEach((t) => {
      typeof t == "function" ? t(e) : t[ae(199)] && t.next(e);
    }), this;
  }
  complete() {
    return this.observers.forEach((e) => {
      typeof e == "function" || e.complete && e.complete();
    }), this;
  }
  error(e) {
    const t = pt;
    return this.observers[t(201)]((n) => {
      const s = t;
      typeof n == s(189) || n[s(195)] && n[s(195)](e);
    }), this;
  }
  subscribe(e) {
    const t = pt;
    if (this.observers.indexOf(e) != -1)
      throw new Error(t(192));
    return this.observers.push(e), this;
  }
  build(e) {
    let t = new ve();
    return this.subscribe((n) => {
      e(t, n);
    }), t;
  }
  filter(e) {
    return this.build((t, n) => {
      const s = ae;
      e(n) && t[s(200)](n);
    });
  }
  map(e) {
    return this[pt(193)]((n, s) => {
      n.publish(e(s));
    });
  }
  reduce(e, t) {
    const n = pt;
    let s = t, i = !![];
    return this[n(193)]((r, o) => {
      i && t == null ? (i = ![], s = o) : s = e(o, s), r.publish(s);
    });
  }
  distinct() {
    const e = pt;
    let t = e(204);
    return this[e(193)]((n, s) => {
      t !== s && (t = s, n.publish(s));
    });
  }
  [pt(206)](e) {
    let t;
    return this.build((n, s) => {
      t != null && clearTimeout(t), t = setTimeout(() => {
        n.publish(s);
      }, e);
    });
  }
  delay(e) {
    return this[pt(193)]((n, s) => {
      setTimeout(() => {
        n.publish(s);
      }, e);
    });
  }
  [pt(185)](e = 2) {
    return this[pt(194)](e, 1);
  }
  bufferCount(e, t = 1) {
    let n = [];
    return this.build((s, i) => {
      if (n.push(i), n.length == e) {
        s.publish(n);
        for (let r = 0; r < t; r++)
          n.shift();
      }
    });
  }
  [pt(191)]() {
    this.observers.length = 0;
  }
  static fromEvent(e, t) {
    let n = new ve(), s = (i) => {
      n[ae(200)](i);
    };
    return e.addEventListener(t, s), n.unsubscribe = () => {
      e.removeEventListener(t, s);
    }, n;
  }
  static of(...e) {
    const t = pt;
    let n = new ve(), s;
    return n.subscribe = function(i) {
      return this.observers.push(i), s = setTimeout(() => {
        e.forEach((r) => n.publish(r));
      }, 10), this;
    }, n[t(191)] = () => {
      clearTimeout(s);
    }, n;
  }
}
function ae(x, e) {
  const t = Cx();
  return ae = function(n, s) {
    return n = n - 184, t[n];
  }, ae(x, e);
}
function Cx() {
  const x = ["function", "144077xiUdxH", "unsubscribe", "重复订阅", "build", "bufferCount", "error", "620901bBKfoq", "3620790XzQLZU", "6FqSIUm", "next", "publish", "forEach", "6301040EKsKTf", "582885NiBexx", "-#distinct#-", "filter", "debounceTime", "36OjIZWp", "observers", "pairwise", "784889JLjYrZ", "2kJhLYk", "370240ShLdnS"];
  return Cx = function() {
    return x;
  }, Cx();
}
function i0(x, e) {
  const t = Ex();
  return i0 = function(n, s) {
    return n = n - 319, t[n];
  }, i0(x, e);
}
const Pt = i0;
(function(x, e) {
  const t = i0, n = x();
  for (; []; )
    try {
      if (parseInt(t(332)) / 1 * (parseInt(t(373)) / 2) + -parseInt(t(344)) / 3 * (parseInt(t(324)) / 4) + -parseInt(t(340)) / 5 + parseInt(t(351)) / 6 + parseInt(t(334)) / 7 + -parseInt(t(336)) / 8 * (-parseInt(t(370)) / 9) + parseInt(t(374)) / 10 * (-parseInt(t(322)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ex, 192698);
function Ex() {
  const x = ["offsetY", "isDragStart", "previous", "24BJwtMw", "localView", "isIdle", "touchstart", "button", "drop", "distanceRatio", "13518hesjAg", "dispatchEvent", "touchmove", "idleTimeout", "painted", "mouseover", "canvas", "forceUpdate", "clientX", "touchesDistance", "timeStamp", "selectedGroup", "handlerLayer", "pageX", "_initObserve", "updateTouchInfo", "dragover", "isMouseDown", "mouseout", "18pPXoNS", "touchend", "stage", "38HYiBVx", "40xjOmpS", "subscribe", "publish", "filter", "touchstartHandler", "Handler", "241461pKgvqf", "assign", "62556GfqVTT", "idleTimer", "click", "mouseup", "ctrlKey", "isDraging", "preventDefault", "mouseDownX", "17029eJyxWS", "mousedown", "1541449EJxtsL", "eventObservable", "852848VVyuAS", "clientY", "mousewheel", "type", "1768045JAnrvK"];
  return Ex = function() {
    return x;
  }, Ex();
}
class Ii extends Et {
  constructor() {
    const e = i0;
    super(), this.skipPointerMovePicking = ![], this.wheelZoom = !![], this.mouseDownX = 0, this.mouseDownY = 0, this.x = -1, this.y = -1, this[e(368)] = ![], this.isDragEnd = ![], this[e(329)] = ![], this.isMouseOn = ![], this.isDragStart = ![], this[e(354)] = 50, this.buttons = 0, this.button = 0, this[e(360)] = 0, this[e(350)] = 1, this.eventObservable = new ve();
  }
  get pickedObject() {
    return this.target;
  }
  _initEvent(e) {
    const t = i0;
    this[t(372)] = e, na(this), this._initObserve();
  }
  [Pt(365)]() {
    const e = Pt, t = this, n = this[e(372)];
    t[e(335)].filter((r) => {
      const o = e, a = r[o(339)];
      return n.mode == St.view ? ![] : n[o(345)].mode == o(355) ? ![] : (a == "touchstart" && n[o(358)](), !![]);
    })[e(319)]((r) => {
      const o = e;
      if (n.mode == St.edit && n.editor != null) {
        let c = r.type + o(321);
        if (n.editor[c] && (n.editor[c](r), r instanceof MouseEvent && r.defaultPrevented))
          return ![];
      }
      return !![];
    })[e(375)]((r) => {
      const o = e;
      r.type == o(338) && r.preventDefault();
      let c = r.type + "Handler";
      n[c] && n[c](r), n.overview && (n.overview.dirty = !![]);
    }), t.eventObservable.subscribe((r) => {
      const o = e;
      t.stage.update(), t[o(352)](r);
    });
  }
  [Pt(330)]() {
    this.event && this.event.preventDefault();
  }
  isRightButton() {
    return this[Pt(348)] == 2;
  }
  updateBaseInfo(e, t) {
    const n = Pt, s = Object[n(323)]({}, this);
    this[n(343)] = s, this.event = e, this[n(361)] = e.timeStamp, this[n(339)] = t, this.isDragEnd = ![], this.isIdle = ![];
    let i = this;
    this.idleTimer != null && window.clearTimeout(this.idleTimer), this[n(325)] = setTimeout(function() {
      const r = n;
      i[r(346)] = !![];
    }, this[n(354)]);
  }
  updateMouseInfo(e, t) {
    const n = Pt;
    this.updateBaseInfo(e, t), this.isMouseOn = e.offsetX > 0 && e.offsetY > 0;
    const s = this.previous;
    this.buttons = e.buttons, this.button = e.button, this.x = e.offsetX, this.y = e[n(341)], t == n(333) || t == "touchstart" ? (this.isMouseDown = !![], this.mouseDownX = this.x, this.mouseDownY = this.y) : (t == "mouseup" || t == n(326) || t == n(369) || t == "touchend") && (this.isMouseDown = ![], s.type == "mousemove" && (this.isDragEnd = !![])), this.isDraging = this[n(368)] == !![] && (t == "mousemove" || t == "touchmove" || t == "mousewheel" || t == "mouseenter" || t == "mouseout"), this[n(342)] = this.isDraging && s.isDraging != !![], this.dx = this.x - s.x, this.dy = this.y - s.y;
  }
  updateTouchInfo(e, t) {
    const n = Pt;
    this.updateBaseInfo(e, t);
    const s = this[n(343)], r = this.stage[n(363)].render.canvas.getBoundingClientRect(), o = r.left, a = r.top;
    if (t != "touchend") {
      const c = e.touches[0], l = c[n(359)] - o, h = c[n(337)] - a;
      this.x = l, this.y = h;
    }
    if (t == n(347) ? (this[n(368)] = !![], this[n(331)] = this.x, this.mouseDownY = this.y, this[n(360)] = 0, this[n(350)] = 1) : t == n(371) && (this.isMouseDown = ![], s && s.type == "touchmove" && (this.isDragEnd = !![]), this[n(360)] = 0, this[n(350)] = 1), this[n(329)] = this.isMouseDown == !![] && t == n(353), this[n(342)] = this[n(329)] && s[n(329)] != !![], this.dx = this.x - s.x, this.dy = this.y - s.y, t == "touchmove" && e.touches.length >= 2) {
      const c = e.touches[0], l = e.touches[1], h = xa(c, l);
      this.touchesDistance != 0 && (this[n(350)] = h / this.touchesDistance), this.touchesDistance = h;
    }
    e.preventDefault();
  }
  _onEvent(e) {
    const t = Pt, n = this, s = e.type;
    e instanceof MouseEvent ? n.updateMouseInfo(e, s) : n[t(366)](e, s), n.eventObservable[t(376)](e);
  }
  pickObject(e) {
    const t = Pt, n = this.stage, s = this;
    let i = s.event || { type: "mousedown", ctrlKey: ![], metaKey: ![] };
    if (n.inputSystem.target = e, e == null)
      return;
    e.matrixDirty = !![], s.type == "mousedown" ? e.mousedownHandler.call(e, s) : i[t(339)] == t(347) && e[t(320)].call(e, s);
    const r = i[t(328)] || i.metaKey;
    n[t(362)].has(e) ? r && n.selectedGroup.remove(e) : (!r && n.selectedGroup.removeAll(), n.selectedGroup.add(e));
  }
}
function na(x) {
  const e = Pt;
  let t = x[e(372)], n = t[e(363)].render[e(357)];
  ["mouseenter", "mouseout", e(356), e(333), e(327), "mousemove", "mousewheel", "click", "dblclick", "dragstart", "dragend", e(367), e(349), "touchstart", "touchmove", "touchend"].map(function(i) {
    Be.addEventListener(n, i, function(r) {
      x._onEvent(r);
    });
  });
}
function xa(x, e) {
  const t = Pt, n = e.pageX - x[t(364)], s = e.pageY - x.pageY;
  return Math.sqrt(n * n + s * s);
}
function J0(x, e) {
  const t = Tx();
  return J0 = function(n, s) {
    return n = n - 460, t[n];
  }, J0(x, e);
}
function Tx() {
  const x = ["Alt", "sendKey", "delete", "editor", "disable", "unbind", "1418460lPXfuW", "isKeydown", "preventDefault", "keyup", "isKeyRegistered", "keyupOb", "join", "altKey", "210723aXqiDB", "get", "23094rfymdf", "1366080SBKwoo", "push", "bufferCount", "fromEvent", "alt", "getKeyBinding", "1516zWBgzA", "set", "2264HPSKco", "enable", "8441503LvvTva", "checkValid", "toLowerCase", "split", "292BXWVxX", "bindKey", "debug", "regMap", "Control", "keyBufferOb", "sort", "70125nqXebX", "filter", "keydown", "shift", "key", "4383fePeSW", "dispatchEvent", "control"];
  return Tx = function() {
    return x;
  }, Tx();
}
const G = J0;
(function(x, e) {
  const t = J0, n = x();
  for (; []; )
    try {
      if (parseInt(t(462)) / 1 + parseInt(t(471)) / 2 * (-parseInt(t(491)) / 3) + -parseInt(t(479)) / 4 * (-parseInt(t(486)) / 5) + parseInt(t(500)) / 6 + parseInt(t(475)) / 7 + -parseInt(t(473)) / 8 * (parseInt(t(464)) / 9) + parseInt(t(465)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Tx, 979879);
class Ar extends Et {
  constructor(e) {
    const t = J0;
    super(), this[t(481)] = ![], this._disabled = ![], this.regMap = /* @__PURE__ */ new Map(), this.keyMap = /* @__PURE__ */ new Map(), this.stage = e, this.init(), this.debug = ![];
  }
  [G(498)]() {
    this._disabled = !![];
  }
  [G(474)]() {
    this._disabled = ![];
  }
  isControlDown() {
    const e = G;
    return this[e(501)](e(483));
  }
  isShiftDown() {
    return this.isKeydown("Shift");
  }
  isAltDown() {
    const e = G;
    return this.isKeydown(e(494));
  }
  isMetaDown() {
    return this.isKeydown("Meta");
  }
  [G(480)](e, t) {
    const n = G;
    let s = e.toLowerCase().split("+").sort()[n(460)]("+");
    this.regMap.set(s, t);
  }
  [G(504)](e) {
    return this[G(470)](e) != null;
  }
  getKeyBinding(e) {
    const t = G;
    let n = e.toLowerCase()[t(478)]("+").sort().join("+");
    return this[t(482)][t(463)](n);
  }
  unBind(e) {
    return this[G(499)](e);
  }
  unbind(e) {
    const t = G;
    let n = e.toLowerCase().split("+")[t(485)]().join("+");
    this.regMap[t(496)](n);
  }
  [G(501)](e) {
    return this.keyMap.get(e.toLowerCase());
  }
  [G(495)](e, t) {
    const n = G;
    t == null && (t = new KeyboardEvent(n(488)), t.mock = !![]), this.fireKey(e[n(477)]().split("+"), t, !![]);
  }
  [G(476)]() {
    let e = document.activeElement.tagName;
    return this._disabled || e == "INPUT" || e == "TEXTAREA" ? ![] : !![];
  }
  fireKey(e, t, n) {
    const s = G;
    if (n == ![])
      return;
    const i = this;
    let r = this.stage, o = r[s(497)], a = e.sort().join("+").toLowerCase();
    this.debug && console.log("按下", a);
    let c = this[s(482)].keys();
    for (let l of c) {
      if (l != a || o != null && o.textInputMode == !![])
        continue;
      t[s(502)]();
      let h = i.regMap[s(463)](l);
      h && h(t);
    }
  }
  keydownHandler(e) {
    const t = G;
    let n = e.key.toLowerCase(), s = this.stage, i = [];
    e.ctrlKey && (this.keyMap.set("control", !![]), i.push(t(493))), e[t(461)] && (this.keyMap.set(t(469), !![]), i[t(466)](t(469))), e.shiftKey && (this.keyMap.set(t(489), !![]), i.push(t(489))), e.metaKey && (this.keyMap[t(472)]("meta", !![]), i[t(466)]("meta")), i.indexOf(n) == -1 && i.push(n), this.keyMap[t(472)](n, !![]);
    let r = ni(e);
    this.fireKey(i, r, s.inputSystem.isMouseOn), this.dispatchEvent(r);
  }
  keyupHandler(e) {
    const t = G, n = this, s = e.key.toLowerCase();
    n.keyMap.delete(s);
    let i = n.stage.editor;
    if (i != null && i.textInputMode == !![])
      return;
    let r = ni(e);
    n[t(492)](r);
  }
  init() {
    const e = G;
    let t = this, n = ve.fromEvent(document, "keydown"), s = ve[e(468)](document, e(503)), i = n[e(487)](() => this[e(476)]()), r = s.filter(() => this[e(476)]());
    i.subscribe((o) => {
      t.keydownHandler(o);
    }), r.subscribe((o) => {
      t.keyupHandler(o);
    }), this.keydownOb = i, this[e(505)] = r, this[e(484)] = i.map((o) => o[e(490)])[e(467)](2, 1).map((o) => o[0] + "" + o[1]);
  }
}
const y0 = ke;
(function(x, e) {
  const t = ke, n = x();
  for (; []; )
    try {
      if (-parseInt(t(415)) / 1 + -parseInt(t(412)) / 2 + -parseInt(t(401)) / 3 * (-parseInt(t(421)) / 4) + parseInt(t(406)) / 5 * (parseInt(t(404)) / 6) + -parseInt(t(408)) / 7 * (-parseInt(t(402)) / 8) + -parseInt(t(417)) / 9 + parseInt(t(414)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ax, 266877);
function ke(x, e) {
  const t = Ax();
  return ke = function(n, s) {
    return n = n - 401, t[n];
  }, ke(x, e);
}
let Bi = new InputEvent(ft.groupdragend), sa = new InputEvent(ft.groupdrag);
class Dr extends Et {
  constructor() {
    super(), this.objects = [], this.isDraging = ![], this.noChildrensObjects;
  }
  isEmpty() {
    return this.objects.length == 0;
  }
  mouseoutHandler(e) {
    const t = ke;
    this.isDraging = ![], !this.isEmpty() && this[t(418)](Bi);
  }
  dragHandler(e) {
    const t = ke;
    if (this.dispatchEvent(sa), e[t(422)] instanceof MouseEvent && e[t(422)][t(416)] == !![])
      return;
    let n = this.getNoChildrensObjects();
    for (var s = 0; s < n[t(419)]; s++) {
      let i = n[s];
      i[t(411)] && i.dragHandler(e);
    }
  }
  dragEndHandler(e) {
    const t = ke;
    this[t(418)](Bi);
    let n = this[t(413)]();
    for (var s = 0; s < n.length; s++) {
      let i = n[s];
      i[t(411)] && i[t(410)](e);
    }
  }
  [y0(413)]() {
    const e = y0;
    return C[e(413)](this[e(407)]);
  }
  addAll(e) {
    for (var t = 0; t < e.length; t++) {
      let n = e[t];
      n.group = this, !z.hasChild(this.objects, n) && (n.selectedHandler && n.selectedHandler(), this.objects.push(n));
    }
    return this;
  }
  add(e) {
    const t = y0;
    return e.group = this, z.hasChild(this.objects, e) ? this : (e[t(420)][t(409)](e), this.objects.push(e), this);
  }
  remove(e) {
    const t = y0;
    return e[t(405)] = void 0, e[t(403)] && e.unselectedHandler(e), z.remove(this.objects, e), this;
  }
  removeAll() {
    const e = y0;
    let t = this.objects;
    for (var n = 0; n < t.length; n++) {
      let s = t[n];
      s[e(405)] = void 0, s.unselectedHandler && s[e(403)]();
    }
    return this.objects.length = 0, this;
  }
  has(e) {
    return z.hasChild(this.objects, e);
  }
}
function Ax() {
  const x = ["call", "dragEndHandler", "draggable", "696750lrcmJK", "getNoChildrensObjects", "1265530zodyIf", "378395pBBasQ", "defaultPrevented", "817821kJLfax", "dispatchEvent", "length", "selectedHandler", "364OSfTwc", "event", "16602zHJlSb", "1740776vwYxQo", "unselectedHandler", "115050hLiHEj", "group", "5IyJeaX", "objects", "14XNZDZZ"];
  return Ax = function() {
    return x;
  }, Ax();
}
function Dx() {
  const x = ["3961380ecMnJr", "8SkDmWn", "checkDom", "3711584hdfWPl", "5275914VptGlQ", "1392652kruvdO", "<li>&nbsp;&nbsp;-Canvas: (x: ", "_obb", "domElement", "6058512RKOgSb", "innerHTML", "length", "style", "height", "] </li>", "<li>Mouse-Layer( x: ", "toFixed", ", y: ", "<li>Nodes: ", "toLayerXY", "258QqTehC", "</li>", "hide", "33765zAEdgZ", "1924968SnCgRd", "origin", ") </li>", "width"];
  return Dx = function() {
    return x;
  }, Dx();
}
const Us = Pe;
(function(x, e) {
  const t = Pe, n = x();
  for (; []; )
    try {
      if (-parseInt(t(386)) / 1 + parseInt(t(384)) / 2 + parseInt(t(377)) / 3 + parseInt(t(381)) / 4 + parseInt(t(376)) / 5 * (parseInt(t(373)) / 6) + parseInt(t(385)) / 7 * (-parseInt(t(382)) / 8) + -parseInt(t(390)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Dx, 958650);
function Pe(x, e) {
  const t = Dx();
  return Pe = function(n, s) {
    return n = n - 363, t[n];
  }, Pe(x, e);
}
class ia {
  constructor(e) {
    this.numberFixed = 0, this.stage = e;
  }
  init() {
    const e = Pe, t = document.createElement("div");
    t.classList.add("jtopo_debugPanel"), this.stage.layersContainer.appendChild(t), this.domElement = t, this[e(375)]();
  }
  start(e = 24) {
    const t = this, n = this.stage;
    function s() {
      const i = Pe;
      if (n.inputSystem.isIdle)
        return;
      let r = n.getChildren(), o = 0, a = 0, c = 0;
      for (var l = 0; l < r.length; l++) {
        let _ = r[l];
        o += _.displayList[i(364)], a += _.getAllNodes().length, c += _.getAllLinks().length;
      }
      let h = Math.ceil(n.inputSystem.x), f = Math.ceil(n.inputSystem.y), g = n.getCurrentLayer(), b = { x: 0, y: 0 };
      g != null && (b = g.stageToLocalXY(h, f));
      const p = n.inputSystem.target;
      let m = "<li>Mouse-Canvas( x: " + h + " y: " + f + ")</li>";
      if (m += i(368) + b.x[i(369)](2) + " y: " + b.y.toFixed(2) + ")</li>", m += i(371) + a + i(374), m += "<li>Links: " + c + "</li>", m += "<li>Total: " + (a + c) + "</li>", m += "<li>Painted: " + o + "</li>", p) {
        m += "<li>Target: id: " + p.id;
        const _ = p[i(388)].aabb, L = p.toStageXY(0, 0), P = p[i(372)](0, 0), E = this.numberFixed;
        m += "<li>_aabb:[x:" + _.x.toFixed(E) + ",y: " + _.y[i(369)](E) + ",w: " + _[i(380)][i(369)](E) + ", h:" + _[i(366)].toFixed(E) + i(367), m += "<li>Origin: [" + p.origin[0].toFixed(E) + ", " + p[i(378)][1].toFixed(E) + "]</li>", m += i(387) + L.x[i(369)](E) + i(370) + L.y.toFixed(E) + ") </li>", p instanceof D && (m += "<li>&nbsp;&nbsp;-Parent: (x: " + p.x.toFixed(E) + ", y: " + p.y.toFixed(E) + i(379)), m += "<li>&nbsp;&nbsp;-Layer:  (x: " + P.x.toFixed(E) + ", y: " + P.y[i(369)](E) + ") </li>";
      }
      ue.debugInfo && (m += "<li>" + ue.debugInfo + "</li>"), t.setContent(m);
    }
    this._timer = setInterval(s, e);
  }
  setContent(e) {
    const t = Pe;
    this[t(389)][t(363)] = e;
  }
  [Us(383)]() {
    this[Us(389)] == null && this.init();
  }
  hide() {
    const e = Us;
    return this[e(383)](), clearInterval(this._timer), this.domElement[e(365)].display = "none", this;
  }
  show(e) {
    return this.checkDom(), this.domElement.style.display = "block", this.start(e), this;
  }
}
const X = q0;
(function(x, e) {
  const t = q0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(180)) / 1 + -parseInt(t(207)) / 2 * (parseInt(t(195)) / 3) + parseInt(t(200)) / 4 + -parseInt(t(171)) / 5 + -parseInt(t(203)) / 6 + -parseInt(t(158)) / 7 * (-parseInt(t(189)) / 8) + -parseInt(t(191)) / 9 * (-parseInt(t(211)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Mx, 197971);
function Mx() {
  const x = ["resizeTo", "paintInterval", "6505780OfcfuB", "rectObj", "moveWith", "30842dWsexs", "render", "show", "handlerLayer", "update", "paint", "hide", "height", "applyTo", "mouseupHandler", "stage", "fill", "target", "121195smHvvk", "right", "domElement", "stroke", "strokeStyle", "bottom", "visible", "inputSystem", "setSize", "366924UvpnFE", "getWidth", "paintDragRect", "exportPaintObjects", "mousewheelHandler", "style", "width", "_computedStyle", "rgba(0,250,50,0.2)", "696kxhMnn", "forEach", "9JXuWtA", "getHeight", "_paintObjects", "restore", "684849tvvSCQ", "max", "layersContainer", "Handler", "getChildren", "545336KEKCVA", "addEventListener", "getExportAABB", "2116902dBTBYg", "_overviewTimer", "length", "absolute", "2bhGseF", "mousedragHandler"];
  return Mx = function() {
    return x;
  }, Mx();
}
function q0(x, e) {
  const t = Mx();
  return q0 = function(n, s) {
    return n = n - 156, t[n];
  }, q0(x, e);
}
class Mr extends Pr {
  constructor(e, t) {
    super(t), this.stage = e;
  }
  dontNeedPickup(e) {
    return !![];
  }
  paintSelected(e) {
  }
  overviewPaint(e) {
    const t = q0;
    let n = this.context;
    if (n.save(), e._doTransform(n), e[t(187)][t(166)](n), Re.flatten) {
      const s = e.flattenList.filter((i) => i._needPaint && i._cameraVisible);
      this._paintFlattenObjects(s);
    } else
      this[t(193)](e.children, !![]);
    n[t(194)]();
  }
  [X(183)](e) {
    const t = X;
    e[0] instanceof dt ? e.forEach((n) => this.overviewPaint(n)) : this[t(193)](e, !![]);
  }
}
class ra {
  constructor(e) {
    const t = X;
    this[t(177)] = ![], this.dirty = !![], this[t(210)] = 500, this[t(168)] = e, this.inputSystem = new Ii(), this.render = new Mr(e);
    let n = this[t(159)].canvas;
    n.style.backgroundColor = "rgba(255,255,255,0.5)", n[t(185)].border = "solid 1px gray", n.style.position = t(206), n.style.zIndex = "" + (e[t(161)].zIndex + 1), n.style.opacity = "0.7", n[t(185)][t(172)] = "0", n.style.left = null, n.style[t(176)] = "0", e[t(197)].appendChild(n), this.canvas = n, this[t(173)] = n, this[t(159)].setSize(200, 200 * 0.618), this[t(156)] = new D(null, 0, 0), this.rectObj.hide(), this.initEvent(), this[t(164)]();
  }
  css(e) {
    if (e == null)
      return this;
    for (let t in e)
      this.canvas.style[t] = e[t];
    return this;
  }
  initEvent() {
    const e = X;
    let t = this, n = ["mousedown", "mouseup", "mousemove", "mousewheel"], s = t[e(159)], i = s.canvas, r = this.inputSystem;
    n.map(function(o) {
      const a = e;
      Be[a(201)](i, o, function(c) {
        const l = a;
        if (c.offsetX < 0 || c.offsetY < 0)
          return;
        r.updateMouseInfo(c, o);
        let h = o + l(198);
        if (t[h] == null)
          throw new Error("Overview has no handler:" + o);
        t[h](c);
      });
    });
  }
  show() {
    const e = X;
    this[e(177)] = !![], this[e(159)][e(160)](), clearInterval(this._overviewTimer);
    let t = this;
    return this._overviewTimer = setInterval(function() {
      t.dirty && t.update();
    }, this.paintInterval), this;
  }
  hide() {
    const e = X;
    return this.visible = ![], this[e(159)].hide(), clearInterval(this[e(204)]), this;
  }
  [X(181)]() {
    return this.render.getWidth();
  }
  getHeight() {
    return this.render.getHeight();
  }
  setSize(e, t) {
    const n = X;
    return this.render[n(179)](e, t);
  }
  paint() {
    const e = X;
    this.dirty = ![];
    let t = this, n = t.stage, s = t[e(159)], i = t.getWidth(), r = t[e(192)](), o = this.stage[e(202)](), a = Math.max(i, o.width), c = Math[e(196)](r, o.height), l = i / a, h = r / c;
    s.clearAll();
    let f = s.context;
    f.save(), f.scale(l, h), f.translate(-o.x, -o.y), n.getChildren().forEach(function(g) {
      s.overviewPaint(g);
    }), f.restore(), this.paintDragRect(f, o);
  }
  [X(182)](e, t) {
    const n = X;
    let s = this.rectObj, i = this[n(168)], r = this.render, o = Math.max(t.width, i[n(186)]), a = Math.max(t.height, i.height), c = i.width / o, l = i[n(165)] / a;
    if (c == 1 && l == 1) {
      s.hide();
      return;
    }
    s.show();
    let h = r.getWidth() * c, f = r[n(192)]() * l;
    s[n(209)](h, f);
    let g = r[n(181)]() / o, b = r[n(192)]() / a, p = -t.x * g, m = -t.y * b;
    p < 0 && (p = 0), m < 0 && (m = 0), p + s.width > r.getWidth() && (p = r.getWidth() - s.width), m + s[n(165)] > r.getHeight() && (m = r[n(192)]() - s.height), s.translateTo(p, m), e.save(), e.lineWidth = 2, e.fillStyle = n(188), e[n(175)] = "red", e.beginPath(), e.rect(s.x, s.y, s.width, s.height), e[n(174)](), e[n(169)](), e.restore();
  }
  [X(162)]() {
    const e = X;
    this.visible && this[e(168)].children[e(205)] > 0 && (this.stage.update(), this[e(163)]());
  }
  mousedownHandler() {
    const e = X;
    let t = this.rectObj.getRect(), n = this.inputSystem.x, s = this.inputSystem.y;
    t.contains(n, s) && (this[e(178)][e(170)] = this.rectObj);
    let i = n - (this.rectObj.x + this[e(156)][e(186)] / 2), r = s - (this[e(156)].y + this.rectObj.height / 2);
    this[e(157)](i, r);
  }
  [X(208)]() {
    const e = X;
    let t = this.inputSystem.dx, n = this[e(178)].dy;
    this.moveWith(t, n), this[e(168)].editor && this.stage.editor.update();
  }
  [X(157)](e, t) {
    const n = X;
    if (!this[n(156)].visible)
      return;
    e < 0 && this.rectObj.x + e <= 0 && (e = -this[n(156)].x), e > 0 && this[n(156)].x + this[n(156)][n(186)] >= this[n(181)]() && (e = this.getWidth() - this.rectObj[n(186)] - this.rectObj.x), t < 0 && this.rectObj.y <= 0 && (t = -this.rectObj.y), t > 0 && this.rectObj.y + this[n(156)].height >= this.getHeight() && (t = this[n(192)]() - this.rectObj[n(165)] - this.rectObj.y), this[n(156)].translateWith(e, t);
    let i = this[n(168)].getExportAABB(), r = i.width, o = i[n(165)], a = r * (e / this.getWidth()), c = o * (t / this.getHeight());
    this[n(168)][n(199)]()[n(190)](function(h, f) {
      h.translateWith(-a, -c);
    });
    let l = this;
    this._updateTimer = setTimeout(function() {
      l.update();
    }, 20), this.stage[n(162)]();
  }
  [X(184)](e) {
    e.preventDefault();
  }
  mousemoveHandler() {
    this[X(178)].isDraging && this.mousedragHandler();
  }
  [X(167)]() {
    const e = X;
    this[e(178)].target = null;
  }
}
const oa = `.jtopo_popoupmenu{padding:10px;border-radius:5px;min-width:210px;background-color:#fff;border:1px solid;position:absolute;z-index:10000}.jtopo_popoupmenu .header{font-size:14px;height:24px;padding-bottom:3px}.jtopo_popoupmenu a{text-rendering:optimizeLegibility;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;padding-left:20px;display:block;height:25px;color:#00000080;font-size:13px;cursor:pointer}.jtopo_popoupmenu a:hover{color:#000}.jtopo_iconsPanel{opacity:.8;padding-left:5px;position:absolute;background-color:#e8e8e8;top:90px;width:52px;height:425px;z-index:1000;border-radius:5px}.jtopo_iconsPanel .item{border:1px solid white;width:42px;height:42px;margin-top:10px}.jtopo_toolbar{border-bottom:1px dotted;padding-bottom:2px;border-color:#e0e0e0;width:100%;min-height:33px;background-color:#e8e8e8}.jtopo_toolbar .group{float:left;margin-right:5px}.jtopo_toolbar .item{float:left;width:32px;height:32px;stroke:gray;stroke-width:1;stroke-linecap:square;stroke-linejoin:miter;fill:none;font-size:12px;color:gray}.jtopo_toolbar .active{background-color:#d3d3d3;border:1px solid black}.jtopo_toolbar input[type=text]{font-size:12px;color:gray;float:left;width:120px;height:26px;border:1px solid white;margin:2px 2px 2px 4px}.jtopo_input_textfield{position:absolute;display:none;font-size:smaller;z-index:10000}.jtopo_tooltip{pointer-events:none;opacity:.9;min-width:30px;min-height:30px;padding:10px;border-radius:5px;background-color:#f8f8f8;border:1px solid;position:absolute;z-index:10000}.jtopo_historyPanel{position:absolute;left:0px;top:100%;width:879px;overflow-x:scroll;height:600px;z-index:1000}.jtopo_debugPanel{user-select:none;border:dashed 1px gray;padding:8px;position:absolute;left:0px;top:0%;width:300px;z-index:98;text-align:left;font-size:10px;color:gray}
`, Yt = et;
(function(x, e) {
  const t = et, n = x();
  for (; []; )
    try {
      if (parseInt(t(431)) / 1 * (parseInt(t(404)) / 2) + parseInt(t(425)) / 3 + parseInt(t(422)) / 4 * (-parseInt(t(398)) / 5) + parseInt(t(419)) / 6 + parseInt(t(396)) / 7 + parseInt(t(420)) / 8 * (-parseInt(t(432)) / 9) + -parseInt(t(409)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Bx, 537252);
function et(x, e) {
  const t = Bx();
  return et = function(n, s) {
    return n = n - 396, t[n];
  }, et(x, e);
}
function aa(x, e, t, n) {
  return t * x / n + e;
}
function ca(x, e, t, n) {
  return t * (x /= n) * x + e;
}
function la(x, e, t, n) {
  return -t * (x /= n) * (x - 2) + e;
}
function ha(x, e, t, n) {
  return (x /= n / 2) < 1 ? t / 2 * x * x + e : -t / 2 * (--x * (x - 2) - 1) + e;
}
function ua(x, e, t, n) {
  return -t * Math.cos(x / n * (Math.PI / 2)) + t + e;
}
function da(x, e, t, n) {
  return t * Math.sin(x / n * (Math.PI / 2)) + e;
}
function fa(x, e, t, n) {
  return -t / 2 * (Math.cos(Math.PI * x / n) - 1) + e;
}
function pa(x, e, t, n) {
  return x == 0 ? e : t * Math.pow(2, 10 * (x / n - 1)) + e;
}
function ga(x, e, t, n) {
  const s = et;
  return x == 0 ? e : x == n ? e + t : (x /= n / 2) < 1 ? t / 2 * Math.pow(2, 10 * (x - 1)) + e : t / 2 * (-Math[s(426)](2, -10 * --x) + 2) + e;
}
function ba(x, e, t, n) {
  return -t * (Math.sqrt(1 - (x /= n) * x) - 1) + e;
}
function ya(x, e, t, n) {
  return t * Math.sqrt(1 - (x = x / n - 1) * x) + e;
}
function _a(x, e, t, n) {
  const s = et;
  return (x /= n / 2) < 1 ? -t / 2 * (Math[s(424)](1 - x * x) - 1) + e : t / 2 * (Math.sqrt(1 - (x -= 2) * x) + 1) + e;
}
function ma(x, e, t, n) {
  return t * (x /= n) * x * x + e;
}
function Ia(x, e, t, n) {
  return t * ((x = x / n - 1) * x * x + 1) + e;
}
function wa(x, e, t, n) {
  return (x /= n / 2) < 1 ? t / 2 * x * x * x + e : t / 2 * ((x -= 2) * x * x + 2) + e;
}
function va(x, e, t, n) {
  return t * (x /= n) * x * x * x + e;
}
function ka(x, e, t, n) {
  return -t * ((x = x / n - 1) * x * x * x - 1) + e;
}
function Bx() {
  const x = ["5377323YPdCLq", "effect", "14335ChPuNI", "delay", "direction", "delayed", "reject", "finished", "62hPYzPZ", "playState", "asin", "none", "timeline", "1257590oSpoqp", "alternate", "system", "animations", "cancel", "fillMode", "promise", "length", "play", "push", "6210252FLYwtf", "1988256lwPxTx", "_getTickAction", "1244HQAUwo", "now", "sqrt", "1329870wkysao", "pow", "resolve", "alternate-reverse", "cancelAll", "isPause", "1733bsmvCI", "27DyfJSO", "reverse", "update", "tick", "playedTimes", "times", "duration", "abs"];
  return Bx = function() {
    return x;
  }, Bx();
}
function Pa(x, e, t, n) {
  return (x /= n / 2) < 1 ? t / 2 * x * x * x * x + e : -t / 2 * ((x -= 2) * x * x * x - 2) + e;
}
function Sa(x, e, t, n) {
  return t * (x /= n) * x * x * x * x + e;
}
function Oa(x, e, t, n) {
  return t * ((x = x / n - 1) * x * x * x * x + 1) + e;
}
function La(x, e, t, n) {
  return (x /= n / 2) < 1 ? t / 2 * x * x * x * x * x + e : t / 2 * ((x -= 2) * x * x * x * x + 2) + e;
}
function Ca(x, e, t, n) {
  const s = et;
  var o = 1.70158, i = 0, r = t;
  if (x == 0)
    return e;
  if ((x /= n) == 1)
    return e + t;
  if (i || (i = n * 0.3), r < Math.abs(t)) {
    r = t;
    var o = i / 4;
  } else
    var o = i / (2 * Math.PI) * Math[s(406)](t / r);
  return -(r * Math.pow(2, 10 * (x -= 1)) * Math.sin((x * n - o) * (2 * Math.PI) / i)) + e;
}
function Ea(x, e, t, n) {
  const s = et;
  var o = 1.70158, i = 0, r = t;
  if (x == 0)
    return e;
  if ((x /= n) == 1)
    return e + t;
  if (i || (i = n * 0.3), r < Math[s(439)](t)) {
    r = t;
    var o = i / 4;
  } else
    var o = i / (2 * Math.PI) * Math.asin(t / r);
  return r * Math.pow(2, -10 * x) * Math.sin((x * n - o) * (2 * Math.PI) / i) + t + e;
}
function Ta(x, e, t, n) {
  const s = et;
  var o = 1.70158, i = 0, r = t;
  if (x == 0)
    return e;
  if ((x /= n / 2) == 2)
    return e + t;
  if (i || (i = n * (0.3 * 1.5)), r < Math.abs(t)) {
    r = t;
    var o = i / 4;
  } else
    var o = i / (2 * Math.PI) * Math.asin(t / r);
  return x < 1 ? -0.5 * (r * Math.pow(2, 10 * (x -= 1)) * Math.sin((x * n - o) * (2 * Math.PI) / i)) + e : r * Math[s(426)](2, -10 * (x -= 1)) * Math.sin((x * n - o) * (2 * Math.PI) / i) * 0.5 + t + e;
}
function Aa(x, e, t, n, s) {
  return s == null && (s = 1.70158), t * (x /= n) * x * ((s + 1) * x - s) + e;
}
function Da(x, e, t, n, s) {
  return s == null && (s = 1.70158), t * ((x = x / n - 1) * x * ((s + 1) * x + s) + 1) + e;
}
function Ma(x, e, t, n, s) {
  return s == null && (s = 1.70158), (x /= n / 2) < 1 ? t / 2 * (x * x * (((s *= 1.525) + 1) * x - s)) + e : t / 2 * ((x -= 2) * x * (((s *= 1.525) + 1) * x + s) + 2) + e;
}
function Br(x, e, t, n) {
  return t - wi(n - x, 0, t, n) + e;
}
function wi(x, e, t, n) {
  return (x /= n) < 1 / 2.75 ? t * (7.5625 * x * x) + e : x < 2 / 2.75 ? t * (7.5625 * (x -= 1.5 / 2.75) * x + 0.75) + e : x < 2.5 / 2.75 ? t * (7.5625 * (x -= 2.25 / 2.75) * x + 0.9375) + e : t * (7.5625 * (x -= 2.625 / 2.75) * x + 0.984375) + e;
}
function Ba(x, e, t, n) {
  return x < n / 2 ? Br(x * 2, 0, t, n) * 0.5 + e : wi(x * 2 - n, 0, t, n) * 0.5 + t * 0.5 + e;
}
let ja = { easeLinear: aa, easeInQuad: ca, easeOutQuad: la, easeInOutQuad: ha, easeInSine: ua, easeOutSine: da, easeInOutSine: fa, easeInExpo: pa, easeInOutExpo: ga, easeInCirc: ba, easeOutCirc: ya, easeInOutCirc: _a, easeInCubic: ma, easeOutCubic: Ia, easeInOutCubic: wa, easeInQuart: va, easeOutQuart: ka, easeInOutQuart: Pa, easeInQuint: Sa, easeOutQuint: Oa, easeInOutQuint: La, easeInElastic: Ca, easeOutElastic: Ea, easeInOutElastic: Ta, easeInBack: Aa, easeOutBack: Da, easeInOutBack: Ma, easeInBounce: Br, easeOutBounce: wi, easeInOutBounce: Ba };
class jr {
  constructor(e, t, n, s) {
    const i = et;
    this[i(438)] = 1e3, this.delay = 0, this.direction = "normal", this[i(414)] = i(407), this.playState = "idle", this.isPause = ![], this[i(403)] = ![], this[i(401)] = ![], this.times = 1, this.playedTimes = 0, this.effect = "easeLinear", this.from = e, this.to = t, n != null && (this.duration = n), this[i(434)] = s;
  }
  set(e, t, n, s) {
    const i = et;
    return this.from = e, this.to = t, this.duration = n, this[i(434)] = s, this;
  }
  setFrom(e) {
    return this.from = e, this;
  }
  setTo(e) {
    return this.to = e, this;
  }
  setAttr(e) {
    return Object.assign(this, e), this;
  }
  onUpdate(e) {
    const t = et;
    return this[t(434)] = e, this;
  }
  cancel() {
    const e = et;
    return this.system && this[e(411)].remove(this), this[e(402)] && (this[e(402)](), this.reject = null), this[e(405)] = "finished", this;
  }
  pause() {
    const e = et;
    return this.playState = "paused", this[e(430)] = !![], this;
  }
  continue() {
    return this.startTime = Date.now() - this.currentTime, this.playState = "running", this.isPause = ![], this;
  }
  tick(e) {
    const t = et;
    if (this.playState != "running")
      return ![];
    let n = e - this.startTime;
    return this.currentTime = n, n >= this.duration ? (this.playState = t(403), this.system.remove(this), this.stepAction(this.duration), this[t(436)] < this[t(437)] ? this[t(417)]() : (this[t(427)](), this.resolve = null, this.onEnd && this.onEnd())) : this.stepAction(n), !![];
  }
  play() {
    const e = et;
    let t = this;
    this[e(411)].add(this), this.playedTimes++, this[e(430)] = ![], this.delay != 0 && this.delayed == ![] ? (setTimeout(function() {
      t.startTime = Date.now(), t.playState = "running";
    }, this[e(399)]), t.delayed = !![]) : (t.startTime = Date[e(423)](), t.playState = "running");
    const n = this;
    let s = this[e(421)]();
    this.stepAction = s;
    let i = this[e(415)];
    return i == null && (i = new Promise(function(r, o) {
      const a = e;
      n[a(427)] == null && (n.resolve = r, n[a(402)] = o);
    }), this.promise = this.promise), i.catch((r) => {
    });
  }
  [Yt(421)]() {
    const e = Yt;
    let t = this[e(397)], n = this.from, s = this.to, i = this.duration, r = this.update, o = n, a = s;
    if (typeof n == "number" && (o = [n], a = [s]), this[e(400)] == e(433) || this.direction == "alternate-reverse") {
      let P = o;
      o = a, a = P;
    }
    let c = o[0];
    const l = Array.isArray(n), h = typeof c == "number", f = c.x != null || c.y != null;
    let g = o.slice(), b, p = ja[t], m = this.direction == e(410) || this.direction == e(428), _ = this, L = this[e(438)] * 0.5;
    if (h)
      b = function(P) {
        const E = e;
        let q = P;
        m && (P > L ? q = _[E(438)] * 2 - q * 2 : q = P * 2);
        for (let K = 0; K < o.length; K++) {
          const vt = o[K], We = a[K], fe = We - vt;
          if (fe == 0)
            g[K] = vt;
          else {
            let u0 = p(q, vt, fe, i);
            g[K] = u0;
          }
        }
        r(l ? g : g[0]);
      };
    else if (f)
      b = function(P) {
        const E = e;
        for (let q = 0; q < o[E(416)]; q++) {
          const K = o[q], vt = a[q], We = vt.x - K.x, fe = vt.y - K.y;
          let u0 = { x: K.x, y: K.y };
          We != 0 && (u0.x = p(P, K.x, We, i)), fe != 0 && (u0.y = p(P, K.y, fe, i)), g[q] = u0;
        }
        r(l ? g : g[0]);
      };
    else
      throw new Error("value format error.");
    return b;
  }
}
class zr {
  constructor() {
    const e = Yt;
    this[e(412)] = [], this[e(408)] = { begin: 17224416e5, end: Date[e(423)]() };
  }
  add(e) {
    const t = Yt;
    this[t(412)].indexOf(e) == -1 && this.animations[t(418)](e);
  }
  remove(e) {
    const t = Yt;
    z.remove(this[t(412)], e);
  }
  [Yt(429)]() {
    const e = Yt;
    for (let t = 0; t < this.animations.length; t++)
      this[e(412)][t][e(413)]();
    this.animations[e(416)] = 0;
  }
  tick(e) {
    const t = Yt;
    let n = ![];
    for (let s = 0; s < this.animations.length; s++)
      this.animations[s][t(435)](e) && n == ![] && (n = !![]);
    return this.animations = this.animations.filter((s) => s.playState != "finished"), n;
  }
  anime(e) {
    const t = Yt;
    e[t(438)] == null && (e[t(438)] = 1e3);
    let n = new jr();
    return n.system = this, n.setAttr(e), n;
  }
}
const gt = Se;
(function(x, e) {
  const t = Se, n = x();
  for (; []; )
    try {
      if (-parseInt(t(414)) / 1 * (-parseInt(t(420)) / 2) + -parseInt(t(443)) / 3 + -parseInt(t(419)) / 4 * (-parseInt(t(447)) / 5) + parseInt(t(428)) / 6 + parseInt(t(440)) / 7 * (parseInt(t(425)) / 8) + parseInt(t(422)) / 9 * (parseInt(t(416)) / 10) + parseInt(t(430)) / 11 * (-parseInt(t(434)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(jx, 183928);
function Se(x, e) {
  const t = jx();
  return Se = function(n, s) {
    return n = n - 413, t[n];
  }, Se(x, e);
}
function jx() {
  const x = ["LinkLabel", "parent", "fromJson", "12sAjOco", "name", "assign", "children", "defTheme", "defStyles", "14WmRMKs", "currentTheme", "getTheme", "572253ZkYRCK", "themes", "label", "addTheme", "695fdvWKH", "removeClass", "132971tKpTRf", "selectedStyle", "193580HBVWbg", "theme not exist:", "_computedStyle", "1868YXyLnn", "2movrQk", "update", "81igXfxA", "themeName", "startsWith", "49160gsnese", "stage", "setTheme", "932268KFDUqd", "style", "1816045KmmlBE"];
  return jx = function() {
    return x;
  }, jx();
}
class Nr {
  constructor(e) {
    const t = Se;
    this.themes = {}, this[t(439)] = {}, this[t(415)] = we.getStyle("SelectedStyle"), this.stage = e, this.addTheme(we), this[t(446)](vr), this[t(427)](we[t(435)]);
  }
  addTheme(e) {
    this.themes[e.name] = e;
  }
  getTheme(e) {
    return this[Se(444)][e];
  }
  customStyleToJSON(e) {
    const t = Se;
    let n = JSON.parse(JSON.stringify(this[t(444)]));
    delete n.DefaultLight, delete n.DefaultDark;
    let s = {}, i = { themeName: this.currentTheme[t(435)], themes: n, styles: s }, r = Object.keys(this.defStyles);
    for (let o = 0; o < r.length; o++) {
      let a = r[o], c = this.defStyles[a], l = c.toJSON(e);
      s[a] = l;
    }
    return i;
  }
  [gt(433)](e) {
    const t = gt;
    let n = e.CustomStyle;
    if (n == null)
      return;
    let s = n.themes, i = n.styles || {};
    if (s != null) {
      let a = Object.keys(s);
      for (let c = 0; c < a.length; c++) {
        let l = a[c], h = s[l], f = new h0(l, h.content);
        this.addTheme(f);
      }
    }
    let r = e.Resources || {};
    this.defStyles = {};
    let o = Object.keys(i).filter((a) => a.startsWith("."));
    for (let a = 0; a < o.length; a++) {
      let c = o[a], l = i[c];
      this.defStyles[c] = ct.fromJSON(l, r);
    }
    n.themeName != null && this.setTheme(n[t(423)]);
  }
  defClass(e, t) {
    const n = gt;
    if (t instanceof ct) {
      this.defStyles[e] = t;
      return;
    }
    let s = new ct();
    Object[n(436)](s, t), this[n(439)][e] = s, !e.startsWith(".") && this.markDirty();
  }
  [gt(413)](e) {
    const t = gt;
    delete this[t(439)][e], !e[t(424)](".") && this.markDirty();
  }
  getClass(e) {
    return this[gt(439)][e];
  }
  markDirty() {
    const e = gt;
    this.stage[e(437)].forEach((n) => {
      const s = e;
      n[s(429)].dirty = !![], n.querySelectorAll().forEach((i) => i.style.dirty = !![]);
    });
  }
  start() {
    const e = gt;
    this.setTheme(this[e(441)].name);
  }
  setTheme(e) {
    const t = gt;
    let n = this[t(442)](e);
    if (n == null)
      throw new Error("theme not exist.");
    this.currentTheme = n, this.markDirty(), this[t(426)][t(421)]();
  }
  getComputedStyle(e) {
    return e._computedStyle;
  }
  computeStyle(e) {
    const t = gt;
    let n = this, s = {}, i = this[t(441)], r = e.className;
    e.parent instanceof N && (e === e[t(432)][t(445)] ? r = t(431) : (e === e.parent.beginArrow || e === e.parent.endArrow) && (r = "LinkArrow"));
    let o = i.getStyle(r);
    o != null && Object.assign(s, o);
    let a = n.getClass(r);
    a != null && Object.assign(s, a);
    let c = e.classList;
    if (c.length > 0)
      for (let l = 0; l < c.length; l++) {
        const h = c[l];
        let f = n.getClass(h);
        f != null && Object.assign(s, f);
      }
    return Object.assign(s, e[t(429)].getChangedProps()), e[t(418)].update(s), e._afterStyleComputed(), e._computedStyle;
  }
  [gt(438)](e, t) {
    const n = gt;
    let s = this[n(442)](e);
    if (s == null)
      throw new Error(n(417) + e);
    let i = s.copy(t);
    return this.addTheme(i), i;
  }
}
const _0 = Oe;
function Oe(x, e) {
  const t = zx();
  return Oe = function(n, s) {
    return n = n - 332, t[n];
  }, Oe(x, e);
}
(function(x, e) {
  const t = Oe, n = x();
  for (; []; )
    try {
      if (-parseInt(t(337)) / 1 + -parseInt(t(355)) / 2 * (parseInt(t(350)) / 3) + -parseInt(t(353)) / 4 * (-parseInt(t(365)) / 5) + parseInt(t(356)) / 6 * (-parseInt(t(340)) / 7) + -parseInt(t(372)) / 8 + parseInt(t(338)) / 9 * (parseInt(t(334)) / 10) + parseInt(t(357)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(zx, 328675);
function zx() {
  const x = ["renderTimes", "start", "780glXkVx", "_tickLayer", "inputSystem", "490260VmbXKN", "28899ILtpMi", "handlerLayer", "11249qCACEp", "painted", "tick", "height", "behaviourSystem", "visible", "children", "onUpdate", "_isOutOfViewport", "mode", "67587HBZPmT", "_afterUpdate", "displayList", "392668nqHyZY", "localView", "36oCuVLv", "2454kRDrOm", "16443185IzgNYW", "clearMatrixDirtyMark", "isMouseInObjectAABB", "_isMouseInAABB", "length", "style", "pause", "animationSystem", "10VgNKoc", "now", "isPointOn", "clone", "parent", "updateMatrix", "timeline", "479256XqCwFJ", "destroyed"];
  return zx = function() {
    return x;
  }, zx();
}
class za {
  constructor(e) {
    const t = Oe;
    this[t(371)] = { currentTime: Date[t(366)]() }, this.stage = e;
  }
  _renderLayerBefore(e) {
    const t = Oe;
    e.style.dirty && !(e instanceof Ws) && this.stage.styleSystem.computeStyle(e), e._isMatrixDirty() && e[t(370)](), e[t(358)](), e.style.dirty = ![];
    let n = C.flatten(e[t(346)], null);
    e.flattenList = n, e.displayList.length = 0;
    for (let s = 0; s < n[t(361)]; s++) {
      let i = n[s];
      i[t(362)].dirty && this.stage.styleSystem.computeStyle(i), i._isMatrixDirty() && i.updateMatrix(), i._afterUpdate(), i[t(358)](), i[t(362)].dirty = ![], i[t(341)] = ![], i[t(367)] = ![], i._isOutOfViewport = this.isOutOfViewPort(i, e);
      let r = i[t(345)] && i[t(369)]._needPaint;
      i._needPaint = r, i[t(360)] = ![], r && !i[t(348)] && (i[t(360)] = this.isMouseInObjectAABB(i, e));
    }
    for (let s = 0; s < n.length; s++) {
      let i = n[s];
      (i._isMatrixDirty() || i.parent.isLink) && (i.updateMatrix(), i[t(351)](), i.clearMatrixDirtyMark(), i._isOutOfViewport = this.isOutOfViewPort(i, e), i[t(360)] = ![], i._needPaint && !i._isOutOfViewport && (i._isMouseInAABB = this[t(359)](i, e))), i._needPaint && !i._isOutOfViewport && i._cameraVisible && e[t(352)].push(i);
    }
  }
  isOutOfViewPort(e, t) {
    if (t.cuttingHide == ![])
      return ![];
    let s = t.getViewportRectInLayer(), i = e._obb;
    return i.aabb == null ? ![] : !s.isIntersectRect(i.aabb);
  }
  isMouseInObjectAABB(e, t) {
    const n = Oe, s = t.stage;
    if (s.inputSystem.x < 0 || s[n(336)].y < 0)
      return ![];
    let i = e._obb.aabb.clone();
    return e instanceof N && (i = i[n(368)](), i.x -= 2, i.y -= 2, i.width += 4, i[n(343)] += 4), i.contains(t.mouseX, t.mouseY);
  }
  [_0(335)](e, t) {
    const n = _0;
    let s = e.render;
    if (!(e.visible == ![] || e[n(373)] || s.stoped || s.destoryed == !![])) {
      if (e._frames == 0) {
        (e._requestReapint == !![] || C._anyMatrixOrStyleDirty(e)) && (e._requestReapint = ![], this._renderLayerBefore(e), s.renderLayer(e), e[n(332)]++);
        return;
      }
      this._renderLayerBefore(e), s.renderLayer(e), e.renderTimes++;
    }
  }
  [_0(363)]() {
    cancelAnimationFrame(this.requestTimer);
  }
  [_0(333)]() {
    const e = _0, t = this.stage, n = this, s = t[e(339)], i = t[e(346)], r = this.timeline, o = t[e(364)], a = t[e(344)];
    {
      let h = t[e(364)].timeline.begin;
      this.timeline.currentTime >= h && (t[e(354)][e(349)] = "painted");
    }
    const c = t.localView.mode == e(341);
    function l() {
      const h = e;
      if (t.destoryed)
        return;
      let f = Date.now();
      r.currentTime = f, a[h(342)](f);
      let g = ![];
      !c && (g = o[h(342)](f)), g == !![] && (s._requestReapint = !![]), n[h(335)](s, f);
      for (let b = 0; b < i.length; b++) {
        let p = i[b];
        g && (p._requestReapint = !![]), p.onUpdate != null && p[h(347)](), n._tickLayer(p, f);
      }
      n.requestTimer = requestAnimationFrame(l);
    }
    l();
  }
}
(function(x, e) {
  const t = Vt, n = x();
  for (; []; )
    try {
      if (parseInt(t(245)) / 1 * (parseInt(t(232)) / 2) + parseInt(t(233)) / 3 + -parseInt(t(258)) / 4 * (-parseInt(t(247)) / 5) + parseInt(t(250)) / 6 + -parseInt(t(254)) / 7 * (-parseInt(t(237)) / 8) + -parseInt(t(257)) / 9 * (-parseInt(t(255)) / 10) + -parseInt(t(241)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Nx, 924453);
function Vt(x, e) {
  const t = Nx();
  return Vt = function(n, s) {
    return n = n - 232, t[n];
  }, Vt(x, e);
}
function Nx() {
  const x = ["http://www.w3.org/1999/xhtml", "8592948hryjjl", "MouseEvents", "unionRects", "translate", "263557EDPUvF", "10210ybqkKv", "createElement", "2934kYcJIP", "28xsPrAZ", "2426lwbQDM", "2489205tYNQZV", "<img src='", "restore", "map", "56kJCawz", "jtopo_", "text/json", "click", "54818742HApTLL", "toDataURL", "forEach", "createElementNS", "1216OhpINv", "isArray", "1124765CuNSoL", "context"];
  return Nx = function() {
    return x;
  }, Nx();
}
class Na {
  constructor(e) {
    this.stage = e, this.render = new Mr(e);
  }
  toDataURL(e) {
    let n = Array[Vt(246)](e) ? e : [e];
    return this._exportPaint(n), this.render.toDataURL();
  }
  toImage(e) {
    let t = this.toDataURL(e), n = new Image();
    return n.src = t, n;
  }
  saveAsLocalImage(e, t) {
    const n = Vt;
    let s = this.toDataURL(e);
    t == null && (t = n(238) + (/* @__PURE__ */ new Date()).getTime() + ".png"), this.saveDataAsFile(s, t);
  }
  saveImageInfo(e) {
    const t = Vt;
    let n = this[t(242)](e);
    window.open("about:blank").document.write(t(234) + n + "' alt='from canvas'/>");
  }
  download(e, t) {
    const n = Vt, s = new File([t], e, { type: n(239) });
    function i(r) {
      const o = n, a = document[o(256)]("a"), c = URL.createObjectURL(r);
      a.href = c, a.download = r.name, document.body.appendChild(a), a[o(240)](), document.body.removeChild(a), URL.revokeObjectURL(c);
    }
    i(s);
  }
  _exportPaint(e) {
    const t = Vt;
    let n = this.render, s = e[t(236)]((a) => a instanceof dt ? a.toStageRect(a.getExportAABB()) : a._obb.aabb), i = j[t(252)](s), r = Math.max(1, i.width), o = Math.max(1, i.height);
    n.setSize(r, o), n[t(248)].save(), n.context[t(253)](-i.x, -i.y), e[t(243)](function(a) {
      n.exportPaintObjects([a]);
    }), n.context[t(235)]();
  }
  saveDataAsFile(e, t) {
    const n = Vt;
    let s = document[n(244)](n(249), "a");
    s.href = e, s.download = t;
    let i = document.createEvent(n(251));
    i.initMouseEvent("click", !![], ![], window, 0, 0, 0, 0, 0, ![], ![], ![], ![], 0, null), s.dispatchEvent(i);
  }
}
(function(x, e) {
  for (var t = Rx, n = x(); []; )
    try {
      var s = -parseInt(t(198)) / 1 + -parseInt(t(204)) / 2 + parseInt(t(205)) / 3 * (-parseInt(t(199)) / 4) + parseInt(t(203)) / 5 + -parseInt(t(202)) / 6 * (-parseInt(t(201)) / 7) + -parseInt(t(207)) / 8 + parseInt(t(206)) / 9;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Wx, 473856);
function Ra(x, e) {
  for (var t in e) {
    let n = e[t];
    Wa(x, t, n);
  }
}
function Rx(x, e) {
  var t = Wx();
  return Rx = function(n, s) {
    n = n - 198;
    var i = t[n];
    return i;
  }, Rx(x, e);
}
function Wa(x, e, t) {
  var n = Rx;
  t.writable == null && (t[n(200)] = !![]), t.enumerable == null && (t.enumerable = !![]), Object.defineProperty(x, e, t);
}
function Wx() {
  var x = ["4031172nsmQZV", "911235kpIuhR", "1676142tMtfGL", "9249NWXlxt", "13666518sEaFjO", "827336OEvPaq", "275924MZRcbL", "884QcgKvX", "writable", "7MxaYhx"];
  return Wx = function() {
    return x;
  }, Wx();
}
const _t = Hx;
(function(x, e) {
  const t = Hx, n = x();
  for (; []; )
    try {
      if (parseInt(t(324)) / 1 * (-parseInt(t(318)) / 2) + parseInt(t(313)) / 3 + -parseInt(t(330)) / 4 + -parseInt(t(328)) / 5 * (parseInt(t(321)) / 6) + -parseInt(t(315)) / 7 + parseInt(t(325)) / 8 + -parseInt(t(335)) / 9 * (-parseInt(t(319)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Fx, 766903);
var Ha = Object[_t(317)], Fa = Object[_t(331)], ji = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Fa(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Ha(e, t, s), s;
};
function Hx(x, e) {
  const t = Fx();
  return Hx = function(n, s) {
    return n = n - 310, t[n];
  }, Hx(x, e);
}
function Fx() {
  const x = ["textPosition", "autoSize", "rotation", "textBaseline", "updateMatrix", "prototype", "1111269DMfjnA", "rect", "4370156WPIqcw", "_calcTextSize", "defineProperty", "642724WVbnRh", "545980lClJdb", "bottom", "6YAyZir", "resizeToFitText", "padding", "2cWVkzH", "965424PzkSsm", "textAlign", "right", "7083735HoKqFH", "toAABB", "4977860Owepsj", "getOwnPropertyDescriptor", "top", "_textWidth", "_obb", "693Fgckjq", "pickType"];
  return Fx = function() {
    return x;
  }, Fx();
}
class he extends D {
  constructor(e, t = 0, n = 0, s = 1, i = 1, r = !![]) {
    super(e, t, n, s, i), this.autoDirection = !![], this._autoSize = !![], this.autoSize = r;
  }
  get autoSize() {
    return this._autoSize;
  }
  set autoSize(e) {
    this._autoSize = e;
  }
  [_t(311)]() {
    const e = _t, t = this;
    if (t.autoDirection == !![]) {
      let n = t._getOriginRotation();
      n < -Math.PI / 2 || n > Math.PI / 2 ? t[e(339)] !== Math.PI && (t.rotation = Math.PI) : t.rotation !== 0 && (t.rotation = 0);
    }
    super[e(311)]();
  }
  _updateText() {
    this[_t(316)](), this._autoSize && this.resizeToFitText(), this._calcTextPosition();
  }
  [_t(322)]() {
    const e = _t;
    let n = this._computedStyle.calcGap();
    this.width = this[e(333)] + n, this.height = this._textHeight + n;
    let s = this._OBBPoints(), i = this._worldTransform.points(s), r = this[e(334)];
    r.localPoints = s, r.points = i, r.aabb = Qt[e(329)](i);
  }
  _calcTextPosition() {
    const e = _t, t = this._computedStyle;
    let n = t.borderWidth || 0, s = (t[e(323)] || 0) + (t.lineWidth | 0);
    return (t.textBaseline == e(320) && (t.textPosition == "lt" || t.textPosition == "ct" || t.textPosition == "rt") || t[e(310)] == e(332) && (t.textPosition == "lb" || t.textPosition == "cb" || t.textPosition == "rb") || t[e(326)] == e(327) && (t[e(337)] == "lt" || t[e(337)] == "lm" || t[e(337)] == "lb") || t[e(326)] == "left" && (t.textPosition == "rt" || t[e(337)] == "rm" || t.textPosition == "rb")) && (n = 0, s = 0), super._calcTextPosition(n, s);
  }
}
ji([d("TextNode")], he.prototype, "className", 2), ji([d(_t(314))], he[_t(312)], _t(336), 2), Ra(he.prototype, { serializers: { value: D.prototype.serializers.concat([_t(338), "autoDirection"]) } });
var ye = Yx;
(function(x, e) {
  for (var t = Yx, n = x(); []; )
    try {
      var s = parseInt(t(290)) / 1 * (-parseInt(t(303)) / 2) + parseInt(t(289)) / 3 * (-parseInt(t(302)) / 4) + -parseInt(t(305)) / 5 + parseInt(t(288)) / 6 * (-parseInt(t(295)) / 7) + -parseInt(t(307)) / 8 + -parseInt(t(300)) / 9 * (-parseInt(t(296)) / 10) + parseInt(t(291)) / 11 * (parseInt(t(297)) / 12);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Xx, 510298);
var Xa = Object[ye(304)], Ya = Object.getOwnPropertyDescriptor, Ua = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Ya(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Xa(e, t, s), s;
};
function Xx() {
  var x = ["5279600fWQZUD", "313836nRmDAw", "3CVhDQH", "435877qUGqYK", "28218179lCwFYY", "width", "radius", "max", "35yTZIeb", "1298740NFnCIa", "12gKNTis", "prototype", "Circle", "27tTFBdK", "setRadius", "769660WYjLTR", "4TGCkFj", "defineProperty", "2294820FyqMsM", "sin"];
  return Xx = function() {
    return x;
  }, Xx();
}
class G0 extends D {
  constructor(e, t = 0, n = 0, s = 1, i = 1) {
    var r = ye;
    super(e, t, n, s, i), this.shape = A[r(299)], this.setRadius(s / 2);
  }
  [ye(301)](e = 1) {
    this.width = e * 2, this.height = e * 2;
  }
  getRadius() {
    var e = ye;
    return this[e(293)];
  }
  getPoint(e) {
    var t = ye;
    let n = Math[t(294)](this[t(292)], this.height) * 0.5, s = e * (2 * Math.PI);
    return { x: this.x + n + n * Math.cos(s), y: this.y + n + n * Math[t(306)](s) };
  }
}
Ua([d("CircleNode")], G0[ye(298)], "className", 2), Object.defineProperties(G0.prototype, { radius: { get() {
  var x = ye;
  return Math[x(294)](this.width, this.height) * 0.5;
}, set(x) {
  this.setRadius(x);
} } });
function Yx(x, e) {
  var t = Xx();
  return Yx = function(n, s) {
    n = n - 288;
    var i = t[n];
    return i;
  }, Yx(x, e);
}
const W = Z0;
(function(x, e) {
  const t = Z0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(135)) / 1 + parseInt(t(126)) / 2 + -parseInt(t(114)) / 3 * (parseInt(t(128)) / 4) + -parseInt(t(112)) / 5 * (parseInt(t(133)) / 6) + parseInt(t(129)) / 7 + -parseInt(t(117)) / 8 + parseInt(t(109)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Vx, 145201);
var Va = Object.defineProperty, Ja = Object.getOwnPropertyDescriptor, m0 = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Ja(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Va(e, t, s), s;
};
class se extends N {
  constructor(e, t, n, s, i) {
    const r = Z0;
    super(e, t, n, s, i), this[r(138)] = 3;
  }
  [W(113)](e) {
    const t = W;
    this.beginOffsetGap = e, this[t(137)] = !![];
  }
  setEndOffsetGap(e) {
    this.endOffsetGap = e, this.matrixDirty = !![];
  }
  _calcFold1(e, t) {
    const n = W;
    let s = this.beginOffsetGap, i = this[n(119)](e, t), r = { x: e.x + i[0] * s, y: e.y + i[1] * s }, o = this[n(123)];
    return o && (r.x += o.x, r.y += o.y), r;
  }
  _calcFold2(e, t) {
    let n = this.endOffsetGap, s = this._calcFold2Vec(e, t), i = { x: t.x + s[0] * n, y: t.y + s[1] * n }, r = this.fold2Offset;
    return r && (i.x += r.x, i.y += r.y), i;
  }
  _calcFold1Vec(e, t) {
    let n = ri(this.begin);
    if (n == null) {
      let s = 0, i = 0;
      t.x > e.x ? s = 1 : s = -1, n = [s, i];
    }
    return n;
  }
  [W(134)](e, t) {
    let n = ri(this.end);
    if (n == null) {
      let s = 0, i = -1;
      t.y > e.y ? i = -1 : i = 1, n = [s, i];
    }
    return n;
  }
  updatePoints() {
    const e = this._calcAZ(), t = e[0], n = e[1];
    return this._calcPointsByAZ(t, n);
  }
  _calcPointsByAZ(e, t) {
    const n = W, s = this.absorb;
    let i = this._calcFold1Vec(e, t);
    if (i[0] == 0 && Math.abs(e.x - t.x) < s) {
      let f = (e.x + t.x) * 0.5;
      e.x = f, t.x = f;
    }
    if (i[1] == 0 && Math.abs(e.y - t.y) < s) {
      let f = (e.y + t.y) * 0.5;
      e.y = f, t.y = f;
    }
    let r = this._calcFold1(e, t), o = this._calcFold2(e, t);
    const a = qa(this, e, t, r, o);
    let c = a[0], l = a[1];
    {
      if (T[n(136)](c, l, 0.5) == ![]) {
        const b = Math[n(120)](T.getAngle(c, l)).toFixed(6);
        this._preAngle != null && this._preAngle != b && (this.centerOffset = null), this._preAngle = b;
      }
      let g = this.centerOffset;
      g && (c.x += g.x, c.y += g.y, l.x += g.x, l.y += g.y);
    }
    return [e, r, c, l, o, t];
  }
  [W(130)]() {
    const e = W;
    if (super._afterUpdateMatrix(), this._needCalcOffset()) {
      let t = this[e(132)][0], n = this.points[this[e(132)].length - 1], s = this[e(115)][0], i = this.offsetPoints[this.offsetPoints.length - 1];
      this[e(132)] = this._calcPointsByAZ(s, i), this.points[0] = t, this[e(132)][this.points.length - 1] = n;
    }
  }
  getMergedPoints() {
    return T.mergeClosestPoints(this.points);
  }
  [W(131)](e, t) {
    const n = W;
    let s = this.fold1Offset;
    s == null && (s = { x: 0, y: 0 }, this[n(123)] = s), vn(this[n(108)](0, 0.5)) ? (s.y = 0, t = 0) : (s.x = 0, e = 0), s.x += e, s.y += t, this[n(137)] = !![];
  }
  setFold2Offset(e, t) {
    const n = W;
    let s = this.fold2Offset;
    s == null && (s = { x: 0, y: 0 }, this[n(124)] = s), vn(this[n(108)](4, 0.5)) ? (s.y = 0, t = 0) : (s.x = 0, e = 0), s.x += e, s.y += t, this.matrixDirty = !![];
  }
  setCenterOffset(e, t) {
    const n = W;
    let s = this.centerOffset;
    s == null && (s = { x: 0, y: 0 }, this.centerOffset = s), vn(this.getK(2, 0.5)) ? (s.x = 0, e = 0) : (s.y = 0, t = 0), s.x += e, s.y += t, this[n(137)] = !![];
  }
  resetOffset() {
    this.centerOffset = void 0, this.fold1Offset = null, this.fold2Offset = null, this.matrixDirty = !![];
  }
}
m0([d(W(127))], se.prototype, W(110), 2), m0([d(15)], se.prototype, W(122), 2), m0([d(15)], se.prototype, "endOffsetGap", 2), m0([d(function() {
  const x = W;
  let e = this.getMergedPoints(), t = e.length;
  return t < 4 ? [x(121), "end"] : t == 4 || t == 5 ? ["begin", "end", "fold1", "fold2"] : [x(121), "end", "fold1", "fold2", "center"];
})], se.prototype, "getCtrlPoints", 2), m0([d(N.prototype.serializers.concat(["beginOffsetGap", W(116), W(123), W(124), W(118)]))], se.prototype, "serializers", 2);
const ee = {};
ee[v.begin] = function() {
  return this.points[0];
}, ee[v.fold1] = function() {
  return this[W(132)][1];
}, ee[v.mid1] = function() {
  return this.points[2];
}, ee[v.mid2] = function() {
  return this.points[3];
}, ee[v[W(125)]] = function() {
  return this.points[4];
}, ee[v.end] = function() {
  return this[W(132)][5];
}, ee[v.center] = function() {
  const x = W;
  return T.middle(this[x(132)][2], this.points[3]);
}, se.prototype.DefaultPositions = ee;
function Ux(x, e) {
  const t = W;
  return Math.abs(e[0]) > Math.abs(e[1]) ? x.x * Math.sign(e[0]) : x.y * Math[t(111)](e[1]);
}
function Z0(x, e) {
  const t = Vx();
  return Z0 = function(n, s) {
    return n = n - 108, t[n];
  }, Z0(x, e);
}
function zi(x, e, t) {
  let n = Ux(x, e);
  return Ux(t, e) - n;
}
function Vs(x, e, t, n) {
  let s = Ux(x, t), i = Ux(e, n), r = t[0] != 0;
  return s > i ? r ? { x: x.x, y: e.y } : { x: e.x, y: x.y } : r ? { x: e.x, y: x.y } : { x: x.x, y: e.y };
}
function qa(x, e, t, n, s) {
  const i = W, r = x[i(119)](e, t), o = x._calcFold2Vec(e, t), a = M.dot(r, o);
  if (a == 1) {
    let f = Vs(n, s, r, o);
    return [f, f];
  }
  if (a == -1) {
    const f = T.middle(n, s);
    let g = Vs(n, f, r, r), b = Vs(s, f, o, o);
    return [g, b];
  }
  let c = cx(e, n, t, s, !![]), l = zi(e, r, c), h = zi(t, o, c);
  if (l > 0 && h > 0)
    return [c, c];
  {
    const f = [-r[1], r[0]], g = { x: n.x + f[0], y: n.y + f[1] }, b = [-o[1], o[0]], p = { x: s.x + b[0], y: s.y + b[1] };
    let m = cx(n, g, s, p, !![]);
    if (m != null)
      return [m, m];
  }
  throw new Error("assert failed getMid1AndMid2");
}
function Vx() {
  const x = ["fold1Offset", "fold2Offset", "fold2", "367862LwLyeU", "AutoFoldLink", "430356GiMNbA", "158466TyCfXc", "_afterUpdateMatrix", "setFold1Offset", "points", "15654WxpdOk", "_calcFold2Vec", "50415TvjkTa", "looksSame", "matrixDirty", "absorb", "getK", "4100301SsZsUL", "className", "sign", "375qWPybB", "setBeginOffsetGap", "3nQMmAQ", "offsetPoints", "endOffsetGap", "1306224DxVwBN", "centerOffset", "_calcFold1Vec", "abs", "begin", "beginOffsetGap"];
  return Vx = function() {
    return x;
  }, Vx();
}
function Jx(x, e) {
  const t = qx();
  return Jx = function(n, s) {
    return n = n - 287, t[n];
  }, Jx(x, e);
}
const Nt = Jx;
(function(x, e) {
  const t = Jx, n = x();
  for (; []; )
    try {
      if (parseInt(t(297)) / 1 + -parseInt(t(288)) / 2 * (-parseInt(t(295)) / 3) + parseInt(t(296)) / 4 + -parseInt(t(303)) / 5 + -parseInt(t(293)) / 6 + -parseInt(t(289)) / 7 * (parseInt(t(290)) / 8) + parseInt(t(301)) / 9 * (parseInt(t(292)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(qx, 805560);
var Ga = Object[Nt(300)], Za = Object.getOwnPropertyDescriptor, dn = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Za(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Ga(e, t, s), s;
};
class _e extends N {
  constructor(e, t, n, s, i) {
    super(e, t, n, s, i);
  }
  getFold1(e, t) {
    const n = Nt;
    let s = (t.y - e.y) / 2, i = (t.x - e.x) / 2;
    return this[n(299)] == $e.horizontal ? { x: e.x + i, y: e.y } : { x: e.x, y: e.y + s };
  }
  [Nt(291)](e, t) {
    const n = Nt;
    let s = (t.y - e.y) / 2, i = (t.x - e.x) / 2;
    return this.direction == $e[n(298)] ? { x: t.x - i, y: t.y } : { x: t.x, y: t.y - s };
  }
  updatePoints() {
    const e = this._calcAZ(), t = e[0], n = e[1];
    let s = this.getFold1(t, n), i = this.getFold2(t, n), r = { x: (s.x + i.x) / 2, y: (s.y + i.y) / 2 };
    const o = [t, s, r, i, n];
    if (this.points = o, this.endArrow) {
      let a = o.length - 2;
      this.endArrow.origin[0] = a;
    }
    return o;
  }
}
function qx() {
  const x = ["28174zPawHF", "14cNYkUQ", "1015352RBWrFf", "getFold2", "10vbdUFy", "2718798tGggZV", "prototype", "147GZzzdF", "265472tFhwjA", "74004bTbIDP", "horizontal", "direction", "defineProperty", "18590085yFAelY", "offsetGap", "6918345LqdLuc", "getPoints"];
  return qx = function() {
    return x;
  }, qx();
}
dn([d("FlexionalLink")], _e[Nt(294)], "className", 2), dn([d(N[Nt(294)].serializers.concat(["direction", Nt(302)]))], _e.prototype, "serializers", 2), dn([d($e.horizontal)], _e[Nt(294)], "direction", 2), dn([d(44)], _e.prototype, "offsetGap", 2);
const Xe = {};
Xe[v.begin] = function() {
  return this.getPoints()[0];
}, Xe[v.fold1] = function() {
  return this.getPoints()[1];
}, Xe[v.center] = function() {
  return this[Nt(287)]()[2];
}, Xe[v.fold2] = function() {
  return this[Nt(287)]()[3];
}, Xe[v.end] = function() {
  return this.getPoints()[4];
}, _e.prototype.DefaultPositions = Xe;
var A0 = je;
(function(x, e) {
  for (var t = je, n = x(); []; )
    try {
      var s = -parseInt(t(457)) / 1 * (-parseInt(t(463)) / 2) + parseInt(t(453)) / 3 * (parseInt(t(456)) / 4) + parseInt(t(468)) / 5 * (parseInt(t(462)) / 6) + parseInt(t(454)) / 7 * (parseInt(t(466)) / 8) + parseInt(t(465)) / 9 + parseInt(t(460)) / 10 * (-parseInt(t(459)) / 11) + -parseInt(t(458)) / 12;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Gx, 509919);
var Ka = Object.defineProperty, Qa = Object.getOwnPropertyDescriptor, Ni = (x, e, t, n) => {
  for (var s = je, i = n > 1 ? void 0 : n ? Qa(e, t) : e, r = x[s(455)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && Ka(e, t, i), i;
};
function je(x, e) {
  var t = Gx();
  return je = function(n, s) {
    n = n - 451;
    var i = t[n];
    return i;
  }, je(x, e);
}
class K0 extends N {
  constructor(e, t, n, s, i) {
    var r = je;
    super(e, t, n, s, i), this.direction = r(467);
  }
  updatePoints() {
    var e = je;
    const t = this._calcAZ(), n = t[0], s = t[1];
    let i;
    return n.x == s.x || n.y == s.y ? i = T[e(451)](n, s) : this.direction == $e.horizontal ? i = { x: s.x, y: n.y } : i = { x: n.x, y: s.y }, [n, i, s];
  }
}
function Gx() {
  var x = ["length", "33372flXBYE", "507100CglNAr", "34549824uXZIjX", "20009xHEZjv", "5210glaSBa", "prototype", "240yDPoxw", "4mxSMnO", "getPoints", "7913655ubpSPn", "99392UzrYfr", "horizontal", "117770bUNStw", "middle", "className", "303ggkAMR", "371aSwgek"];
  return Gx = function() {
    return x;
  }, Gx();
}
Ni([d("FoldLink")], K0[A0(461)], A0(452), 2), Ni([d(N.prototype.serializers.concat(["direction"]))], K0[A0(461)], "serializers", 2);
const fn = {};
fn[v.begin] = function() {
  return this.getPoints()[0];
}, fn[v.end] = function() {
  var x = A0;
  return this[x(464)]()[2];
}, fn[v.center] = function() {
  return this.getPoints()[1];
}, K0[A0(461)].DefaultPositions = fn;
function at(x, e) {
  const t = Zx();
  return at = function(n, s) {
    return n = n - 470, t[n];
  }, at(x, e);
}
(function(x, e) {
  const t = at, n = x();
  for (; []; )
    try {
      if (parseInt(t(499)) / 1 + -parseInt(t(474)) / 2 + parseInt(t(485)) / 3 + -parseInt(t(476)) / 4 + parseInt(t(482)) / 5 + -parseInt(t(479)) / 6 * (parseInt(t(470)) / 7) + parseInt(t(502)) / 8 * (parseInt(t(498)) / 9) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Zx, 692570);
function Zx() {
  const x = ["unlink", "setXYOnLink", "removeChild", "Arrow", "inLinks", "width", "207DJZZKJ", "1027973FSlGNs", "asLabel", "parent", "381728pxhCbh", "getRect", "35iNhnGn", "getCenter", "push", "outLinks", "2355934RmZRir", "getBeginPoint", "3525980POjaGU", "hasChild", "endArrow", "1000362NJeDee", "connectable", "length", "5880280qtHPXu", "label", "polygon", "852510eAuUge", "children", "getUnionRect", "resizeTo", "setShape", "setXYButChildFixed", "getMiddleOrigin"];
  return Zx = function() {
    return x;
  }, Zx();
}
class qt {
  static createPologyNode(e, t = 1, n = 1) {
    const s = at;
    let i = new D();
    return i.setShape(A[s(484)](e)), i.resizeTo(t, n), i;
  }
  static getUnionRect(e) {
    const t = at;
    let n = e[0][t(503)]();
    for (let s = 1; s < e.length; s++)
      n = j.union(n, e[s][t(503)]());
    return n;
  }
  static setXYButChildFixed(e, t, n) {
    const s = at;
    let i = e[s(486)];
    e.x += t, e.y += n;
    for (let r = 0; r < i[s(481)]; r++) {
      const o = i[r];
      o instanceof D && (o.x -= t, o.y -= n);
    }
  }
  static sizeFitToChildren(e, t) {
    const n = at;
    let s = e.getChildren();
    if (s[n(481)] == 0)
      return;
    let i = qt.getUnionRect(s);
    t == null && (t = 0);
    let r = t * 2;
    e[n(488)](i[n(497)] + r, i.height + r);
    let o = i.x + e.width / 2, a = i.y + e.height / 2;
    qt[n(490)](e, o - t, a - t);
  }
  static translateObjectsCenterTo(e, t, n) {
    const s = at;
    let i = { x: t, y: n }, r = [];
    r = r.concat(e);
    let o = qt[s(487)](r), a = o[s(471)](), c = i.x - a.x, l = i.y - a.y;
    r.forEach((h) => {
      h.translateWith(c, l);
    });
  }
  static travel(e, t, n, s) {
    const i = at;
    if (s == null)
      s = [];
    else if (z[i(477)](s, e))
      return null;
    if (t && t(e, n), s[i(472)](e), e instanceof D) {
      let o = e[i(473)];
      if (o != null)
        for (var r = 0; r < o.length; r++) {
          let a = o[r];
          qt.travel(a, t, e, s);
        }
    } else
      e instanceof N && e.end.isDisplayObjectTarget() && qt.travel(e.end.target, t, n, s);
    return s;
  }
}
class Q0 {
  static disconnect(e, t) {
    const n = at;
    if (e instanceof N) {
      e[n(492)]();
      return;
    }
    let s = e.inLinks;
    s != null && (s.forEach((r) => {
      r[n(501)] != null && (t != null && t.indexOf(r) != -1 || r.setEnd(r.getEndPoint()));
    }), e[n(496)] = []);
    let i = e.outLinks;
    i != null && (i.forEach((r) => {
      const o = n;
      r.parent != null && (t != null && t.indexOf(r) != -1 || r.setBegin(r[o(475)]()));
    }), e.outLinks = []);
  }
  static createLabel(e, t) {
    const n = at;
    if (e.label == null) {
      const s = new he(t);
      return s.editable = ![], s.draggable = ![], s[n(480)] = ![], s.mouseEnabled = ![], s.autoSize = !![], s.alignOriginToLink("cb", 0, 0.5), Q0[n(500)](e, s), s;
    }
    return e.label.text = t, e[n(483)];
  }
  static asLabel(e, t) {
    const n = at;
    e.label != null && e[n(494)](e[n(483)]), e.label = t, e.children.indexOf(e.label) == -1 && e.addChild(e.label);
    let s = Q0[n(491)](e);
    return t[n(493)](s.segIndex, s.t), t;
  }
  static getMiddleOrigin(e) {
    let t = 0, n = 0.5;
    return e instanceof K0 ? n = 1 : e instanceof _e ? t = 1 : e instanceof se && (t = 2), { segIndex: t, t: n };
  }
  static createArrow(e, t = 10, n = 10) {
    const s = at;
    let i = new D();
    return i.resizeTo(t, n), e == null ? i.setShape(A[s(495)]) : i[s(489)](A.fromPoints(e)), i.editable = ![], i.draggable = ![], i.connectable = ![], i.mouseEnabled = ![], i;
  }
  static asBeginArrow(e, t) {
    return e.beginArrow != null && e.removeChild(e.beginArrow), e.children.indexOf(t) == -1 && e.addChild(t), e.beginArrow = t, t;
  }
  static asEndArrow(e, t) {
    const n = at;
    return e.endArrow != null && e.removeChild(e[n(478)]), e.children.indexOf(t) == -1 && e.addChild(t), e.endArrow = t, t;
  }
}
const ht = de;
(function(x, e) {
  const t = de, n = x();
  for (; []; )
    try {
      if (parseInt(t(215)) / 1 + parseInt(t(209)) / 2 + parseInt(t(202)) / 3 * (parseInt(t(199)) / 4) + -parseInt(t(218)) / 5 + parseInt(t(197)) / 6 * (parseInt(t(182)) / 7) + parseInt(t(207)) / 8 * (-parseInt(t(220)) / 9) + parseInt(t(193)) / 10 * (parseInt(t(201)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Kx, 600680);
function de(x, e) {
  const t = Kx();
  return de = function(n, s) {
    return n = n - 181, t[n];
  }, de(x, e);
}
class ai {
  constructor(e, t) {
    this.objects = e, this.animationList = t;
  }
  remove() {
    const e = de;
    this.objects[e(208)]((t) => t.remove()), this[e(187)].forEach((t, n) => {
      t.cancel();
    });
  }
  play() {
    this[de(187)].forEach((t, n) => {
      t.play();
    });
  }
}
class Rr {
  constructor(e, t) {
    const n = de;
    this.stage = e, this[n(204)] = t;
  }
  xyToCenter(e, t = { x: 0, y: 0 }) {
    return this[de(200)](e, t);
  }
  [ht(200)](e, t = { x: 0, y: 0 }) {
    const n = ht;
    let s = t.x || 0, i = t.y || 0;
    return this.animationSystem[n(206)]({ from: [e.x, e.y], to: [-s, -i], update: (o) => {
      e.x = o[0], e.y = o[1];
    }, effect: "easeInOutElastic" });
  }
  flash(e, t = {}) {
    const n = ht;
    let s = t[n(184)] || 3, i = t[n(181)] || 100;
    return this[n(204)].anime({ from: [0], to: [1], update: (a) => {
      e.css({ globalAlpha: a[0] });
    }, times: s, effect: "easeOutBounce", duration: i });
  }
  [ht(183)](e, t = {}) {
    const n = ht;
    let s = t.position || "center", i = t[n(190)] || 0, r = t.beginHeight || 0, o = this.animationSystem, a = [i, r, e.x, e.y], c = [e.width, e.height, e.x, e.y];
    return s == n(194) ? a = [i, r, e.x, e.y] : s == "lt" ? a = [i, r, e.x - e.width * 0.5, e.y - e.height * 0.5] : s == "rt" ? a = [i, r, e.x + e[n(185)] * 0.5, e.y - e.height * 0.5] : s == "lb" ? a = [i, r, e.x - e[n(185)] * 0.5, e.y + e.height * 0.5] : s == "rb" ? a = [i, r, e.x + e[n(185)] * 0.5, e.y + e.height * 0.5] : s == "ct" ? a = [e[n(185)], r, e.x, e.y - e.height * 0.5] : s == "cb" ? a = [e.height, r, e.x, e.y + e.height * 0.5] : s == "lm" ? a = [i, e.height, e.x - e.width * 0.5, e.y] : s == "rm" && (a = [i, e.height, e.x + e.width * 0.5, e.y]), o.anime({ from: a, to: c, update: (h) => {
      e.scaleTo(h[0] / e.width, h[1] / e.height), e.translateTo(h[2], h[3]);
    }, effect: n(214) });
  }
  unexpandScale(e, t = {}) {
    const n = ht;
    let s = t.position || "center", i = t[n(211)] || 0, r = t.minHeight || 0, o = this.animationSystem, a = [e.width, e.height, e.x, e.y], c = [i, r, e.x, e.y];
    return s == "center" ? c = [i, r, e.x, e.y] : s == "lt" ? c = [i, r, e.x - e[n(185)] * 0.5, e.y - e.height * 0.5] : s == "rt" ? c = [i, r, e.x + e.width * 0.5, e.y - e.height * 0.5] : s == "lb" ? c = [i, r, e.x - e.width * 0.5, e.y + e[n(191)] * 0.5] : s == "rb" ? c = [i, r, e.x + e.width * 0.5, e.y + e.height * 0.5] : s == "ct" ? c = [i, r, e.x, e.y - e.height * 0.5] : s == "cb" ? c = [i, r, e.x, e.y + e.height * 0.5] : s == "lm" ? c = [i, r, e.x - e.width * 0.5, e.y] : s == "rm" && (c = [i, r, e.x + e[n(185)] * 0.5, e.y]), o.anime({ from: a, to: c, update: (h) => {
      e.scaleTo(h[0] / e.width, h[1] / e.height), e.translateTo(h[2], h[3]);
    }, effect: n(214) });
  }
  flow(e, t = {}) {
    const n = ht;
    let s = t[n(196)] || e[n(210)].lineDash || [3, 2], i = t.direction || n(205), r = t[n(181)] || 1e4, o = t[n(221)] || 300, a = i == n(205) ? 1 : -1, c = this.animationSystem;
    return e.css({ lineDash: s }), c.anime({ from: 0, to: o, update: (h) => {
      e.css({ lineDashOffset: -h * a });
    }, times: 1 / 0, duration: r });
  }
  rippling(e = {}) {
    const t = ht;
    let n = e[t(212)] || 50, s = e.color || "rgba(128,128,128,0.8)", i = e.count || 3, r = e[t(219)] || 8, o = this.animationSystem, a = [], c = new G0(null, 0, 0);
    c.mouseEnabled = ![], c.setRadius(n);
    for (let b = 0; b < i; b++) {
      let p = new G0(null, 0, 0);
      p.mouseEnabled = ![], p.css("strokeStyle", s), p.setRadius(1), c.addChild(p);
    }
    let l = c.children, h = n / i, f = o.anime({ from: [1], to: [n], update: (b) => {
      let p = b[0];
      for (let m = 0; m < l.length; m++) {
        let _ = l[m], L = p + m * h;
        L > n && (L = L % n);
        let P = L / n;
        _.setRadius(L), _.css({ lineWidth: P * r, globalAlpha: 0.1 });
      }
    }, times: 1 / 0, duration: 2e3 });
    return a[t(217)](f), new ai([c], a);
  }
  colorFilter(e, t) {
    const n = ht;
    let s = this.stage.exportSystem.toImage(e);
    s[n(198)] = () => {
      s = Rt[n(216)](s, t), e.setImage(s, !![]);
    };
  }
  imageFilter(e, t) {
    const n = ht;
    e[n(195)]((s) => {
      const i = n;
      if (s == null)
        return;
      let r = Rt.colorFilter(s, t);
      e[i(188)](r);
    });
  }
  linkMark(e, t = { color: "red" }) {
    const n = ht;
    let s = t.text || "❌️", i = new he(s, 0, 0);
    i.draggable = ![], i.editable = ![], i.connectable = ![], i.css({ textPosition: n(194), textBaseline: "middle", textAlign: "center", color: t.color || "red" }), t[n(186)] != null && i.css({ font: t[n(186)] });
    let r = Q0.getMiddleOrigin(e);
    return i.setXYOnLink(r.segIndex, r.t), e.addChild(i), i;
  }
  [ht(222)](e, t = 60, n = 60) {
    const s = ht;
    let i = new e0(0, 0, 0, n), r = new D(null, 0, 0, t, n);
    e == null && (e = ["white", "green", s(213)]), i[s(189)]([[0, e[0]], [0.5, e[1]], [1, e[2]]]);
    let o = this.animationSystem[s(206)]({ from: 0, to: 1, duration: 2500, update: (c) => {
      const l = s;
      c = c < 0 ? 0 : c, i.startX = Math.random() + Math.cos(c * 2 * Math.PI) * 10, i.startY = -10 + Math[l(203)](c * 2 * Math.PI) * 5, i[l(189)]([[0, e[0]], [0.2 * c, e[1]], [1, e[2]]]);
    } });
    return o.direction = "alternate", o.times = 1 / 0, r[s(192)]({ fillStyle: i }), new ai([r], [o]);
  }
}
function Kx() {
  const x = ["9xjmjpN", "distance", "waterLike", "duration", "770203INRcbV", "expandScale", "times", "width", "font", "animationList", "setImage", "setColors", "beginWidth", "height", "css", "2083920pGDRQg", "center", "getImage", "lineDash", "6NUCaUc", "onload", "63568dRAaAX", "lookAt", "33wClRwP", "9mblaXI", "cos", "animationSystem", "clockwise", "anime", "9032400kyBbUx", "forEach", "389054tZepDH", "style", "minWidth", "radius", "rgb(0,87,55)", "easeOutCubic", "845211hrzczi", "colorFilter", "push", "464445DKQsVA", "lineWidth"];
  return Kx = function() {
    return x;
  }, Kx();
}
const mt = r0;
function Qx() {
  const x = ["1759640MnjurY", "toJSON", "set", "executeBehaviours", "name", "regBehaviour", "isNaN", "addBehaviour", "argMap", "map", "get", "1693164jcDGhn", "2513DHFwMp", "toString", "update", "471358eElbJP", "length", "3690144AnrQTW", "30rnAMiF", "fromJSON", "3qSdsFx", "104905gDurJq", "2614360liMgNQ", "first", "4008AkiTAV"];
  return Qx = function() {
    return x;
  }, Qx();
}
(function(x, e) {
  const t = r0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(389)) / 1 + -parseInt(t(383)) / 2 * (parseInt(t(388)) / 3) + -parseInt(t(404)) / 4 + parseInt(t(393)) / 5 + parseInt(t(392)) / 6 * (-parseInt(t(405)) / 7) + -parseInt(t(390)) / 8 + parseInt(t(385)) / 9 * (parseInt(t(386)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Qx, 251494);
function r0(x, e) {
  const t = Qx();
  return r0 = function(n, s) {
    return n = n - 383, t[n];
  }, r0(x, e);
}
class $a {
  constructor(e) {
    const t = r0;
    this.map = /* @__PURE__ */ new Map(), this[t(401)] = /* @__PURE__ */ new WeakMap(), this.behaviourMap = /* @__PURE__ */ new Map(), this.stoped = ![], this.stage = e;
  }
  tick(e) {
    const t = r0;
    if (this.stoped)
      return;
    let n = this.map.keys();
    for (let s of n)
      this[t(396)](s, t(407));
  }
  defBehaviour(e, t) {
    let n = new $x(e);
    return Object.assign(n, t), this.regBehaviour(n), n;
  }
  [mt(398)](e) {
    this.behaviourMap.set(e.name, e);
  }
  [mt(400)](e, t, n) {
    const s = mt;
    let i = this.behaviourMap.get(t);
    if (i == null)
      throw new Error("behaviours not exist:" + t);
    let r = this.map[s(403)](e);
    r == null ? (r = [], this.map[s(395)](e, r), r.push(i)) : r.indexOf(i) == -1 && r.push(i), n != null && (r[t] = n), i.first(e, n);
  }
  removeBehaviour(e, t) {
    const n = mt;
    let s = this.map[n(403)](e);
    if (s != null)
      for (let i = 0; i < s[n(384)]; i++) {
        let r = s[i];
        if (r[n(397)] == t) {
          z.remove(s, r);
          return;
        }
      }
  }
  [mt(396)](e, t) {
    const n = mt;
    let s = this[n(402)][n(403)](e);
    if (s != null)
      for (let i = 0; i < s.length; i++) {
        let r = s[i];
        if (t == n(407)) {
          let o = s[r.name];
          if (r.update !== $x.prototype.update && r.update(e, o) == ![])
            return ![];
        }
      }
    return null;
  }
}
class $x {
  constructor(e) {
    const t = mt;
    if (typeof e == "number" || !Number[t(399)](parseInt(e)))
      throw new Error("behaviour name cannot be number:" + e);
    this[t(397)] = e;
  }
  first(e, t) {
  }
  [mt(407)](e, t) {
  }
  static [mt(387)](e) {
    const t = mt;
    let n = new $x(e.name);
    return n.first = new Function("return " + n.first)(), n[t(407)] = new Function("return " + n.update)(), n;
  }
  [mt(394)]() {
    const e = mt;
    return { name: this[e(397)], first: this[e(391)].toString(), update: this.update[e(406)]() };
  }
}
function ts() {
  const x = ["parent", "rect", "295311rCQHap", "push", "children", "132085wkacNG", "flatten", "translateWith", "join", "2819456PPBmvb", "7icPxie", "54ZEexjV", "text", "2979RcorGT", "1306230bOAUMK", "length", "union", "concat", "width", "670rZzDXA", "toString", "getRect", "object", "8VHwqab", "5501870xtXJtH", "height", "15507EDsUYg"];
  return ts = function() {
    return x;
  }, ts();
}
const ne = Le;
function Le(x, e) {
  const t = ts();
  return Le = function(n, s) {
    return n = n - 274, t[n];
  }, Le(x, e);
}
(function(x, e) {
  const t = Le, n = x();
  for (; []; )
    try {
      if (parseInt(t(293)) / 1 + -parseInt(t(275)) / 2 * (-parseInt(t(277)) / 3) + -parseInt(t(287)) / 4 * (-parseInt(t(296)) / 5) + parseInt(t(278)) / 6 + parseInt(t(274)) / 7 * (parseInt(t(300)) / 8) + parseInt(t(290)) / 9 * (-parseInt(t(283)) / 10) + -parseInt(t(288)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ts, 329482);
class Ze {
  constructor(e = 0, t = 0, n = 1, s = 1) {
    const i = Le;
    this.x = 0, this.y = 0, this[i(282)] = 1, this.height = 1, this[i(292)] = new j(0, 0, 1, 1), this[i(295)] = [], this.object = null, this.x = e, this.y = t, this.width = n, this.height = s;
  }
  fromObject(e) {
    this.object = e, this.x = e.x, this.y = e.y, this.width = e.width, this.height = e.height;
  }
  setObject(e) {
    this.object = e;
  }
  getRect(e = ![]) {
    const t = Le;
    return this.rect.setTo(this.x, this.y, this.width, this[t(289)]), e ? j[t(280)](this.rect, this.getChildrenRect(!![])) : this.rect;
  }
  getChildrenRect(e) {
    const t = Le;
    let n = this.children, s = n[0].getRect(e);
    for (let i = 1; i < n.length; i++)
      s = j.union(s, n[i][t(285)](e));
    return s;
  }
  [ne(298)](e, t) {
    this.x += e, this.y += t;
  }
  translateTo(e, t) {
    this.x = e, this.y = t;
  }
  addChild(e) {
    const t = ne;
    e[t(291)] = this, this.children[t(294)](e);
  }
  translateWithRecursive(e, t) {
    const n = ne;
    this.translateWith(e, t);
    let s = this[n(295)];
    for (var i = 0; i < s[n(279)]; i++)
      s[i].translateWithRecursive(e, t);
  }
  flatten(e) {
    const t = ne;
    let n = [];
    for (var s = 0; s < this[t(295)].length; s++) {
      let i = this.children[s];
      if ((e == null || e(i) == !![]) && (n.push(i), i.children && i.children.length > 0)) {
        let r = Ze[t(297)](i.children, e);
        n = n[t(281)](r);
      }
    }
    return n;
  }
  [ne(284)]() {
    const e = ne;
    return this[e(286)][e(276)] + ": 	" + Ze.flatten(this[e(295)]).map((n) => n.object[e(276)])[e(299)](",");
  }
  static getVNodeUnionRect(e) {
    const t = ne;
    let n = e[0].getRect();
    for (let s = 1; s < e[t(279)]; s++)
      n = j[t(280)](n, e[s][t(285)]());
    return n;
  }
  static flatten(e, t) {
    const n = ne;
    let s = [];
    for (var i = 0; i < e.length; i++) {
      let r = e[i];
      if ((t == null || t(r) == !![]) && (s.push(r), r[n(295)] && r.children.length > 0)) {
        let o = Ze.flatten(r[n(295)], t);
        s = s[n(281)](o);
      }
    }
    return s;
  }
}
function ce(x, e) {
  const t = es();
  return ce = function(n, s) {
    return n = n - 366, t[n];
  }, ce(x, e);
}
const Ye = ce;
(function(x, e) {
  const t = ce, n = x();
  for (; []; )
    try {
      if (parseInt(t(370)) / 1 * (-parseInt(t(385)) / 2) + -parseInt(t(384)) / 3 * (-parseInt(t(388)) / 4) + parseInt(t(389)) / 5 + parseInt(t(379)) / 6 * (-parseInt(t(371)) / 7) + parseInt(t(381)) / 8 + parseInt(t(367)) / 9 * (parseInt(t(387)) / 10) + -parseInt(t(375)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(es, 522632);
class tc {
  constructor(e) {
    const t = ce;
    this.deep = 0, this.root = e, this[t(368)] = e[t(369)](), this[t(383)] = [e].concat(this.descendants), this[t(380)] = this.allVirtualNodes.map((n) => n.object), this[t(377)] = [], this[t(374)]();
  }
  [Ye(374)]() {
    let e = [];
    const t = this;
    function n(s, i) {
      const r = ce;
      t.deep < i && (t.deep = i);
      let o = s.children, a = e[i];
      a == null && (a = [], e[i] = a), a[r(376)](s);
      for (var c = 0; c < o.length; c++)
        n(o[c], i + 1);
    }
    n(this.root, 0), this.indexData = e;
  }
  [Ye(366)]() {
    const e = Ye, t = this.root[e(369)]();
    if (t[e(373)] == 0)
      throw new Error(e(372));
    let n = t[0].getRect();
    for (let s = 1; s < t.length; s++) {
      const i = t[s];
      n = j.union(n, i.getRect());
    }
    return n;
  }
  centerTo(e, t) {
    const n = this.allVirtualNodes;
    let s = this.root.getRect();
    n.forEach((a) => {
      s = j.union(s, a.getRect());
    });
    let i = s.getCenter(), r = e - i.x, o = t - i.y;
    return n.forEach((a) => {
      a[ce(382)](r, o);
    }), this;
  }
  translateTo(e, t) {
    const n = Ye, s = this.allVirtualNodes;
    let i = this[n(386)].getRect();
    s.forEach((a) => {
      const c = n;
      i = j.union(i, a[c(366)]());
    });
    let r = e - i.x, o = t - i.y;
    return s.forEach((a) => {
      a.translateWith(r, o);
    }), this;
  }
  [Ye(382)](e, t) {
    return this.allVirtualNodes.forEach((s) => {
      s[ce(382)](e, t);
    }), this;
  }
  getLeafs() {
    const e = Ye;
    return this.indexData[this[e(378)]];
  }
}
function es() {
  const x = ["descendants", "flatten", "20924DbWyBr", "266zHTfKk", "getRect() in empty tree", "length", "index", "9149184vIomFL", "push", "indexData", "deep", "31182UFTHSz", "allObjects", "5823144yrPkuJ", "translateWith", "allVirtualNodes", "34632Dxpowx", "94rCzXeF", "root", "110XyACzx", "344oNkFTx", "3710450RcEdKP", "getRect", "59337JHCakz"];
  return es = function() {
    return x;
  }, es();
}
const Y = $0;
(function(x, e) {
  const t = $0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(374)) / 1 + -parseInt(t(388)) / 2 + -parseInt(t(397)) / 3 * (parseInt(t(380)) / 4) + -parseInt(t(381)) / 5 + parseInt(t(386)) / 6 + parseInt(t(382)) / 7 + parseInt(t(387)) / 8 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ns, 112040);
function ns() {
  const x = ["inputs", "traverse", "filter", "isTrace", "3uQJXwB", "isAdjacent", "vertexes", "from", "33060CmOawF", "check", "edges", "getInDegree", "outputs", "length", "81096wGztWQ", "973460ETnnMe", "938175MSUrYA", "isClose", "map", "has", "1077252vEYHcS", "552136sJvqhW", "45036KhVShk", "getMaxDegreeVertext", "push", "getAdjacentList", "hasDirection"];
  return ns = function() {
    return x;
  }, ns();
}
function $0(x, e) {
  const t = ns();
  return $0 = function(n, s) {
    return n = n - 372, t[n];
  }, $0(x, e);
}
class Ke {
  constructor() {
    this.inputs = [], this.outputs = [];
  }
  getDegree() {
    return this.getInDegree() + this.getOutDegree();
  }
  [Y(377)]() {
    return this.inputs.length;
  }
  getOutDegree() {
    const e = Y;
    return this[e(378)][e(379)];
  }
  [Y(391)]() {
    const e = Y;
    let t = this[e(378)][e(384)]((s) => s.to), n = this.inputs.map((s) => s[e(373)]);
    return t.concat(n);
  }
}
class ci {
  constructor(e, t) {
    const n = Y;
    this.weight = 0, this[n(373)] = e, this.to = t, e.outputs[n(390)](this), t[n(393)].push(this);
  }
  isLoop() {
    return this.from === this.to;
  }
  [Y(398)](e) {
    const t = Y;
    return this.from === e.from || this[t(373)] === e.to || this.to === e.from || this.to === e.to;
  }
}
class ec {
  constructor(e) {
    const t = Y;
    this[t(372)] = e;
  }
  [Y(383)](e) {
    return ![];
  }
  [Y(396)](e) {
    return ![];
  }
  isCircuit(e) {
    const t = Y;
    return this.isClose(e) && this[t(396)](e);
  }
  isTrack(e) {
    return ![];
  }
  isCycle(e) {
    return this[Y(383)](e) && this.isTrack(e);
  }
}
class tn {
  constructor(e, t) {
    const n = Y;
    this[n(392)] = !![], this.vertexes = e, this.edges = t;
  }
  isZero() {
    const e = Y;
    return this[e(372)].length > 0 && this[e(376)][e(379)] == 0;
  }
  isAlone() {
    return this.vertexes.length == 1 && this.edges.length == 0;
  }
  traverse(e, t = "depth", n = [], s = /* @__PURE__ */ new Set()) {
    const i = Y;
    e == null && (e = this.vertexes[0]);
    let r = this;
    if (!s[i(385)](e) && (n.push(e), s.add(e)), t == "depth")
      e.getAdjacentList()[i(395)]((a) => !s.has(a)).map((a) => {
        const c = i;
        !s.has(a) && (n.push(a), s.add(a)), r[c(394)](a, t, n, s);
      });
    else {
      let o = e.getAdjacentList().filter((a) => !s.has(a));
      o.map((a) => {
        n.push(a), s.add(a);
      }), o.map((a) => {
        r.traverse(a, t, n, s);
      });
    }
    return n;
  }
  [Y(389)]() {
    let e = this.vertexes[0];
    for (let t = 1; t < this.vertexes.length; t++) {
      const n = this.vertexes[t];
      n.getDegree() > e.getDegree() && (e = n);
    }
    return e;
  }
  getMinDegree() {
    const e = Y;
    let t = this[e(372)][0].getDegree();
    for (let n = 1; n < this[e(372)].length; n++) {
      const s = this.vertexes[n];
      s.getDegree() < t && (t = s.getDegree());
    }
    return t;
  }
  getPathList(e, t, n = /* @__PURE__ */ new Set()) {
    return [];
  }
  getOrder() {
    const e = Y;
    return this.vertexes[e(379)];
  }
  isBridge() {
  }
  isSubGraph(e) {
  }
  isTree() {
    const e = Y;
    return this[e(372)].length != this.edges.length + 1 ? ![] : this.vertexes.length == 1 ? !![] : this.vertexes[e(395)]((n) => n.getDegree() == 1)[e(379)] > 0;
  }
  travelNext(e) {
    let t = [];
    function n(s) {
      t.push(s);
      let i = s.outputs.map((r) => r.to);
      for (let r = 0; r < i.length; r++) {
        let o = i[r];
        if (o === e)
          return;
        n(o);
      }
    }
    return n(e), t;
  }
  clone() {
    const e = Y;
    let t = this.vertexes.slice();
    t.forEach((i) => {
      const r = $0;
      i.inputs = i.inputs.slice(), i[r(378)] = i.outputs.slice();
    });
    let n = this[e(376)].slice(), s = new tn(t, n);
    return s.hasDirection = this.hasDirection, s;
  }
  [Y(375)]() {
    const e = Y;
    let t = 0;
    this[e(372)].forEach((s) => t += s.getDegree()), console.assert(t == this[e(376)].length * 2);
    let n = this.vertexes[e(395)]((s) => s.getDegree() % 2 != 0).length;
    console.assert(n % 2 == 0);
  }
}
const Dt = ss;
(function(x, e) {
  const t = ss, n = x();
  for (; []; )
    try {
      if (-parseInt(t(444)) / 1 * (parseInt(t(459)) / 2) + -parseInt(t(464)) / 3 * (parseInt(t(456)) / 4) + parseInt(t(469)) / 5 + -parseInt(t(461)) / 6 + -parseInt(t(478)) / 7 * (parseInt(t(466)) / 8) + -parseInt(t(463)) / 9 + parseInt(t(472)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(xs, 159666);
function xs() {
  const x = ["234882PDSCHy", "set", "1908iVARNb", "33JxGHJT", "forEach", "440QyQniL", "vertexes", "filter", "254385thuHtS", "from", "edges", "4726510yDHLXU", "sort", "map", "push", "getNodes", "toGraphs", "24976axGmZR", "has", "begin", "1117UpIUgZ", "end", "travelVertext", "outputs", "getLinks", "object", "isTree", "weight", "get", "getOutDegree", "toTree", "fromObject", "3992BdqpZn", "addChild", "createMinimalSpanningTree", "210wDiqDI", "add"];
  return xs = function() {
    return x;
  }, xs();
}
function ss(x, e) {
  const t = xs();
  return ss = function(n, s) {
    return n = n - 443, t[n];
  }, ss(x, e);
}
class o0 {
  static [Dt(458)](e) {
    const t = Dt;
    let n = [], s = [], i = e.edges[t(473)]((a, c) => {
      const l = t;
      let h = a.weight - c[l(451)];
      return h == 0 && (h = a[l(470)].getInDegree() - c.from.getInDegree(), h == 0 && (h = c.to.getOutDegree() - a.to[l(453)]())), h;
    }), r = /* @__PURE__ */ new WeakMap();
    for (let a = 0; a < i.length; a++) {
      const c = i[a];
      let l = c.from, h = c.to, f = r.get(l), g = r.get(h);
      if (f != null && g != null)
        continue;
      f == null && (f = new Ke(), f.object = l.object, n.push(f), r.set(l, f)), g == null && (g = new Ke(), g.object = h.object, n.push(g), r[t(462)](h, g));
      let b = new ci(f, g);
      b[t(449)] = c.object, s.push(b);
    }
    return new tn(n, s);
  }
  [Dt(476)](e) {
    return e.vertexes.map((t) => t.object);
  }
  [Dt(448)](e) {
    return e.edges.map((t) => t.object);
  }
  objectsToGraphs(e) {
    const t = Dt, n = e[t(468)]((c) => c instanceof D);
    let s = e.filter((c) => c instanceof N);
    s.filter((c) => c.begin.isNodeTarget() && c[t(445)].isNodeTarget());
    const i = /* @__PURE__ */ new WeakMap(), r = n.map((c) => {
      const l = t, h = new Ke();
      return h[l(449)] = c, i[l(462)](c, h), h;
    });
    s[t(468)]((c) => {
      const l = t;
      return i[l(452)](c.begin.target) && i[l(452)](c.end.target);
    });
    const o = s.map((c) => {
      let l = i.get(c.begin.target), h = i.get(c.end.target), f = new ci(l, h);
      return f.object = c, f;
    });
    return this.toGraphs(r, o);
  }
  [Dt(477)](e, t) {
    const n = Dt;
    let s = [];
    e[n(465)]((o) => {
      const a = n;
      let c = o.inputs, l = o[a(447)];
      s = s.concat(c), s = s.concat(l);
    });
    let i = [], r = /* @__PURE__ */ new Set();
    for (let o = 0; o < e.length; o++) {
      const a = e[o];
      if (r[n(479)](a))
        continue;
      let c = [], l = [];
      this.travelVertext(a, c, l, r);
      let h = new tn(c, l);
      i.push(h);
    }
    return i;
  }
  travelVertext(e, t = [], n = [], s = /* @__PURE__ */ new Set()) {
    const i = Dt;
    if (s[i(479)](e))
      return;
    t.push(e), s.add(e);
    let r = e.inputs[i(468)]((c) => !s.has(c)), o = e[i(447)].filter((c) => !s.has(c));
    r.forEach((c) => {
      n.push(c), s.add(c);
    }), o.forEach((c) => {
      const l = i;
      n[l(475)](c), s[l(460)](c);
    });
    let a = this;
    r.forEach((c) => {
      a[i(446)](c.from, t, n, s);
    }), o[i(465)]((c) => {
      a.travelVertext(c.to, t, n, s);
    });
  }
  [Dt(454)](e) {
    const t = Dt;
    !e[t(450)]() && (e = o0.createMinimalSpanningTree(e));
    let n = e[t(467)].filter((c) => c.getInDegree() == 0)[0][t(449)], s = e[t(467)].map((c) => c.object), i = e[t(471)][t(474)]((c) => c.object);
    const r = /* @__PURE__ */ new WeakMap();
    let o = new Ze();
    return o.fromObject(n), r[t(462)](n, o), s[t(465)]((c) => {
      const l = t;
      if (c === n)
        return;
      const h = new Ze();
      h[l(455)](c), r[l(462)](c, h);
    }), i.forEach((c) => {
      const l = t;
      let h = r.get(c[l(443)].target), f = r.get(c.end.target);
      h[l(457)](f);
    }), new tc(o);
  }
}
const pn = a0;
function a0(x, e) {
  const t = is();
  return a0 = function(n, s) {
    return n = n - 455, t[n];
  }, a0(x, e);
}
(function(x, e) {
  const t = a0, n = x();
  for (; []; )
    try {
      if (-parseInt(t(470)) / 1 * (-parseInt(t(471)) / 2) + parseInt(t(461)) / 3 * (parseInt(t(467)) / 4) + parseInt(t(457)) / 5 * (-parseInt(t(468)) / 6) + parseInt(t(462)) / 7 + -parseInt(t(464)) / 8 * (-parseInt(t(459)) / 9) + parseInt(t(465)) / 10 + -parseInt(t(455)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(is, 221258);
class Sn {
  constructor(e, t) {
    const n = a0;
    this.x = 0, this.y = 0, this.scaleX = 1, this.scaleY = 1, this[n(474)] = 1, this.height = 1, this.rotation = 0, this.objects = e, this[n(466)] = t, this.positionNormals = z.getPointsNormalization(t);
    let s = z[n(458)](t);
    this.width = s.width, this.height = s[n(463)];
  }
  resizeTo(e, t) {
    const n = a0;
    this.width = e, this[n(463)] = t;
  }
  [pn(473)](e, t) {
    const n = pn;
    this[n(474)] = e, this[n(463)] = t;
  }
  translate(e, t) {
    this.x = e, this.y = t;
  }
  scale(e, t) {
    this.scaleX = e, this.scaleY = t;
  }
  rotate(e) {
    this.rotation = e;
  }
  updateXY(e) {
    const t = pn, n = this.objects;
    let s = Math.min(e[t(469)], n.length);
    for (let i = 0; i < s; i++) {
      let r = e[i];
      n[i][t(472)](r.x, r.y);
    }
  }
  doLayout(e) {
    const t = pn;
    let n = this, s = this.objects, i = this.positionNormals;
    this.rotation != 0 && (i = z.rotateNormaledPoints(this[t(475)], this.rotation));
    let r = (o) => {
      const a = t;
      return { x: n.x + n[a(474)] * o.x * n.scaleX, y: n.y + n.height * o.y * n[a(456)] };
    };
    if (i = i.map(r), e != null) {
      let o = function(l) {
        return n.updateXY(l);
      }, a = s.map((l) => ({ x: l.x, y: l.y })), c = Object.assign({ from: a, to: i, update: o }, e);
      this.animationSystem[t(460)](c).play();
    } else
      this.updateXY(i);
    return this;
  }
}
function is() {
  const x = ["positions", "7768ghYDRn", "19860CBYIZr", "length", "71PCwlLr", "7472ubnBwa", "setXY", "resize", "width", "positionNormals", "12103872UeCenw", "scaleY", "20jvviFs", "getPointsRect", "94509KXfOwy", "anime", "204JRHXXI", "2616614oZdUBQ", "height", "176YDaean", "3327140gvVXFd"];
  return is = function() {
    return x;
  }, is();
}
(function(x, e) {
  const t = os, n = x();
  for (; []; )
    try {
      if (-parseInt(t(286)) / 1 * (-parseInt(t(284)) / 2) + parseInt(t(290)) / 3 * (-parseInt(t(279)) / 4) + parseInt(t(280)) / 5 + parseInt(t(283)) / 6 + -parseInt(t(288)) / 7 * (parseInt(t(282)) / 8) + -parseInt(t(287)) / 9 * (parseInt(t(291)) / 10) + parseInt(t(292)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(rs, 897878);
function rs() {
  const x = ["610yVkkiy", "26845225JIlpVm", "length", "488TLycBj", "1841245RfdlvH", "getLeafs", "7688krtHzL", "10031346trBGpi", "108GVxeNs", "width", "49ROHPHU", "220383HxHdyd", "11564BFnspC", "translateWithRecursive", "12396nxvfci"];
  return rs = function() {
    return x;
  }, rs();
}
function os(x, e) {
  const t = rs();
  return os = function(n, s) {
    return n = n - 278, t[n];
  }, os(x, e);
}
function nc(x) {
  const e = os;
  let t = x.indexData, n = x.deep, s = x[e(281)](), i = 60, r = 80;
  for (let c = 0; c < s.length; c++) {
    let l = s[c], h = (c + 1) * i, f = n * r;
    l.translateTo(h, f);
  }
  for (let c = n - 1; c >= 0; c--) {
    let l = t[c];
    for (let h = 0; h < l.length; h++) {
      let f = l[h], g = f.children, b = f.x, p = c * r;
      if (g.length > 0 ? b = (g[0].x + g[g.length - 1].x) / 2 : h > 0 && (b = l[h - 1].x + l[h - 1].width), f.translateTo(b, p), h > 0 && f.x < l[h - 1].x + l[h - 1].width) {
        let m = l[h - 1].x + l[h - 1][e(285)], _ = Math.abs(m - f.x);
        for (let L = h; L < l[e(278)]; L++)
          l[L][e(289)](_, 0);
      }
    }
  }
  let o = [];
  return x.allVirtualNodes.forEach((c) => {
    o.push(c);
  }), o;
}
const gn = c0;
(function(x, e) {
  const t = c0, n = x();
  for (; []; )
    try {
      if (parseInt(t(437)) / 1 + -parseInt(t(447)) / 2 * (-parseInt(t(440)) / 3) + -parseInt(t(456)) / 4 * (parseInt(t(441)) / 5) + parseInt(t(443)) / 6 + -parseInt(t(435)) / 7 + -parseInt(t(457)) / 8 + parseInt(t(446)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(as, 665956);
function as() {
  const x = ["sizeFitToChildren", "createMinimalSpanningTree", "radius", "2425188OJKoUp", "9777752gyPDQq", "push", "sin", "animationSystem", "endAngle", "3617803GxvhBe", "angleScale", "913568HWBTEV", "isTree", "length", "6OmzzeB", "10AecyxX", "radiusScale", "7569372bEeuiQ", "update", "treeLayout", "9442422fzWTwx", "393310vlOrmU", "graphSystem", "has", "toTree", "add", "object"];
  return as = function() {
    return x;
  }, as();
}
function c0(x, e) {
  const t = as();
  return c0 = function(n, s) {
    return n = n - 433, t[n];
  }, c0(x, e);
}
class Wr {
  constructor(e, t) {
    const n = c0;
    this.animationSystem = e, this[n(448)] = t;
  }
  shapeLayout(e, t) {
    const n = c0;
    let s = t;
    t instanceof A && (s = t.points);
    let i = new Sn(e, s);
    return i[n(433)] = this.animationSystem, i;
  }
  circleLayout(e, t = {}) {
    !e.isTree() && (e = o0.createMinimalSpanningTree(e));
    let n = e.traverse(null).filter((a) => a instanceof Ke), s = n[0], i = this.getCircleLayoutPositions(s, t), r = n.map((a) => a.object), o = new Sn(r, i);
    return o.animationSystem = this.animationSystem, o;
  }
  [gn(445)](e) {
    const t = gn;
    !e[t(438)]() && (e = o0[t(454)](e));
    let n = e.traverse(null).filter((a) => a instanceof Ke), s = this.graphSystem[t(450)](e), i = nc(s), r = n.map((a) => a.object), o = new Sn(r, i);
    return o.animationSystem = this[t(433)], o;
  }
  travelTree(e, t) {
    if (!e.isTree())
      throw new Error("graph is not a tree");
    return t == null && (t = e.vertexes[0]), e.travelNext(t);
  }
  getCircleLayoutPositions(e, t = {}) {
    const n = gn;
    t.cx = t.cx || 0, t.cy = t.cy || 0, t[n(455)] = t.radius || 200, t.startAngle = t.startAngle || 0, t.endAngle = t.endAngle || 2 * Math.PI, t[n(442)] = t[n(442)] || 0.5, t[n(436)] = t.angleScale || 1, t.endAngle > 2 * Math.PI && (t[n(434)] = t[n(434)] % (2 * Math.PI));
    let s = [], i = /* @__PURE__ */ new Set(), r = [];
    function o(a, c, l, h, f, g, b) {
      const p = n;
      if (i[p(449)](a))
        return;
      r[p(458)](a[p(452)].id), i[p(451)](a), s[p(458)]({ x: c, y: l });
      let m = a.getAdjacentList(), _ = m[p(439)];
      if (b > 1 && (_ -= 1), _ <= 0)
        return;
      let L = f, P = g - f, E = P;
      P < 2 * Math.PI && (_ -= 1), _ != 0 && (E /= _), b > 1 && (P < 2 * Math.PI ? L -= P * 0.5 : P == 2 * Math.PI && _ > 1 && _ % 2 == 0 && (L += E * 0.5));
      for (let q = 0; q < m[p(439)]; q++) {
        let K = m[q], vt = L + q * E, We = c + h * Math.cos(vt), fe = l + h * Math[p(459)](vt);
        t[p(444)] && t.update(t, e.object, b), o(K, We, fe, h * t.radiusScale, vt, vt + P, b + 1);
      }
    }
    return t[n(444)] && t.update(t, e[n(452)], 0), o(e, t.cx, t.cy, t.radius, t.startAngle, t.endAngle, 1), s;
  }
  sizeFitToChildren(e, t) {
    return qt[gn(453)](e, t);
  }
}
(function(x, e) {
  const t = ie, n = x();
  for (; []; )
    try {
      if (parseInt(t(200)) / 1 + -parseInt(t(207)) / 2 * (-parseInt(t(206)) / 3) + -parseInt(t(194)) / 4 + -parseInt(t(197)) / 5 + parseInt(t(204)) / 6 + -parseInt(t(198)) / 7 * (-parseInt(t(195)) / 8) + parseInt(t(192)) / 9 * (-parseInt(t(193)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(cs, 348518);
function ie(x, e) {
  const t = cs();
  return ie = function(n, s) {
    return n = n - 192, t[n];
  }, ie(x, e);
}
class xc {
  constructor(e) {
    const t = ie;
    this.mode = "painted", this[t(201)] = e;
  }
  enter(e) {
    const t = ie;
    if (this.quit(), e == null || e === this[t(203)] || !e[t(205)]) {
      this[t(203)] = null;
      return;
    }
    this.object = e;
    let n = this[t(201)][t(196)]();
    this.hideList = C.flatten(n.children, (s) => s !== e), this.mouseEnabledBak = e.mouseEnabled, e[t(202)] = ![], e.isSelected = ![], this.hideList.forEach(function(s, i) {
      s._cameraVisible = ![];
    });
  }
  quit() {
    const e = ie;
    this.hideList != null && (this.mouseEnabledBak != null && (this.object[e(202)] = this.mouseEnabledBak), this.hideList.forEach(function(t, n) {
      t._cameraVisible = !![];
    })), this.hideList = null, this.stage.update();
  }
  getObject() {
    return this[ie(203)] == null ? this.stage.getCurrentLayer() : this.object;
  }
  getMouseXY() {
    const e = ie;
    return this.getObject().screenToLocalXY(this.stage[e(199)].x, this[e(201)].inputSystem.y);
  }
}
function cs() {
  const x = ["2644080kkHIUV", "136CAlkOs", "getCurrentLayer", "1452585jdJrWx", "62461lwBUdk", "inputSystem", "376440Hvknxl", "stage", "mouseEnabled", "object", "3289458zayncU", "isNode", "12ODzXMO", "230726MEDVKX", "81ppWruD", "264190ZbWrOe"];
  return cs = function() {
    return x;
  }, cs();
}
(function(x, e) {
  for (var t = li, n = x(); []; )
    try {
      var s = -parseInt(t(346)) / 1 + parseInt(t(350)) / 2 * (-parseInt(t(344)) / 3) + -parseInt(t(349)) / 4 + parseInt(t(348)) / 5 + parseInt(t(352)) / 6 + -parseInt(t(351)) / 7 * (parseInt(t(347)) / 8) + parseInt(t(353)) / 9;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ls, 353757);
function li(x, e) {
  var t = ls();
  return li = function(n, s) {
    n = n - 344;
    var i = t[n];
    return i;
  }, li(x, e);
}
class sc {
  constructor(e) {
    this.type = e;
  }
}
function ls() {
  var x = ["18176283PblOMP", "5169vDfsdM", "type", "506798GHPIGt", "21656opXKJB", "1216055obobSh", "1149140VkxCqh", "690gJHhVv", "1365sZRYGc", "44052aNIhtt"];
  return ls = function() {
    return x;
  }, ls();
}
const bt = en;
(function(x, e) {
  const t = en, n = x();
  for (; []; )
    try {
      if (-parseInt(t(267)) / 1 * (-parseInt(t(275)) / 2) + -parseInt(t(264)) / 3 * (-parseInt(t(269)) / 4) + -parseInt(t(265)) / 5 + -parseInt(t(266)) / 6 + parseInt(t(276)) / 7 + parseInt(t(273)) / 8 + -parseInt(t(259)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(hs, 299719);
function hs() {
  const x = ["getChildren", "146kYJpWD", "1569015iuYQpw", "translate", "forEach", "defaultPrevented", "type", "cancelZoom", "zoomMinLimit", "zoomOut", "translateWith", "update", "toScreenXY", "scaleY", "transform", "length", "zoomIn", "lookAt", "dirty", "1767222BHLzKd", "scale", "scaleX", "zoomBy", "dispatchEvent", "15YBsURM", "2895485htlSDg", "1882866vGoFZi", "7132QRxYUu", "wheelZoom", "199708sfBqEO", "inputSystem", "height", "zoomAfter", "3156552xoLlEy"];
  return hs = function() {
    return x;
  }, hs();
}
function en(x, e) {
  const t = hs();
  return en = function(n, s) {
    return n = n - 248, t[n];
  }, en(x, e);
}
let Mt = new sc("zoom");
class ic extends Et {
  constructor(e) {
    const t = en;
    super(), this.x = 0, this.y = 0, this[t(260)] = 1, this.dirty = !![], this[t(254)] = new on(), this.zoomMaxLimit = 10, this[t(248)] = 0.1, this.stage = e;
  }
  [bt(257)](e, t) {
    const n = bt;
    typeof e != "number" ? (this.x = e.x, this.y = e.y) : (this.x = e, this.y = t);
    const s = this.stage, i = this;
    s.getChildren()[n(278)](function(r) {
      const o = n;
      r.translate(-i.x * r.scaleX, -i.y * r[o(253)]);
    }), s[n(251)](), Mt.type = "lookAt", this.dispatchEvent(Mt), this.dirty = !![];
  }
  zoomOut(e = 0.8) {
    const t = bt;
    return this.zoomBy(e), Mt.type = t(249), this[t(263)](Mt), this;
  }
  zoomIn(e = 1.25) {
    const t = bt;
    return this[t(262)](e), Mt[t(280)] = t(256), this[t(263)](Mt), this;
  }
  zoomBy(e, t, n) {
    const s = bt;
    let i = this.scale * e;
    if (i > this.zoomMaxLimit || i < this.zoomMinLimit)
      return;
    this[s(260)] = i;
    const r = this.stage;
    if (this.hasListener(ft.zoom)) {
      let a = new Event(ft.zoom, { cancelable: !![] });
      if (r.dispatchEvent(a), a[s(279)] == !![])
        return;
    }
    const o = this;
    if (r[s(274)]().forEach(function(a) {
      const c = s;
      a.mouseEnabled && a[c(268)] && o.zoomLayer(a, e, t, n);
    }), this.hasListener(ft.zoomAfter)) {
      let a = new Event(ft[s(272)], { cancelable: !![] });
      if (r[s(263)](a), a.defaultPrevented == !![])
        return;
    }
    r.update(), this.dirty = !![], Mt[s(280)] = "zoom", this.dispatchEvent(Mt);
  }
  zoom(e) {
    const t = bt;
    this.stage.getChildren().forEach(function(s) {
      s.scaleTo(1, 1), s.translateTo(0, 0);
    }), this[t(260)] = 1, this.zoomBy(e, this.x, this.y);
  }
  cancelZoom() {
    const e = bt, t = this.stage;
    t.getChildren().forEach(function(n) {
      n.scaleTo(1, 1), n.translateTo(0, 0);
    }), this.scale = 1, this.dirty = !![], t.update(), Mt.type = e(281), this.dispatchEvent(Mt);
  }
  zoomLayer(e, t, n, s) {
    const i = bt;
    if (this.hasListener("zoom")) {
      let l = new Event("zoom", { cancelable: !![] });
      if (l.zoom = { x: t, y: t, cx: n, cy: s }, this[i(263)](l), l.defaultPrevented == !![])
        return;
    }
    if (n != null && s != null) {
      e.updateMatrix();
      let l = e.toScreenXY(n, s);
      n = l.x, s = l.y;
    }
    e.scaleBy(t, t);
    let r = e.width * e[i(261)], o = e.height * e.scaleY, a = r * t - r, c = o * t - o;
    if (n != null && s != null) {
      let l = e.stage, h = { x: l.width * 0.5, y: l[i(271)] * 0.5 }, f = e[i(252)](h.x, h.y), g = (n - f.x) / 2, b = (s - f.y) / 2;
      t >= 1 ? (a += g, c += b) : (a -= g * t, c -= b * t);
    }
    e.translateWith(-(a / 2), -(c / 2));
  }
  translateWith(e, t) {
    const n = bt;
    this.x += e, this.y += t, this[n(258)] = !![];
  }
  _dragWith(e, t) {
    const n = bt;
    this[n(250)](-e, -t);
    const s = this.stage;
    s[n(270)].isDragStart && s.setCursor("grabbing");
    const i = s.getChildren().filter((r) => r.mouseEnabled && r.draggable);
    for (let r = 0; r < i[n(255)]; r++)
      i[r].translateWith(e, t);
  }
  targetOnly(e) {
    this.stage.localView.enter(e);
  }
  getTransform() {
    const e = bt;
    return this.transform[e(277)](this.x, this.y), this.transform.scale(this.scale, this[e(260)]), this.transform;
  }
  isDirty() {
    return this.dirty;
  }
  clearDirty() {
    const e = bt;
    this[e(258)] = ![];
  }
}
const w = Gt;
(function(x, e) {
  const t = Gt, n = x();
  for (; []; )
    try {
      if (-parseInt(t(284)) / 1 + parseInt(t(235)) / 2 * (-parseInt(t(340)) / 3) + -parseInt(t(329)) / 4 * (parseInt(t(336)) / 5) + -parseInt(t(347)) / 6 + parseInt(t(293)) / 7 + parseInt(t(350)) / 8 * (-parseInt(t(310)) / 9) + parseInt(t(275)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(us, 171788);
function Gt(x, e) {
  const t = us();
  return Gt = function(n, s) {
    return n = n - 235, t[n];
  }, Gt(x, e);
}
let rc = Date.now();
class vi extends Et {
  constructor(e, t) {
    const n = Gt;
    super(), this.version = gi, this.children = [], this.visible = ![], this.mode = "normal", this.destoryed = ![], this.config = { dropAllowed: !![] }, this.Debug = ue, t != null && Object.assign(this.config, t), this[n(317)] = new ic(this), this[n(295)] = new xc(this), this[n(295)].mode = null, this.keyboard = new Ar(this), this[n(343)] = new Ii(), this.selectedGroup = new Dr(), this.resourceSystem = it, this._init(e), this.injectCss(), this.styleSystem = new Nr(this), this.behaviourSystem = new $a(this), this.animationSystem = new zr(), this[n(323)] = new Rr(this, this.animationSystem), this.graphSystem = new o0(), this.layoutSystem = new Wr(this.animationSystem, this[n(335)]), this.renderSystem = new za(this), this.exportSystem = new Na(this), this.serializerSystem = new qe(), this[n(236)].on("loaded", (s) => {
      this.update();
    }), this.inputSystem._initEvent(this);
  }
  injectCss() {
    const e = Gt;
    let t = document[e(288)] || document.getElementsByTagName("head")[0], n = document[e(351)](e(276));
    n == null && (n = document.createElement(e(291)), n.id = e(276), n[e(245)] = oa, t[e(330)](n));
  }
  [w(244)](e) {
    const t = w;
    let n = this;
    document.oncontextmenu = function() {
      return !n[Gt(343)].isMouseOn;
    }, n.domElement = cc(e);
    const s = document[t(255)]("div");
    n.layersContainer = s, n.debugPanel = new ia(n), ue.isDebug && n.debugPanel[t(283)](), n.setToolbar(new Tr(n)), s.classList.add("layer_container"), s.style.position = "relative", s[t(291)].width = "100%", n.domElement.appendChild(s), n.width = s.offsetWidth, n.height = s.clientHeight;
    {
      const i = new Ws(n);
      n.handlerLayer = i;
      const r = i[t(280)].canvas;
      r[t(291)].zIndex = "" + i[t(349)], this.layersContainer.appendChild(r);
    }
    oc(n), n.on(t(258), function(i) {
      i.preventDefault();
    });
  }
  [w(242)]() {
    const e = w;
    this.debugPanel[e(283)]();
  }
  [w(238)]() {
    this.debugPanel.hide();
  }
  [w(285)](e) {
    let t = this;
    t.overview == null && (t.overview = new ra(t)), t.overview.css(e), t.overview.show();
  }
  _updateOverview() {
    this.overview != null && this.overview.update();
  }
  hideOverview() {
    this.overview != null && this.overview.hide();
  }
  getToolbarHeight() {
    return this.toolbar == null ? 0 : this.toolbar.getHeigth();
  }
  [w(270)](e = 0.8) {
    return this.camera.zoomOut(e), this;
  }
  zoomIn(e = 1.25) {
    const t = w;
    return this.camera[t(313)](e), this;
  }
  zoom(e) {
    this.camera.zoomBy(e);
  }
  cancelZoom() {
    const e = w;
    this.camera[e(261)]();
  }
  [w(267)]() {
    const e = w, t = this;
    let n = t[e(309)](), s = t[e(281)] / n.width, i = t[e(342)] / n.height, r = Math.min(s, i), o = 0, a = 0;
    this.camera.zoomBy(r, o, a), t.translateToCenter();
  }
  translateToCenter() {
    const e = w;
    if (!this.visible) {
      console[e(318)]("stage.translateToCenter() should after stage.show()");
      return;
    }
    this[e(326)]()[e(254)](function(t) {
      t.centerBy();
    });
  }
  [w(265)](e) {
    const t = w;
    let n = new dt(e);
    return this[t(327)](n), n;
  }
  [w(327)](e) {
    const t = w;
    e._onMound(this), e.zIndex = this.children.length, e.resizeTo(this.width, this.height), e[t(333)] == null && (e.name = t(321) + e.zIndex), this.children.push(e);
    const n = e.render.canvas;
    n[t(291)].zIndex = "" + e.zIndex, this.layersContainer.appendChild(n), this.updateZIndex();
  }
  updateZIndex() {
    const e = w;
    this.children.sort(function(t, n) {
      const s = Gt;
      return t[s(349)] - n[s(349)];
    }), this.children[e(254)]((t) => {
      const n = e, s = t.render[n(303)];
      s.style.zIndex = "" + t.zIndex;
    });
  }
  getChildren() {
    return this.children;
  }
  removeChild(e) {
    e.render.canvas.remove();
    let t = this.children.indexOf(e);
    return t == -1 ? this : (z.removeAt(this.children, t), e.stage = null, this);
  }
  show() {
    const e = w;
    this.visible = !![], this.getChildren().forEach(function(t) {
      t[Gt(283)]();
    }), this.renderSystem[e(274)](), this.styleSystem.start();
  }
  hide() {
    this.visible = ![], this.renderSystem.pause(), this.getChildren().forEach(function(e) {
      e.hide();
    });
  }
  update() {
    const e = w;
    this[e(326)]().forEach(function(t) {
      t.update();
    }), this.handlerLayer[e(354)]();
  }
  forceUpdate() {
    const e = w;
    this[e(286)].forceUpdate(), this.getChildren()[e(254)](function(t) {
      t.forceUpdate();
    });
  }
  [w(282)]() {
    const e = w;
    return this.exportSystem[e(282)](this.children);
  }
  [w(352)]() {
    return this.exportSystem.saveImageInfo(this.children);
  }
  saveAsLocalImage() {
    const e = w;
    this.exportSystem[e(256)](this.children);
  }
  on(e, t) {
    return this.on.index = rc, this.addEventListener(e, t);
  }
  fullWindow() {
    const e = w;
    if (this[e(322)](ft[e(345)])) {
      let t = new Event(ft.fullWindow, { cancelable: !![] });
      if (this.dispatchEvent(t), t.defaultPrevented == !![])
        return;
    }
    Be.fullWindow(this[e(312)]);
  }
  fullScreen() {
    Be.fullScreen(this.domElement);
  }
  showToolbar() {
    const e = w;
    if (this.toolbar == null)
      return;
    this.toolbar.show();
    let t = e(289) + this.getToolbarHeight() + "px)";
    this[e(277)].style.height = t;
  }
  hideToolbar() {
    const e = w;
    if (this.toolbar == null)
      return;
    this[e(324)][e(249)]();
    let t = e(289) + this.getToolbarHeight() + "px)";
    this[e(277)][e(291)].height = t;
  }
  [w(311)](e) {
    const t = w;
    this.toolbar != null && this.toolbar.remove(), this[t(312)][t(330)](e.getDom());
    let n = t(289) + this.getToolbarHeight() + t(301);
    this.layersContainer.style[t(342)] = n, this.toolbar = e;
  }
  setMode(e) {
    const t = w;
    if (this.hasListener(ft.modeChange)) {
      let n = new Event(ft.modeChange, { cancelable: !![] });
      if (n[t(325)] = e, this[t(305)](n), n.defaultPrevented == !![])
        return;
    }
    ac(this, e), e == St.drag ? this.setCursor("grab") : this.setCursor(t(278));
  }
  [w(339)](e) {
  }
  dragoverHandler() {
  }
  mouseoverHandler() {
  }
  mousedownHandler(e) {
    const t = w, n = this.inputSystem;
    if (this[t(325)] == St.drag) {
      this[t(332)](t(240));
      return;
    }
    let s = this, i = s[t(250)]();
    s[t(343)][t(320)] = i;
    let r = s.mode == "edit" && i != null && i.mouseEnabled == ![];
    if (i != null && !r) {
      n.pickObject(i);
      return;
    }
    !(e.ctrlKey || e[t(271)]) && s.selectedGroup.removeAll();
  }
  static [w(252)](e, t) {
    const n = w;
    let s = e[n(247)](), i = C.flatten(e.children);
    for (let r = t[n(306)] - 1; r >= 0; r--) {
      let o = t[r];
      if (!(e === o || o === e.parent || !o.dropAllowed) && !(s[n(290)](o) != -1 || i.indexOf(o) != -1) && o[n(266)].aabb.containsRect(e._obb.aabb))
        return o;
    }
    return null;
  }
  mousedragHandler(e) {
    const t = w, n = this.inputSystem, s = this.handlerLayer, i = this.mode, r = this.inputSystem.target, o = this[t(262)], a = this.pickUpViewLayers();
    n.mouseoverTarget = a;
    const c = e.buttons == 1, l = c && r != null && r.mouseEnabled && r.draggable, h = this.getChildren().filter((g) => g.mouseEnabled);
    if (c && this.config.dropAllowed && l && r[t(355)]) {
      let g = null;
      for (let b = 0; b < h[t(306)]; b++) {
        const p = h[b], m = p.flattenList[t(253)]((_) => _.painted && _[t(279)]);
        g = vi.findDropToObjec(r, m), g !== n.dropTarget && n[t(344)] && n[t(344)].dragoutHandler(n), g != null && g.dragoverHandler(this[t(343)]);
      }
      n.dropTarget = g;
    }
    if (l) {
      o.dragHandler(n);
      return;
    }
    if (c && (i == St.select || i == St.edit)) {
      Ri(s);
      return;
    }
    this[t(317)]._dragWith(n.dx, n.dy);
  }
  mouseupHandler(e) {
    const t = w, n = this[t(343)];
    let s = this;
    const i = this.getChildren(), r = n[t(353)]();
    for (let c = 0; c < i.length; c++) {
      const l = i[c];
      l.draggable && n[t(257)] && l[t(273)]();
    }
    if (this.mode == St.drag) {
      this[t(332)]("grab");
      return;
    }
    this.setCursor(t(278));
    let o = this.inputSystem.target, a = this.handlerLayer;
    a[t(239)].hide(), a[t(239)].resizeTo(0, 0), o && o.mouseEnabled && (n.type == t(263) ? o.mouseupHandler(n) : n.type == t(300) && o.touchendHandler(n), n.previous.isDraging && o.draggable && r == ![] && s.selectedGroup.dragEndHandler(n)), this.config[t(272)] && n.dropTarget && (n[t(344)][t(339)](n), n.dropTarget = null);
  }
  [w(307)](e) {
    const t = w, n = this.inputSystem;
    this[t(286)][t(307)](n), this.selectedGroup.mouseoutHandler(n);
  }
  [w(334)](e) {
    const t = w, n = this[t(343)];
    let s = n.target;
    s && !n[t(269)][t(241)] && s.clickHandler(n);
  }
  dblclickHandler(e) {
    const t = w, n = this.inputSystem;
    let s = n[t(320)];
    s && !n.previous.isDragEnd && s.dblclickHandler(n);
  }
  mousemoveHandler(e) {
    const t = w, n = this.inputSystem;
    if (n.isDraging)
      return this.mousedragHandler(e);
    if (this.mode == St[t(294)]) {
      this.setCursor("grab");
      return;
    }
    if (n.skipPointerMovePicking) {
      console.log("跳过");
      return;
    }
    let s = n.mouseoverTarget, i = this.pickUpViewLayers();
    s !== i && s != null && s.mouseoutHandler && s.mouseoutHandler(n), i != null && (s !== i ? i.mouseenterHandler && i.mouseenterHandler(n) : i[t(264)] && i.mousemoveHandler(n)), n.mouseoverTarget = i;
  }
  mousewheelHandler(e) {
    const t = w, n = this.getCurrentLayer();
    if (n == null || this.inputSystem.wheelZoom != !![])
      return;
    let r = n[t(248)], o = n.mouseY;
    (e.wheelDelta == null ? e[t(246)] : e.wheelDelta) > 0 ? this.camera.zoomBy(1.25, r, o) : this[t(317)].zoomBy(0.8, r, o);
  }
  mouseenterHandler(e) {
  }
  touchstartHandler(e) {
    this.mousedownHandler(e);
  }
  [w(251)](e) {
    const t = w, n = this.inputSystem, s = this.handlerLayer, i = this[t(325)], r = this.inputSystem.target, o = this.selectedGroup, a = this[t(250)]();
    this.inputSystem[t(304)] = a, n.distanceRatio != 1 && this.getChildren().forEach((h) => {
      h.zoom(n.distanceRatio, n.distanceRatio);
    }), n.isDragStart;
    const c = r != null && r[t(308)] && r.draggable;
    if (this.getChildren().filter((h) => h.mouseEnabled), c) {
      o.dragHandler(n);
      return;
    }
    if (i == St[t(298)] || i == St.edit) {
      Ri(s);
      return;
    }
    this.camera[t(260)](n.dx, n.dy);
  }
  touchwheelHandler(e) {
    throw new Error("touchwheelHandler");
  }
  [w(237)](e) {
    this.mouseupHandler(e);
  }
  pickUpViewLayers() {
    const e = w;
    let t = this.getChildren();
    for (let n = t.length - 1; n >= 0; n--) {
      let s = t[n];
      if (!(s[e(299)] && s.mouseEnabled))
        continue;
      let i = s.pickUpChild();
      if (i != null)
        return i;
    }
    return null;
  }
  getCursor() {
    const e = w;
    return this.handlerLayer[e(280)][e(297)]();
  }
  setCursor(e) {
    return this.handlerLayer.render.setCursor(e);
  }
  download(e, t) {
    return this[w(302)].download(e, t);
  }
  [w(298)](e) {
    const t = w;
    this.selectedGroup.removeAll(), this[t(262)].addAll(e);
  }
  [w(316)]() {
    const e = w;
    return this.children.filter((t) => t[e(299)] == !![])[0];
  }
  rand(e, t) {
    const n = w;
    return e == null && (e = -this.width * 0.5), t == null && (t = this.height * 0.5), Math.round(Math[n(319)]() * (t - e) + e);
  }
  getAABB() {
    const e = w;
    let t = this[e(326)]()[e(287)]((s) => s[e(338)](s.getAABB()));
    return j.unionRects(t);
  }
  [w(331)]() {
    const e = w;
    let t = this.getChildren().map((s) => s.toStageRect(s.getExportAABB()));
    return j[e(268)](t);
  }
  destory(e) {
    const t = w;
    if (this.destoryed)
      throw new Error("Stage has been destroyed already.");
    this.destoryed = !![], this[t(292)] && this[t(292)].disconnect(), this._resizeTimer && clearInterval(this._resizeTimer), this[t(286)].destory(), this.children.forEach((n) => {
      n.destory();
    }), this.domElement.innerHTML = "", e != ![] && it.clearCache();
  }
}
function Ri(x, e) {
  const t = w;
  let n = x.stage, s = x[t(348)](), i = x[t(243)].getChildren();
  for (var r = 0; r < i[t(306)]; r++) {
    let o = i[r];
    if (!o.hasChildren())
      continue;
    let a = o.toLayerRect(s), c = o[t(328)](a);
    n.selectedGroup.addAll(c);
  }
}
function Wi(x, e, t) {
  const n = w;
  x[n(277)].style.height = "calc(100% - " + x.getToolbarHeight() + "px)", x.width = e, x.height = t, x.handlerLayer[n(346)](e, t), x.getChildren().forEach(function(i) {
    const r = n;
    i.updateSize(e, t), x.editor && x[r(259)].update && x.editor[r(354)]();
  });
  let s = new Event(ft[n(314)]);
  x.dispatchEvent(s);
}
function oc(x) {
  const e = w, t = x.layersContainer;
  if (t.style.height = "calc(100% - " + x.getToolbarHeight() + "px)", window[e(296)]) {
    const s = new ResizeObserver((i) => {
      const r = e;
      i[0].contentRect, Ct.delayRun(r(341), function() {
        Wi(x, t.clientWidth, t.clientHeight);
      }, 30);
    });
    s.observe(t), x[e(292)] = s;
    return;
  }
  let n = setInterval(function() {
    const s = e;
    let i = t.offsetWidth, r = t.offsetHeight;
    (x.width != i || x[s(342)] != r) && (t.style.height = "calc(100% - " + x[s(315)]() + "px)", Wi(x, i, r));
  }, 500);
  x._resizeTimer = n;
}
function ac(x, e) {
  const t = w;
  let n = x.mode;
  x.mode = e;
  let s = { type: ft.modeChange, oldMode: n, newMode: e };
  x[t(305)](s);
}
function cc(x) {
  const e = w;
  if (typeof x == "string" && (x = document.getElementById(x), x == null))
    throw new Error("the dom element id is not found id:" + x);
  if (x == null)
    throw new Error("the dom element is null.");
  return x.style.position = e(337), x;
}
function us() {
  const x = ["resourceSystem", "touchendHandler", "hideDebugPanel", "areaBox", "grabbing", "isDragEnd", "showDebugPanel", "stage", "_init", "textContent", "detail", "getAncestors", "mouseX", "hide", "pickUpViewLayers", "touchmoveHandler", "findDropToObjec", "filter", "forEach", "createElement", "saveAsLocalImage", "isDraging", "dragover", "editor", "_dragWith", "cancelZoom", "selectedGroup", "mouseup", "mousemoveHandler", "createLayer", "_obb", "zoomFullStage", "unionRects", "previous", "zoomOut", "metaKey", "dropAllowed", "dragEndHandler", "start", "9875390ySowJQ", "_jtopo_style_", "layersContainer", "default", "isNode", "render", "width", "toDataURL", "show", "315002SIYAvG", "showOverview", "handlerLayer", "map", "head", "calc(100% - ", "indexOf", "style", "_resizeObserver", "1592171PLOhrE", "drag", "localView", "ResizeObserver", "getCursor", "select", "visible", "touchend", "px)", "exportSystem", "canvas", "mouseoverTarget", "dispatchEvent", "length", "mouseoutHandler", "mouseEnabled", "getAABB", "117LxIeAc", "setToolbar", "domElement", "zoomIn", "resize", "getToolbarHeight", "getCurrentLayer", "camera", "warn", "random", "target", "Layer_", "hasListener", "effectSystem", "toolbar", "mode", "getChildren", "addChild", "pickUpByRect", "20fdpRjN", "appendChild", "getExportAABB", "setCursor", "name", "clickHandler", "graphSystem", "294605sCmRbB", "relative", "toStageRect", "dropHandler", "327bWedBX", "stage_resize", "height", "inputSystem", "dropTarget", "fullWindow", "updateSize", "362406yUTvkz", "showAreaBox", "zIndex", "95304HYWtik", "getElementById", "saveImageInfo", "isRightButton", "update", "draggable", "4006SejEFn"];
  return us = function() {
    return x;
  }, us();
}
function ds(x, e) {
  const t = fs();
  return ds = function(n, s) {
    return n = n - 431, t[n];
  }, ds(x, e);
}
const V = ds;
(function(x, e) {
  const t = ds, n = x();
  for (; []; )
    try {
      if (-parseInt(t(448)) / 1 + -parseInt(t(451)) / 2 * (parseInt(t(443)) / 3) + -parseInt(t(445)) / 4 + -parseInt(t(438)) / 5 * (-parseInt(t(455)) / 6) + parseInt(t(444)) / 7 * (-parseInt(t(442)) / 8) + parseInt(t(432)) / 9 * (-parseInt(t(459)) / 10) + -parseInt(t(458)) / 11 * (-parseInt(t(441)) / 12) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(fs, 605977);
function fs() {
  const x = ["2525052ZATefy", "8YcqIza", "161691cmhXeH", "6512709rbwXkE", "128100SxXQsd", "resetCtrlPoint", "end", "138153bPrKgy", "DefaultPositions", "length", "24wDIwmM", "setCtrlPoint", "getCtrlPoints", "getEndArrowDirection", "4278zsepOb", "begin", "prototype", "121NNqPEk", "10GuCmWx", "points", "ctrlPoint", "1743867rvvAvI", "getPoints", "center", "serializers", "direction", "getOwnPropertyDescriptor", "1630QGvbRR", "translateWith", "className"];
  return fs = function() {
    return x;
  }, fs();
}
var lc = Object.defineProperty, hc = Object[V(437)], bn = (x, e, t, n) => {
  const s = V;
  for (var i = n > 1 ? void 0 : n ? hc(e, t) : e, r = x[s(450)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && lc(e, t, i), i;
};
class Je extends N {
  constructor(e, t, n, s, i) {
    super(e, t, n, s, i), this.direction = "horizontal";
  }
  updatePoints() {
    const e = V;
    let t = this._calcAZ(), n = t[0], s = t[1], i = this.getCtrlPoint(n, s);
    return this.points = [n, i, s], this[e(460)];
  }
  translateWith(e, t) {
    const n = V;
    return super[n(439)](e, t), this.ctrlPoint != null && (this[n(431)].x += e, this.ctrlPoint.y += t), this;
  }
  autoCalcCtrlPoint(e, t) {
    let n = (e.x + t.x) / 2, s = (e.y + t.y) / 2;
    return this.direction == $e.horizontal ? s += (t.y - e.y) / 2 : s -= (t.y - e.y) / 2, { x: n, y: s };
  }
  getCtrlPoint(e, t) {
    return this.ctrlPoint != null ? this.ctrlPoint : this.autoCalcCtrlPoint(e, t);
  }
  [V(452)](e) {
    this.ctrlPoint = e, this.matrixDirty = !![];
  }
  [V(446)]() {
    this.ctrlPoint = void 0, this.matrixDirty = !![];
  }
  getPoint(e) {
    let n = this[V(433)](), s = n[0], i = n[1], r = n[2], o = T.interpolate(s, i, e), a = T.interpolate(i, r, e);
    return T.interpolate(o, a, e);
  }
  getBeginArrowDirection() {
    let t = this[V(460)][0], n = this.getPoint(0.01), s = [t.x - n.x, t.y - n.y];
    return M.normalize(s, s);
  }
  [V(454)]() {
    const e = V;
    let t = this.getPoint(0.9), n = this.points[this[e(460)].length - 1], s = [n.x - t.x, n.y - t.y];
    return M.normalize(s, s);
  }
}
bn([d("CurveLink")], Je.prototype, V(440), 2), bn([d(A.Curve)], Je.prototype, "shape", 2), bn([d(function() {
  return [V(456), "end", "ctrlPoint"];
})], Je.prototype, V(453), 2), bn([d(N.prototype[V(435)].concat([V(436), "ctrlPoint"]))], Je.prototype, "serializers", 2);
const I0 = {};
I0[v.begin] = function() {
  return this.getPoints()[0];
}, I0[v[V(447)]] = function() {
  let x = this.getPoints();
  return x[x.length - 1];
}, I0[v[V(434)]] = function() {
  let e = this[V(433)]();
  return T.middle(e[0], e[1]);
}, I0[v.ctrlPoint] = function() {
  if (this.ctrlPoint != null)
    return this.ctrlPoint;
  let x = this.getPoints();
  return this.getCtrlPoint(x[0], x[1]);
}, Je[V(457)][V(449)] = I0;
var O0 = ps;
(function(x, e) {
  for (var t = ps, n = x(); []; )
    try {
      var s = -parseInt(t(140)) / 1 * (-parseInt(t(135)) / 2) + parseInt(t(147)) / 3 + parseInt(t(143)) / 4 + -parseInt(t(144)) / 5 + parseInt(t(148)) / 6 * (-parseInt(t(138)) / 7) + parseInt(t(145)) / 8 * (parseInt(t(137)) / 9) + parseInt(t(146)) / 10 * (parseInt(t(141)) / 11);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(gs, 793342);
var uc = Object.defineProperty, dc = Object[O0(139)], yn = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? dc(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && uc(e, t, s), s;
};
function ps(x, e) {
  var t = gs();
  return ps = function(n, s) {
    n = n - 134;
    var i = t[n];
    return i;
  }, ps(x, e);
}
function gs() {
  var x = ["6YWgxlh", "shape", "className", "860810BTPNaB", "arrowsSize", "45AIjibN", "7018879LSwPza", "getOwnPropertyDescriptor", "1BFblMH", "1497529SzvVtE", "prototype", "4905208IwPiTk", "7557510LgACum", "776024LCrjkc", "10aDKLlZ", "3089040qWQxRN"];
  return gs = function() {
    return x;
  }, gs();
}
class L0 extends he {
  constructor(e, t = 0, n = 0, s = 1, i = 1) {
    super(e, t, n, s, i);
  }
  resizeToFitText() {
    let t = this._computedStyle.calcGap();
    this._width = this._textWidth + t, this._height = this._textHeight + t + this.arrowsSize;
  }
}
yn([d("TipNode")], L0.prototype, O0(134), 2), yn([d(8)], L0.prototype, O0(136), 2), yn([d(new Ve())], L0[O0(142)], O0(149), 2), yn([d(he.prototype.serializers.concat(["arrowsSize"]))], L0.prototype, "serializers", 2);
var $ = nn;
(function(x, e) {
  for (var t = nn, n = x(); []; )
    try {
      var s = -parseInt(t(411)) / 1 * (parseInt(t(406)) / 2) + parseInt(t(421)) / 3 + parseInt(t(416)) / 4 * (-parseInt(t(401)) / 5) + parseInt(t(397)) / 6 + -parseInt(t(402)) / 7 * (parseInt(t(407)) / 8) + parseInt(t(422)) / 9 * (parseInt(t(419)) / 10) + parseInt(t(409)) / 11;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(bs, 768710);
var fc = Object.defineProperty, pc = Object.getOwnPropertyDescriptor, Js = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? pc(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && fc(e, t, s), s;
};
function bs() {
  var x = ["defineProperties", "_dom", "2003334Rpqnbs", "_isPlaying", "_paintText", "height", "5ECaWcE", "7nMSulF", "play", "width", "destory", "1270OJsMGZ", "5578136ngswcp", "concat", "11474573tNfyed", "setVideo", "1699QtAqWH", "pause", "rect", "addEventListener", "string", "2169944yXJQjP", "_video", "draw", "10exnDhY", "className", "1434537vkGPUO", "11089053vEOouu", "src", "showCover", "mousePickupPath", "_videoSrc", "prototype", "ended"];
  return bs = function() {
    return x;
  }, bs();
}
class C0 extends D {
  constructor(e, t = 0, n = 0, s = 1, i = 1) {
    var r = nn;
    super(), this[r(398)] = ![], this.text = e, this.x = t || 0, this.y = n || 0, this[r(404)] = s || 0, this.height = i || 0;
  }
  [$(424)]() {
    this._isPlaying = ![];
  }
  play() {
    var e = $;
    this._isPlaying = !![], this._video[e(403)]();
  }
  pause() {
    var e = $;
    this[e(417)].pause();
  }
  setVideo(e) {
    var t = $;
    const n = this;
    this._dom != null && (this[t(396)].remove(), this[t(396)] = null), typeof e == t(415) ? (this._videoSrc = e, this._video = Be.createVideo(e, function() {
      var s = t;
      n.autoplay && n[s(403)]();
    }), this._dom = this[t(417)]) : (this._video = e, this._videoSrc = e.firstElementChild.getAttribute(t(423))), this._video.width = this[t(404)], this._video[t(400)] = this.height;
  }
  onPlay(e) {
    var t = $;
    this._video[t(414)](t(403), e, ![]);
  }
  onPause(e) {
    var t = $;
    this._video.addEventListener(t(412), e, ![]);
  }
  onEnded(e) {
    var t = $;
    this._video[t(414)](t(428), e, ![]);
  }
  [$(418)](e) {
    var t = $;
    e.beginPath();
    const n = -this[t(404)] * 0.5, s = -this.height * 0.5;
    if (e[t(413)](n, s, this.width, this.height), this[t(417)] != null) {
      this._video.width != this[t(404)] && (this._video.width = this[t(404)], this[t(417)].height = this[t(400)]);
      let i = this._isPlaying ? this._video : this._image;
      i != null && e.drawImage(i, n, s, this.width, this[t(400)]);
    } else
      e.stroke();
    this[t(425)](e), this[t(399)](e);
  }
  destory() {
    var e = $;
    super[e(405)](), this[e(396)] && this[e(396)].remove();
  }
}
Js([d("VideoNode")], C0.prototype, $(420), 2), Js([d(![])], C0[$(427)], "autoplay", 2), Js([d(D.prototype.serializers[$(408)](["autoplay", "videoSrc"]))], C0.prototype, "serializers", 2), Object[$(429)](C0.prototype, { videoSrc: { get() {
  var x = $;
  return this[x(426)];
}, set(x) {
  var e = $;
  this[e(410)](x);
} } });
function nn(x, e) {
  var t = bs();
  return nn = function(n, s) {
    n = n - 396;
    var i = t[n];
    return i;
  }, nn(x, e);
}
function ze(x, e) {
  const t = ys();
  return ze = function(n, s) {
    return n = n - 476, t[n];
  }, ze(x, e);
}
const rt = ze;
(function(x, e) {
  const t = ze, n = x();
  for (; []; )
    try {
      if (parseInt(t(501)) / 1 * (parseInt(t(490)) / 2) + parseInt(t(493)) / 3 + -parseInt(t(484)) / 4 * (-parseInt(t(504)) / 5) + -parseInt(t(485)) / 6 + parseInt(t(482)) / 7 + -parseInt(t(479)) / 8 + -parseInt(t(483)) / 9 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ys, 300565);
var hi = function() {
};
hi.prototype = { calculate: function(x, e) {
  const t = ze;
  this.dx = x.x - e.x, this.dy = x.y - e.y, this.d2 = this.dx * this.dx + this.dy * this.dy, this.d = Math[t(476)](this.d2);
} };
class gc {
  constructor(e, t, n) {
    const s = ze;
    this[s(498)] = [], this.frame_width = t, this.frame_height = n, this.origin = e, this.initialize(), this.initNodes(e);
  }
  [rt(494)](e) {
    let t = this;
    qt.travel(e, function(n, s) {
      const i = ze;
      if (n.isNode && s != null) {
        let r = s, o = n;
        r == e && t.setOriginEdgeWeight(o, t.originWeight);
        let a = o.mass | 1;
        t[i(499)](o, a);
        let c = 30;
        t.addLink(r, o, c);
      }
    });
  }
  initialize() {
    const e = rt;
    this.originWeight = 48, this[e(487)] = 12, this.gravity = 50, this.maxForceDistance = 512, this.nodes = new Array(), this.edges = new Array(), this[e(498)] = new Array();
  }
  originForce(e, t) {
    const n = rt;
    if (this[n(498)][e.id]) {
      if (e.id != this.selectedNode) {
        let s = this[n(498)][e.id], i = (t.d - s) / s;
        e[n(496)].x += i * (t.dx / t.d), e.force.y += i * (t.dy / t.d);
      }
    } else if (e.id != this.selectedNode) {
      let s = this.gravity * e[n(488)] * this[n(491)].mass / t.d2, i = this.maxForceDistance - t.d;
      i > 0 && (s *= Math.log(i)), s < 1024 && (e[n(496)].x -= s * t.dx / t.d, e.force.y -= s * t.dy / t.d);
    }
  }
  attractiveForce(e, t, n) {
    const s = rt;
    let i = this.edges[e.id][t.id];
    if (i += 3 * (e.neighbors + t[s(489)]), i) {
      let r = (n.d - i) / i;
      e.id != this[s(478)] && (e.force.x -= r * n.dx / n.d, e[s(496)].y -= r * n.dy / n.d), t.id != this.selectedNode && (t[s(496)].x += r * n.dx / n.d, t[s(496)].y += r * n.dy / n.d);
    }
  }
  [rt(502)](e, t, n) {
    const s = rt;
    let i = this.gravity * e.mass * t[s(488)] / n.d2, r = this[s(486)] - n.d;
    r > 0 && (i *= Math.log(r)), i < 1024 && (e.force.x += i * n.dx / n.d, e.force.y += i * n.dy / n.d);
  }
  doLayout() {
    this[rt(497)]();
  }
  applyForce() {
    const e = rt;
    for (var t = 0; t < this.nodes[e(477)]; t++) {
      let s = this.nodes[t];
      for (var n = 0; n < this[e(503)].length; n++)
        if (t != n) {
          let r = this.nodes[n], o = new hi();
          o.calculate(s, r), this.getLink(s.id, r.id) != null && this.attractiveForce(s, r, o), t != this.selectedNode && this.repulsiveForce(s, r, o);
        }
      let i = new hi();
      i.calculate(this[e(491)], s), this.originForce(s, i), s[e(496)].x *= this[e(487)], s.force.y *= this[e(487)], s.x += s[e(496)].x, s.y += s[e(496)].y, s.force.x = 0, s.force.y = 0;
    }
  }
  bounds(e) {
    const t = rt;
    let n = 12, s = n * 2 + 4, i = e.x, r = e.x + s, o = e.y, a = e.y + s;
    i < 0 && (e.x = 0), o < 0 && (e.y = 0), r > this.frame_width && (e.x = this[t(495)] - s), a > this.frame_height && (e.y = this[t(480)] - s);
  }
  setOriginEdgeWeight(e, t) {
    this.originEdges[e.id] = t;
  }
  addNode(e, t) {
    const n = rt;
    e[n(488)] = t | 1, e.neighbors = e.neighbors | 0, e.force = { x: 0, y: 0 }, this.nodes.push(e);
  }
  [rt(492)](e, t) {
    let s = this[rt(481)][e];
    return s == null ? null : s[t];
  }
  [rt(500)](e, t, n) {
    const s = rt;
    !this.edges[e.id] && (this[s(481)][e.id] = new Object()), this.edges[e.id][t.id] = n;
    try {
      e.neighbors++, t.neighbors++;
    } catch (i) {
      console.log("Error Adding Edge: " + i);
    }
  }
}
function ys() {
  const x = ["selectedNode", "2262008LRMiKA", "frame_height", "edges", "3081589uwSeVv", "1980882lJalnO", "48772wqVdar", "3448860cKgMfc", "maxForceDistance", "speed", "mass", "neighbors", "32cuygun", "origin", "getLink", "559617KIcutK", "initNodes", "frame_width", "force", "applyForce", "originEdges", "addNode", "addLink", "21056NIthHb", "repulsiveForce", "nodes", "170KoIYHa", "sqrt", "length"];
  return ys = function() {
    return x;
  }, ys();
}
function _s() {
  const x = ["4917gVYleI", "1767440gdLqzz", "24SZaohS", "24302650SLguVU", "anticlockwise", "1081088yBANql", "defineProperty", "direction", "length", "clockwise", "getOwnPropertyDescriptor", "90QEhdCU", "2567800kBGzBr", "508095CDXiJn", "992aSkbsm", "push", "cos", "3554874qQfVlh"];
  return _s = function() {
    return x;
  }, _s();
}
const Ne = ms;
(function(x, e) {
  const t = ms, n = x();
  for (; []; )
    try {
      if (-parseInt(t(246)) / 1 + -parseInt(t(255)) / 2 * (parseInt(t(259)) / 3) + parseInt(t(253)) / 4 + -parseInt(t(260)) / 5 + -parseInt(t(252)) / 6 * (parseInt(t(254)) / 7) + -parseInt(t(261)) / 8 * (-parseInt(t(258)) / 9) + parseInt(t(244)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(_s, 920878);
var bc = Object[Ne(247)], yc = Object[Ne(251)], _n = (x, e, t, n) => {
  const s = Ne;
  for (var i = n > 1 ? void 0 : n ? yc(e, t) : e, r = x[s(249)] - 1, o; r >= 0; r--)
    (o = x[r]) && (i = (n ? o(e, t, i) : o(i)) || i);
  return n && i && bc(e, t, i), i;
};
class E0 extends N {
  constructor(e, t, n, s, i) {
    super(e, t, n, s, i);
  }
  getPoint(e) {
    const t = Ne;
    let n = this.getPoints(), s = n[0], i = n[n.length - 1], r = (s.x + i.x) / 2, o = (s.y + i.y) / 2, a = s.x - i.x, c = s.y - i.y, l = Math.sqrt(a * a + c * c) / 2, h = Math.atan2(c, a), f = h + Math.PI * e;
    return this[t(248)] == t(245) && (f = h - Math.PI * e), { x: r + l * Math[t(257)](f), y: o + l * Math.sin(f) };
  }
  updatePoints() {
    const e = Ne;
    let t = this._calcAZ(), n = t[0], s = t[1], i = [n], r = { x: (n.x + s.x) * 0.5, y: (n.y + s.y) * 0.5 }, o = T.distancePoint(n, s) * 0.5;
    return i[e(256)]({ x: r.x, y: r.y - o }), i.push({ x: r.x, y: r.y + o }), i[e(256)]({ x: r.x - o, y: r.y }), i[e(256)]({ x: r.x + o, y: r.y }), i.push(s), i;
  }
}
function ms(x, e) {
  const t = _s();
  return ms = function(n, s) {
    return n = n - 244, t[n];
  }, ms(x, e);
}
_n([d("ArcLink")], E0.prototype, "className", 2), _n([d(A.Arc)], E0.prototype, "shape", 2), _n([d(N.prototype.serializers.concat([Ne(248)]))], E0.prototype, "serializers", 2), _n([d(Ne(250))], E0.prototype, "direction", 2);
const Q = Ce;
(function(x, e) {
  const t = Ce, n = x();
  for (; []; )
    try {
      if (parseInt(t(348)) / 1 + parseInt(t(347)) / 2 * (parseInt(t(345)) / 3) + parseInt(t(353)) / 4 * (parseInt(t(342)) / 5) + -parseInt(t(352)) / 6 + -parseInt(t(337)) / 7 * (parseInt(t(332)) / 8) + -parseInt(t(340)) / 9 + -parseInt(t(350)) / 10 * (-parseInt(t(335)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Is, 127875);
var _c = Object.defineProperty, mc = Object.getOwnPropertyDescriptor, qs = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? mc(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && _c(e, t, s), s;
};
class D0 extends N {
  constructor(e, t, n, s, i) {
    super(e, t, n, s, i);
  }
  translateWith(e, t) {
    const n = Ce;
    return super.translateWith(e, t), this.ctrlPoint1 != null && (this.ctrlPoint1.x += e, this[n(354)].y += t), this.ctrlPoint2 != null && (this.ctrlPoint2.x += e, this.ctrlPoint2.y += t), this;
  }
  setCtrlPoint1(e) {
    const t = Ce;
    this[t(354)] = e, this.matrixDirty = !![];
  }
  setCtrlPoint2(e) {
    const t = Ce;
    this[t(339)] = e, this.matrixDirty = !![];
  }
  autoCalcCtrlPoint(e, t, n) {
    let s = t.x - e.x, i = t.y - e.y, r = (t.x + e.x) / 2, o = (t.y + e.y) / 2, a = 1 - 0.618;
    return { x: r + s * a, y: o - i * a };
  }
  [Q(334)](e, t, n) {
    const s = Q;
    return this.ctrlPoint1 != null ? this[s(354)] : this.autoCalcCtrlPoint(e, n, t);
  }
  calcCtrlPoint2(e, t, n) {
    const s = Q;
    return this[s(339)] != null ? this.ctrlPoint2 : this[s(346)](t, n, e);
  }
  resetCtrlPoint() {
    this.ctrlPoint1 = void 0, this.ctrlPoint2 = void 0, this.matrixDirty = !![];
  }
  getPoint(e) {
    const t = Q;
    let n = this.getPoints(), s = n[0], i = n[1];
    n[2];
    let r = n[3], o = n[4], a = i, c = r, l = T.interpolate(s, a, e), h = T.interpolate(a, c, e), f = T[t(336)](c, o, e), g = T.interpolate(l, h, e), b = T.interpolate(h, f, e);
    return T.interpolate(g, b, e);
  }
  updatePoints() {
    const e = Q, t = this._calcAZ(), n = t[0], s = t[1];
    let i = { x: (n.x + s.x) / 2, y: (n.y + s.y) / 2 }, r = this[e(334)](n, s, i), o = this.calcCtrlPoint2(n, s, i);
    return [n, r, i, o, s];
  }
}
qs([d("BezierLink")], D0.prototype, "className", 2), qs([d(A[Q(333)])], D0[Q(343)], Q(344), 2), qs([d(N.prototype.serializers.concat(["ctrlPoint1", "ctrlPoint2"]))], D0[Q(343)], "serializers", 2);
function Ce(x, e) {
  const t = Is();
  return Ce = function(n, s) {
    return n = n - 332, t[n];
  }, Ce(x, e);
}
const Ue = {};
Ue[v[Q(349)]] = function() {
  return this[Q(355)]()[0];
}, Ue[v.end] = function() {
  const x = Q;
  let e = this.getPoints();
  return e[e[x(351)] - 1];
}, Ue[v[Q(338)]] = function() {
  return this.getPoint(0.5, 0);
}, Ue[v[Q(354)]] = function() {
  const x = Q;
  return this.ctrlPoint1 != null ? this[x(354)] : this[x(355)]()[1];
}, Ue[v.ctrlPoint2] = function() {
  const x = Q;
  return this.ctrlPoint2 != null ? this[x(339)] : this.getPoints()[3];
}, D0.prototype[Q(341)] = Ue;
function Is() {
  const x = ["getPoints", "319136LsCqjP", "BezierCurve", "calcCtrlPoint1", "11QZXKUA", "interpolate", "35IoZgse", "center", "ctrlPoint2", "1754541TEpyuw", "DefaultPositions", "276910RBmOpH", "prototype", "shape", "99zlXmIK", "autoCalcCtrlPoint", "9412TJwOOV", "49945hytvIr", "begin", "3627940txwJWI", "length", "606810HkbROJ", "4apKuij", "ctrlPoint1"];
  return Is = function() {
    return x;
  }, Is();
}
function ws() {
  var x = ["17408mCZglk", "595UbBVRi", "3308456TDOvVb", "484363uOiLKR", "63PXqitH", "removeOutLink", "length", "852xrXMVQ", "633933VXZpHv", "1373720JOOEKN", "clearPath", "1239HnicPo", "getPath", "135xHSvVn", "12498BxXpNh", "5784IHdMzs"];
  return ws = function() {
    return x;
  }, ws();
}
var Gs = vs;
(function(x, e) {
  for (var t = vs, n = x(); []; )
    try {
      var s = parseInt(t(474)) / 1 + parseInt(t(468)) / 2 + parseInt(t(461)) / 3 * (parseInt(t(465)) / 4) + parseInt(t(463)) / 5 * (parseInt(t(464)) / 6) + parseInt(t(467)) / 7 * (parseInt(t(466)) / 8) + -parseInt(t(470)) / 9 * (-parseInt(t(475)) / 10) + parseInt(t(469)) / 11 * (-parseInt(t(473)) / 12);
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ws, 961821);
function vs(x, e) {
  var t = ws();
  return vs = function(n, s) {
    n = n - 461;
    var i = t[n];
    return i;
  }, vs(x, e);
}
var Ic = Object.defineProperty, wc = Object.getOwnPropertyDescriptor, vc = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? wc(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Ic(e, t, s), s;
};
class ki extends N {
  constructor(e, t, n, s, i) {
    super(e, t, n, s, i);
  }
  [Gs(462)]() {
    return this.path.endpoints;
  }
  clearPath() {
    var e = Gs;
    const t = this.path.endpoints;
    for (let n = 1; n < t.length - 1; n++) {
      let s = t[n];
      s.isDisplayObjectTarget() && s.target[e(471)](this);
    }
    t[e(472)] = 0;
  }
  setPath(e) {
    var t = Gs;
    if (e.length < 2)
      throw new Error("path length is less than 2");
    this[t(476)](), super._setEndpoints(e), this.matrixDirty = !![];
  }
}
vc([d("PathLink")], ki.prototype, "className", 2);
const mn = Ps;
function ks() {
  const x = ["#346c9c", "7701147XWGMxn", "#248067", "#2775B6", "1929658oVnkHj", "3249396OjsPGT", "8ZJZxGO", "#FA7E23", "5888136LAbWJx", "5321316oaoLqK", "2077864FCLLQr", "4039540AgBmJw", "1VrYsEc"];
  return ks = function() {
    return x;
  }, ks();
}
(function(x, e) {
  const t = Ps, n = x();
  for (; []; )
    try {
      if (parseInt(t(372)) / 1 * (-parseInt(t(364)) / 2) + parseInt(t(365)) / 3 + parseInt(t(370)) / 4 + -parseInt(t(371)) / 5 + parseInt(t(368)) / 6 + parseInt(t(369)) / 7 + -parseInt(t(366)) / 8 * (parseInt(t(361)) / 9) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(ks, 715722);
const Hi = ["#475164", "#2d2e36", mn(367), "#FF9900", "#FED71A", "#2bae85", mn(362), "#12A182", "#5e5314", "#1ba784", "#0f1423", "#4E7ca1", "#2474b5", mn(363), mn(373), "#61649f", "#C06f98", "#7e2065", "#681752", "#EE3f4d", "#C02c38"];
function Ps(x, e) {
  const t = ks();
  return Ps = function(n, s) {
    return n = n - 361, t[n];
  }, Ps(x, e);
}
function kc() {
  let x = Math.random() * Hi.length | 0;
  return Hi[x];
}
const F = xn;
function Ss() {
  const x = ["4614SiQAzn", "4915060lcBsEs", "122202AwSZCv", "_stepSize", "position", "2088972CiFBsj", "sin", "_actions", "forwardTo", "96FFXdFV", "sizeBy", "getMark", "addAction", "updateDxy", "281024wzlVDP", "marks", "init", "43897vOGoMl", "forward", "_position", "turnRight", "_direction", "moveTo", "312dyHzIZ", "246760EMUtun", "faceToMark", "3WooRRp", "jump"];
  return Ss = function() {
    return x;
  }, Ss();
}
(function(x, e) {
  const t = xn, n = x();
  for (; []; )
    try {
      if (-parseInt(t(339)) / 1 * (parseInt(t(320)) / 2) + -parseInt(t(337)) / 3 * (parseInt(t(325)) / 4) + -parseInt(t(335)) / 5 + parseInt(t(341)) / 6 + parseInt(t(328)) / 7 * (-parseInt(t(334)) / 8) + parseInt(t(344)) / 9 + parseInt(t(340)) / 10 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ss, 158332);
function xn(x, e) {
  const t = Ss();
  return xn = function(n, s) {
    return n = n - 320, t[n];
  }, xn(x, e);
}
const T0 = class {
  constructor() {
    const x = xn;
    this[x(343)] = { x: 0, y: 0 }, this.direction = 0, this.stepSize = 1, this.dx = 1, this.dy = 1, this.init();
  }
  [F(327)]() {
    const x = F;
    return this._position = { x: 0, y: 0 }, this[x(346)] = [], this.marks = {}, this;
  }
  addAction(x, e) {
    const t = F;
    let n = { name: x, args: e };
    return this[t(346)].push(n), this;
  }
  mark(x) {
    const e = F;
    if (x == null)
      throw new Error("mark's name is required.");
    return this.marks[x] = { x: this[e(330)].x, y: this._position.y }, this;
  }
  getMark(x) {
    return this[F(326)][x];
  }
  [F(336)](x) {
    let t = this[F(322)](x);
    return this.faceTo(t);
  }
  moveToMark(x) {
    let e = this.getMark(x);
    return this.moveTo(e);
  }
  forwardToMark(x) {
    let t = this[F(322)](x);
    return this.forwardTo(t);
  }
  forwardToMarks(x) {
    for (let e = 0; e < x.length; e++) {
      const t = x[e], n = this.getMark(t);
      this.forwardTo(n);
    }
    return this;
  }
  updateDxy() {
    const x = F;
    let e = this._position, t = this._direction, n = this._stepSize, s = e.x + n * Math.cos(t), i = e.y + n * Math[x(345)](t);
    return this.dx = s - e.x, this.dy = i - e.y, this;
  }
  faceTo(x) {
    const e = F, t = x.x, n = x.y;
    return this._direction = Math.atan2(n - this[e(330)].y, t - this[e(330)].x), this.updateDxy(), this;
  }
  forward(x) {
    const e = F;
    return this.size(x), this[e(330)].x += this.dx, this._position.y += this.dy, this.addAction(T0.OP[e(329)], [this[e(330)].x, this[e(330)].y]), this;
  }
  jump(x) {
    x == null && (x = 1);
    for (var e = 0; e < x; e++)
      this._position.x += this.dx, this._position.y += this.dy, this.addAction(T0.OP.jump, [this._position.x, this._position.y]);
    return this;
  }
  moveTo(x) {
    const e = F, t = x.x, n = x.y;
    return this._position.x = t, this[e(330)].y = n, this[e(323)](T0.OP[e(333)], [this._position.x, this._position.y]), this;
  }
  moveToMiddle(x, e) {
    let t = { x: (x.x + e.x) / 2, y: (x.y + e.y) / 2 };
    return this.moveTo(t);
  }
  [F(347)](x) {
    const e = F, t = x.x, n = x.y;
    return this._position.x = t, this._position.y = n, this[e(323)](T0.OP.forwardTo, [this._position.x, this._position.y]), this;
  }
  turnLeft(x) {
    const e = F;
    return x == null && (x = Math.PI / 2), this[e(332)] = this._direction - x, this[e(324)](), this;
  }
  [F(331)](x) {
    return x == null && (x = -Math.PI / 2), this._direction = this._direction + x, this.updateDxy(), this;
  }
  size(x) {
    const e = F;
    return this._stepSize = x, this[e(324)](), this;
  }
  [F(321)](x) {
    const e = F;
    return this[e(342)] *= x, this.updateDxy(), this;
  }
  sizeWith(x) {
    return this._stepSize += x, this.updateDxy(), this;
  }
  getDistance(x) {
    const e = F, t = x.x, n = x.y;
    let s = t - this[e(330)].x, i = n - this._position.y;
    return Math.sqrt(s * s + i * i);
  }
  getAngle(x) {
    const e = x.x, t = x.y;
    return Math.atan2(t - this._position.y, e - this._position.x);
  }
};
let Hr = T0;
Hr.OP = { forward: "forward", forwardTo: F(347), moveTo: F(333), jump: F(338) };
const st = Os;
function Os(x, e) {
  const t = Ls();
  return Os = function(n, s) {
    return n = n - 473, t[n];
  }, Os(x, e);
}
function Ls() {
  const x = ["38492LfESrn", "circle", "beginPath", "12655jzBnAn", `
 return path;`, "restore", "1974TjZnvc", "length", "152WuIWrI", "addAction", "style", "369GagThY", "path.", "fill", "25941936gkiJUW", "stroke", "ctx", "apply", "39468nORlPE", "_position", "117BRUYoF", "974744CqgslS", "15691iKUsDp", "221109xyKTdf", "push", "1840AjWwIT", "string", "applyTo", "name"];
  return Ls = function() {
    return x;
  }, Ls();
}
(function(x, e) {
  const t = Os, n = x();
  for (; []; )
    try {
      if (-parseInt(t(485)) / 1 * (-parseInt(t(500)) / 2) + -parseInt(t(474)) / 3 * (parseInt(t(492)) / 4) + parseInt(t(495)) / 5 * (parseInt(t(498)) / 6) + -parseInt(t(486)) / 7 + -parseInt(t(484)) / 8 * (-parseInt(t(483)) / 9) + -parseInt(t(488)) / 10 * (-parseInt(t(481)) / 11) + -parseInt(t(477)) / 12 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ls, 892322);
var Fi = { forward: "lineTo", forwardTo: "lineTo", moveTo: "moveTo", jump: "moveTo" };
class Pc extends Hr {
  constructor() {
    super();
  }
  [st(490)](e) {
    const t = st;
    let n = this._actions;
    for (let s = 0; s < n[t(499)]; s++) {
      const i = n[s];
      let r = Fi[i.name];
      const o = i.args;
      r == null && (r = i.name);
      let a = e[r];
      if (a == null)
        throw new Error("applyTo's target has no method:" + r);
      if (o == null) {
        a[t(480)](e, []);
        continue;
      }
      o.length ? a[t(480)](e, o) : e[r] = o;
    }
    return this;
  }
  toFunction() {
    const e = st;
    let t = this.toCmd();
    return new Function(e(479), t);
  }
  toPath2D() {
    const e = st;
    let t = this.toCmd(e(475));
    return t = `var path = new Path2D();
` + t, t = t + e(496), new Function("path", t)();
  }
  toCmd(e) {
    return this.toCmds(e).join(`
`);
  }
  toCmds(e) {
    const t = st;
    let n = this._actions, s = [];
    e == null && (e = "ctx.");
    for (let i = 0; i < n.length; i++) {
      const r = n[i];
      let o = Fi[r.name];
      const a = r.args;
      if (o == null && (o = r[t(491)]), a == null) {
        s.push(e + o + "();");
        continue;
      }
      a.length ? s.push(e + o + "(" + Xi(a) + ");") : s[t(487)](e + o + "=" + Xi(a) + ";");
    }
    return s;
  }
  [st(493)](e) {
    const t = st;
    return this.addAction("arc", [this._position.x, this[t(482)].y, e, 0, Math.PI * 2]), this;
  }
  [st(473)](e, t) {
    return this.addAction(e, t), this;
  }
  text(e) {
    return this[st(501)]("fillText", [e, this._position.x, this._position.y]), this;
  }
  lineTo(e) {
    return this.forwardTo(e), this;
  }
  beginPath() {
    const e = st;
    return this.addAction(e(494)), this;
  }
  [st(478)]() {
    return this.addAction("stroke"), this;
  }
  [st(476)]() {
    const e = st;
    return this.addAction(e(476)), this;
  }
  save() {
    return this.addAction("save"), this;
  }
  restore() {
    const e = st;
    return this.addAction(e(497)), this;
  }
}
function Xi(x) {
  const e = st;
  if (!Array.isArray(x) && typeof x == "string")
    return '"' + x + '"';
  let t = "";
  for (let n = 0; n < x.length; n++) {
    let s = x[n];
    typeof s == e(489) ? t += '"' + s + '"' : t += "" + s, n + 1 < x.length && (t += ",");
  }
  return t;
}
function Cs() {
  const x = ['px" width="', "18376weBkNb", "startsWith", "svg", "width", "drawImage", "10522831jWTBJb", "2681892EbFibT", "199642wQNPDW", "isHtmlImage", "77124jqMUIL", "outerHTML", "innerHTML", "35niapWg", "px;height:", "substring", "src", "push", "length", "height", "2939312aPZfhB", "opacity", "4PYvpwC", "10fKJNIc", "html", "115hdHIUR", "style", "onload", '<foreignObject width="100%" height="100%" style="position:absolute;top:0;left:0; opacity: ', "canvas", "forEach", "HtmlImage", "1242810FNWPvu", "HtmlImage has only src attr", "border:0px;position:absolute;top:0px;left:0px;text-align:center;z-index:10;width:", "px;opacity:"];
  return Cs = function() {
    return x;
  }, Cs();
}
(function(x, e) {
  const t = Lt, n = x();
  for (; []; )
    try {
      if (parseInt(t(462)) / 1 * (parseInt(t(476)) / 2) + -parseInt(t(486)) / 3 + parseInt(t(491)) / 4 * (-parseInt(t(479)) / 5) + parseInt(t(464)) / 6 * (parseInt(t(467)) / 7) + -parseInt(t(474)) / 8 + -parseInt(t(461)) / 9 + -parseInt(t(477)) / 10 * (-parseInt(t(460)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Cs, 234841);
function Lt(x, e) {
  const t = Cs();
  return Lt = function(n, s) {
    return n = n - 458, t[n];
  }, Lt(x, e);
}
function Sc(x, e, t) {
  const n = Lt;
  t = t | 1;
  const s = document.createElementNS("http://www.w3.org/2000/svg", n(493));
  return s.setAttribute("xmlns", "http://www.w3.org/2000/svg"), s[n(480)] = n(488) + x + n(468) + e + n(489) + t + ";", s[n(466)] = n(482) + t + `;">
        '</foreignObject>`, s;
}
function Oc(x) {
  const e = Lt;
  let t = document.createElement(e(483));
  t.width = x.style[e(458)] ? +x.style[e(458)] : x.width, t[e(473)] = x.style.height ? +x.style.height : x.height;
  let n = t.getContext("2d");
  return n.scale(t.width / x.naturalWidth, t.height / x.naturalHeight), n[e(459)](x, 0, 0), '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink" width="' + x.width + '" height="' + x[e(473)] + '" display="inline" style="vertical-align: middle;display: inline-block"><image xlink:href="' + t.toDataURL("image/png") + '" height="' + x[e(473)] + e(490) + x.width + 'px" /></svg>';
}
async function Lc(x) {
  const e = x.replace(/\<br\>/gi, "<div/>"), t = e.match(/<img .*?>/g);
  if (t == null || t.length == 0)
    return new Promise(function(s) {
      s([[], []]);
    });
  const n = [];
  return new Promise(function(s) {
    const i = Lt;
    t[i(484)](function(r) {
      const o = i, a = document.createElement("div");
      a[o(466)] = r;
      const c = a.querySelector("img");
      c[o(481)] = function() {
        const l = o, h = Oc(c);
        n[l(471)](h), n.length == t[l(472)] && s([t, n]);
      };
    });
  });
}
class Cc {
  constructor(e, t, n, s = 1) {
    const i = Lt;
    this[i(463)] = !![], this.width = 1, this.height = 1, this.opacity = 1, this.isHtmlImage = !![], e !== null && e[i(492)](i(485)) && (e = e[i(469)]("HtmlImage"[i(472)])), this[i(478)] = e, this.width = t, this.height = n, this.opacity = s | 1, this.svg = Sc(t, n, this[i(475)]), this.canvas = document.createElement("canvas");
  }
  setSize(e, t) {
    const n = Lt;
    this.width = e, this[n(473)] = t;
  }
  getAttribute(e) {
    const t = Lt;
    if (e != "src")
      throw new Error(t(487));
    return t(485) + this.html;
  }
  setHtml(e) {
    this.html = e;
  }
  getCanvas() {
    const e = Lt;
    let t = this[e(478)];
    const n = this.svg, s = this;
    let i = s.canvas, r = i.getContext("2d");
    return i[e(480)].width = s[e(458)] + "px", i.style.height = s.height + "px", i.width = s.width, i.height = s.height, new Promise(function(o) {
      Lc(t).then(function(a) {
        const c = Lt, l = a[0], h = a[1];
        for (let b = 0; b < l.length; b++)
          t = t.replace(l[b], h[b]);
        const f = n.querySelector("foreignObject");
        f.innerHTML = t;
        let g = new Image();
        g[c(470)] = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(s[c(493)][c(465)]), g.onload = function() {
          r.drawImage(g, 0, 0, s.width, s.height), o(i);
        };
      });
    });
  }
}
const Ee = Es;
(function(x, e) {
  const t = Es, n = x();
  for (; []; )
    try {
      if (-parseInt(t(294)) / 1 + -parseInt(t(289)) / 2 * (-parseInt(t(292)) / 3) + parseInt(t(298)) / 4 + parseInt(t(291)) / 5 + -parseInt(t(304)) / 6 + -parseInt(t(295)) / 7 * (parseInt(t(299)) / 8) + -parseInt(t(296)) / 9 * (parseInt(t(300)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ts, 857723);
var Ec = Object[Ee(293)], Tc = Object.getOwnPropertyDescriptor, Yi = (x, e, t, n) => {
  for (var s = n > 1 ? void 0 : n ? Tc(e, t) : e, i = x.length - 1, r; i >= 0; i--)
    (r = x[i]) && (s = (n ? r(e, t, s) : r(s)) || s);
  return n && s && Ec(e, t, s), s;
};
function Es(x, e) {
  const t = Ts();
  return Es = function(n, s) {
    return n = n - 288, t[n];
  }, Es(x, e);
}
function Ts() {
  const x = ["concat", "rect", "100034EhtrBF", "down", "6452765uvfCrs", "90GbCRuh", "defineProperty", "255694zRjyQf", "5268823urFCmG", "4844763KZnLRV", "draw", "5149424KjpJxz", "8qpWrAp", "10fGTemB", "ratio", "prototype", "direction", "10044036AVKSno", "width"];
  return Ts = function() {
    return x;
  }, Ts();
}
class ui extends D {
  constructor(e, t = 0, n = 0, s = 1, i = 1) {
    const r = Ee;
    super(e, t, n, s, i), this[r(301)] = 0.5, this.direction = v.right;
  }
  [Ee(297)](e) {
    const t = Ee;
    let n = this._computedStyle, s = n.fillStyle;
    n.fillStyle = null, this._strokeAndFill(e), this.mousePickupPath(e), n.fillStyle = s, e.beginPath(), e.fillStyle = s;
    let i = n.borderWidth || 0, r = n.padding || 0, o = r * 2 + i * 2, a = -this[t(305)] * 0.5 + i + r, c = -this.height * 0.5 + i + r, l = (this.width - o) * this[t(301)], h = (this.height - o) * this[t(301)];
    if (this[t(303)] == v.right)
      h = this.height - o;
    else if (this.direction == v[t(290)])
      l = this[t(305)] - o;
    else if (this.direction == v.left)
      a = -this[t(305)] * 0.5 + this.width - i - r - l, h = this.height - o;
    else if (this.direction == v.up)
      c = -this.height * 0.5 + this.height - i - r - h, l = this.width - o;
    else
      throw new Error("Unknow RatioNode's direction:" + this[t(303)]);
    e[t(288)](a, c, l, h), e.fill(), this._paintText(e);
  }
}
Yi([d("RatioNode")], ui.prototype, "className", 2), Yi([d(D[Ee(302)].serializers[Ee(306)](["ratio", "direction"]))], ui[Ee(302)], "serializers", 2);
const In = sn;
(function(x, e) {
  const t = sn, n = x();
  for (; []; )
    try {
      if (parseInt(t(253)) / 1 + parseInt(t(246)) / 2 * (-parseInt(t(252)) / 3) + parseInt(t(250)) / 4 + -parseInt(t(254)) / 5 + parseInt(t(248)) / 6 * (parseInt(t(247)) / 7) + parseInt(t(234)) / 8 + parseInt(t(240)) / 9 * (parseInt(t(243)) / 10) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(As, 808909);
function As() {
  const x = ["6ptnnnc", "554911DhMnKi", "114zRdRQs", "setHtml", "1408932MXxGSO", "style", "1523217sUxMNG", "1408505DrUlSE", "6805380vNproz", "item", "offsetHeight", "layersContainer", "forEach", "2836848meUTEv", "jtopo_popoupmenu", "width", "domElement", "hide", "top", "645039MLJCTp", "addEventListener", "offsetWidth", "10uzvLox", "height", "stage"];
  return As = function() {
    return x;
  }, As();
}
class Ac extends Et {
  constructor(e, t) {
    super(), this.stage = e, this.domElement = this.setHtml(t);
  }
  remove() {
    const e = sn;
    this[e(237)] != null && this[e(237)].remove();
  }
  [In(249)](e) {
    const t = In;
    this.html = e, this.remove();
    let n = document.createElement("div");
    return n.classList.add(t(235)), this.stage[t(257)].appendChild(n), n.innerHTML = e, this.initEvent(n), this[t(237)] = n, this[t(238)](), n;
  }
  initEvent(e) {
    const t = In;
    let n = this;
    e.querySelectorAll("a")[t(258)](function(i) {
      const r = t;
      i[r(241)]("click", function(o) {
        const a = r;
        let c = new Event("select", { cancelable: !![] });
        c[a(255)] = this.innerHTML, n.dispatchEvent(c), !c.defaultPrevented && n[a(238)]();
      });
    });
  }
  showAt(e, t) {
    const n = In;
    this[n(237)][n(251)].display = "block", t + this[n(237)].offsetHeight >= this[n(245)].height && t > this.stage[n(244)] / 2 && (t -= this.domElement[n(256)]), e + this[n(237)][n(242)] >= this[n(245)][n(236)] && e > this[n(245)].width / 2 && (e -= this.domElement.offsetWidth), this[n(237)].style.left = e + "px", this[n(237)].style[n(239)] = t + "px";
  }
  hide() {
    this.domElement.style.display = "none";
  }
}
function sn(x, e) {
  const t = As();
  return sn = function(n, s) {
    return n = n - 234, t[n];
  }, sn(x, e);
}
function ut(x, e) {
  const t = Ds();
  return ut = function(n, s) {
    return n = n - 255, t[n];
  }, ut(x, e);
}
const Dc = ut;
(function(x, e) {
  const t = ut, n = x();
  for (; []; )
    try {
      if (parseInt(t(262)) / 1 * (-parseInt(t(260)) / 2) + -parseInt(t(256)) / 3 + parseInt(t(258)) / 4 * (-parseInt(t(267)) / 5) + -parseInt(t(274)) / 6 + parseInt(t(268)) / 7 * (-parseInt(t(263)) / 8) + parseInt(t(255)) / 9 * (-parseInt(t(275)) / 10) + parseInt(t(272)) / 11 === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ds, 465139);
function Ds() {
  const x = ["parentNode", "30327220SciPux", "opacity", "500676qcTsLS", "102670bhTuDS", "remove", "0.9", "639KPoZHX", "2080209xNEglb", "domElement", "228kLxfVd", "add", "6YoVBZq", "display", "80143VyGOAv", "24QTqSCI", "fadeOut", "stopFade", "layersContainer", "24785vpmOLg", "613893opmUYW", "style", "fadeoutTimer"];
  return Ds = function() {
    return x;
  }, Ds();
}
class Mc extends Et {
  constructor(e) {
    const t = ut;
    super(), this.stage = e, this.domElement = document.createElement("div"), this.domElement.classList[t(259)]("jtopo_tooltip"), this.stage[t(266)].appendChild(this.domElement), this.initEvent(), this.hide();
  }
  disable() {
    const e = ut;
    this.domElement && this.domElement[e(276)]();
  }
  enabled() {
    const e = ut;
    this[e(257)] && this.domElement[e(271)] == null && this.stage.layersContainer.appendChild(this[e(257)]);
  }
  setHtml(e) {
    const t = ut;
    return this[t(257)].innerHTML = e, this[t(257)];
  }
  initEvent() {
    const e = this, t = this.stage.inputSystem;
    t.on("mousedown", function() {
      e.hide();
    }), t.on("mouseup", function() {
      e.hide();
    }), t.on("mousemove", function() {
      const n = ut;
      t.mouseoverTarget == null && e[n(264)]();
    });
  }
  showAt(e, t) {
    const n = ut;
    this[n(265)](), this.domElement[n(269)][n(261)] = "block", this[n(257)][n(269)].left = e + "px", this.domElement.style.top = t + "px", this.domElement.style[n(273)] = n(277);
  }
  hide() {
    const e = ut;
    this[e(265)](), this.domElement[e(269)].display = "none";
  }
  stopFade() {
    const e = ut;
    this.fadeoutTimer != null && (clearInterval(this[e(270)]), this[e(270)] = null);
  }
  [Dc(264)](e = 50) {
    if (this.fadeoutTimer != null)
      return;
    let t = this;
    this.fadeoutTimer = setInterval(function() {
      const n = ut;
      t.domElement.style.opacity -= 0.1, t[n(257)].style.opacity <= 0.1 && t.hide();
    }, e);
  }
}
const Ui = Zt;
(function(x, e) {
  const t = Zt, n = x();
  for (; []; )
    try {
      if (-parseInt(t(403)) / 1 + parseInt(t(404)) / 2 * (-parseInt(t(410)) / 3) + parseInt(t(402)) / 4 * (-parseInt(t(401)) / 5) + -parseInt(t(406)) / 6 + -parseInt(t(400)) / 7 + parseInt(t(417)) / 8 * (-parseInt(t(396)) / 9) + parseInt(t(418)) / 10 * (parseInt(t(405)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Ms, 534626);
function Zt(x, e) {
  const t = Ms();
  return Zt = function(n, s) {
    return n = n - 396, t[n];
  }, Zt(x, e);
}
function Ms() {
  const x = ["212536gSPJTb", "24018770QfbhaG", "117UuTycB", "setValue", "value", "onkeydown", "2332561nxqjap", "1763590xNLQeI", "4dUKBaG", "302545lbPBGI", "728PgIwAp", "11aLwnab", "1466268hZqUMw", "style", "width", "appendChild", "2382ZyhFFe", "textarea", "editor", "height", "ctrlKey", "hide", "none"];
  return Ms = function() {
    return x;
  }, Ms();
}
class Bc {
  constructor(e) {
    const t = Zt;
    this[t(412)] = e, this.stage = e.stage;
    let n = document.createElement("textarea");
    n.classList.add("jtopo_input_textfield"), this.stage.layersContainer[t(409)](n);
    let s = this;
    n[t(399)] = function(i) {
      s.onkeydown(i);
    }, this.textarea = n;
  }
  attachTo(e, t) {
    const n = Zt;
    let s = { x: t.x - 50, y: t.y };
    if (e.isNode) {
      let i = e.positionToLocalPoint(v.lt);
      s = e.toStageXY(i.x, i.y);
      let r = ii(e.width, 60, 100), o = ii(e[n(413)], 60, 100);
      this.setSize(r, o);
    } else if (e.isLink)
      return;
    this[n(397)](e.text), this.show(s.x, s.y);
  }
  setValue(e) {
    this.textarea.value = e;
  }
  setSize(e, t) {
    const n = Zt;
    this[n(411)][n(407)][n(408)] = e + "px", this.textarea.style.height = t + "px";
  }
  show(e, t) {
    const n = Zt;
    this[n(411)].style.display = "block", this.textarea.focus(), e != null && (e = Math.max(0, e), t = Math.max(0, t), this.textarea[n(407)].left = e, this.textarea.style.top = t);
  }
  hide() {
    const e = Zt;
    this.textarea.style.display = e(416);
  }
  [Ui(399)](e) {
    const t = Ui;
    let n = this.textarea;
    if (e.key == "Enter" && (e[t(414)] || e.metaKey)) {
      let s = this.stage.inputSystem.target;
      if (s == null)
        return;
      s.text = n[t(398)], n.style.display = t(416), this[t(415)]();
    }
  }
}
function Bs() {
  var x = ["2cokJVj", "5823wedwcl", "783008tVCLAN", "717916CQdolk", "1451091iXKTgg", "75959257UqyqcH", "35YUzGaa", "1460819FWVUau", "35DNsxyY", "24070uwNDTg", "10360464IxucIU"];
  return Bs = function() {
    return x;
  }, Bs();
}
function di(x, e) {
  var t = Bs();
  return di = function(n, s) {
    n = n - 222;
    var i = t[n];
    return i;
  }, di(x, e);
}
(function(x, e) {
  for (var t = di, n = x(); []; )
    try {
      var s = -parseInt(t(224)) / 1 + -parseInt(t(228)) / 2 * (parseInt(t(232)) / 3) + -parseInt(t(231)) / 4 * (parseInt(t(223)) / 5) + -parseInt(t(227)) / 6 + parseInt(t(225)) / 7 * (parseInt(t(230)) / 8) + parseInt(t(229)) / 9 * (-parseInt(t(226)) / 10) + parseInt(t(222)) / 11;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(Bs, 909825);
(function(x, e) {
  for (var t = fi, n = x(); []; )
    try {
      var s = parseInt(t(242)) / 1 + parseInt(t(244)) / 2 + parseInt(t(237)) / 3 + parseInt(t(243)) / 4 * (-parseInt(t(245)) / 5) + parseInt(t(241)) / 6 * (parseInt(t(239)) / 7) + -parseInt(t(240)) / 8 * (-parseInt(t(238)) / 9) + -parseInt(t(246)) / 10;
      if (s === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(js, 165326);
function js() {
  var x = ["12MIvadw", "133959HfaLqg", "20KUZiBh", "559826wYudym", "16265FRbtHw", "8580690sYICvv", "766716hbpLMM", "18NVnSPv", "1032549yClEzV", "300808MrOrol"];
  return js = function() {
    return x;
  }, js();
}
function fi(x, e) {
  var t = js();
  return fi = function(n, s) {
    n = n - 237;
    var i = t[n];
    return i;
  }, fi(x, e);
}
const jc = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  AENode: ai,
  Animation: jr,
  AnimationSystem: zr,
  ArcLink: E0,
  ArcShape: S0,
  ArrowShape: w0,
  AutoFoldLink: se,
  BezierCurveShape: P0,
  BezierLink: D0,
  CircleNode: G0,
  CircleShape: Qs,
  Collection: z,
  Config: Re,
  Cursor: qr,
  CurveLink: Je,
  CurveShape: k0,
  Debug: ue,
  DefaultDarkTheme: vr,
  DefaultLightTheme: we,
  DefaultZIndexs: rn,
  Direction: $e,
  DisplayObject: C,
  DomUtil: Be,
  Edge: ci,
  EffectSystem: Rr,
  EllipseShape: $s,
  Endpoint: Wt,
  EndpointFixedName: De,
  EndpointFixedPoint: Jt,
  EndpointFunction: Rs,
  EndpointNearest: Me,
  EndpointSegment: cn,
  EventNames: ft,
  EventTarget: Et,
  FlexionalLink: _e,
  FoldLink: K0,
  FontInfo: ge,
  FontUtil: ti,
  ForceDirectLayout: gc,
  Graph: tn,
  GraphSystem: o0,
  HandlerLayer: Ws,
  HtmlImage: Cc,
  ImageUtil: Rt,
  InputEvent: J,
  InputSystem: Ii,
  InputTextfield: Bc,
  Intersect: Ns,
  Keyboard: Ar,
  Layer: dt,
  LayerLocalDeep: En,
  Layout: Sn,
  LayoutSystem: Wr,
  LineShape: v0,
  LinearGradient: e0,
  Link: N,
  LinkHelper: Q0,
  Node: D,
  NodeHelper: qt,
  OBB: Qt,
  PI2: M0,
  Path: ec,
  PathLink: ki,
  Point: T,
  PopupMenu: Ac,
  Position: v,
  PositionInvertMap: Gr,
  RadialGradient: H0,
  RatioNode: ui,
  RectDefaultPositions: le,
  RectShape: wn,
  Rectangle: j,
  ResourceLoader: it,
  Runtime: Or,
  SelectedGroup: Dr,
  SerializerSystem: qe,
  Shape: A,
  Stage: vi,
  StageLocalDeep: Gi,
  StageMode: St,
  Style: ct,
  StylePattern: be,
  StyleSystem: Nr,
  TextNode: he,
  Theme: h0,
  TipNode: L0,
  TipShape: Ve,
  Toolbar: Tr,
  Tooltip: Mc,
  TopoEvent: go,
  TopoPainter: Pc,
  Transform: on,
  VERSION: gi,
  Vertext: Ke,
  VideoNode: C0,
  clickEvent: cr,
  convertToEndpoint: Ut,
  copyKeyboardEvent: ni,
  copyMouseEvent: po,
  dblclickEvent: lr,
  dragEndEvent: fr,
  dragEvent: dr,
  dropEvent: gr,
  dropoutEvent: br,
  dropoverEvent: pr,
  getClass: bi,
  getEndpointNormal: ri,
  getLineIntersectPoint: cx,
  getLineIntersectPoints: mr,
  getNearestAnchorOnObjects: Eo,
  getNearestPointOnLines: _i,
  getNearestPointOnObjectsOBB: Co,
  getNearestPositionName: To,
  getParallelLine: ko,
  getParallelLines: vo,
  getPointByEndpoint: Ge,
  getRectPositionDirection: Zi,
  getRectPositionRotate: Ki,
  isHorizontal: vn,
  jtopo: wt,
  mousedownEvent: ir,
  mousedragEvent: _o,
  mouseenterEvent: hr,
  mousemoveEvent: or,
  mouseoutEvent: ur,
  mouseoverEvent: ar,
  mouseupEvent: rr,
  newInstance: an,
  pointProjectToLine: So,
  randomColor: kc,
  range: ii,
  regClass: Kr,
  selectedEvent: yr,
  setProto: d,
  touchendEvent: sr,
  touchmoveEvent: xi,
  touchstartEvent: xr,
  unselectedEvent: _r,
  util: Ct,
  vec2: M
}, Symbol.toStringTag, { value: "Module" }));
function pi(x, e) {
  const t = zs();
  return pi = function(n, s) {
    return n = n - 481, t[n];
  }, pi(x, e);
}
(function(x, e) {
  const t = pi, n = x();
  for (; []; )
    try {
      if (parseInt(t(488)) / 1 * (-parseInt(t(483)) / 2) + -parseInt(t(491)) / 3 + parseInt(t(482)) / 4 + parseInt(t(487)) / 5 + -parseInt(t(486)) / 6 * (parseInt(t(490)) / 7) + -parseInt(t(485)) / 8 * (parseInt(t(484)) / 9) + parseInt(t(481)) / 10 * (parseInt(t(489)) / 11) === e)
        break;
      n.push(n.shift());
    } catch {
      n.push(n.shift());
    }
})(zs, 705970);
function zs() {
  const x = ["15239873aLDUZx", "2989BpSlaz", "3429129OwOtAS", "10gLSFLU", "2711728IwelEm", "3330GNqkds", "18NEVIBv", "533864XGaQmE", "522HmhOvt", "155890XtDgUV", "45IPKBiF"];
  return zs = function() {
    return x;
  }, zs();
}
let Vi = wt;
Object.assign(Vi, jc), delete Vi.jtopo;
export {
  ai as AENode,
  jr as Animation,
  zr as AnimationSystem,
  E0 as ArcLink,
  S0 as ArcShape,
  w0 as ArrowShape,
  se as AutoFoldLink,
  P0 as BezierCurveShape,
  D0 as BezierLink,
  G0 as CircleNode,
  Qs as CircleShape,
  z as Collection,
  Re as Config,
  qr as Cursor,
  Je as CurveLink,
  k0 as CurveShape,
  ue as Debug,
  vr as DefaultDarkTheme,
  we as DefaultLightTheme,
  rn as DefaultZIndexs,
  $e as Direction,
  C as DisplayObject,
  Be as DomUtil,
  ci as Edge,
  Rr as EffectSystem,
  $s as EllipseShape,
  Wt as Endpoint,
  De as EndpointFixedName,
  Jt as EndpointFixedPoint,
  Rs as EndpointFunction,
  Me as EndpointNearest,
  cn as EndpointSegment,
  ft as EventNames,
  Et as EventTarget,
  _e as FlexionalLink,
  K0 as FoldLink,
  ge as FontInfo,
  ti as FontUtil,
  gc as ForceDirectLayout,
  tn as Graph,
  o0 as GraphSystem,
  Ws as HandlerLayer,
  Cc as HtmlImage,
  Rt as ImageUtil,
  J as InputEvent,
  Ii as InputSystem,
  Bc as InputTextfield,
  Ns as Intersect,
  Ar as Keyboard,
  dt as Layer,
  En as LayerLocalDeep,
  Sn as Layout,
  Wr as LayoutSystem,
  v0 as LineShape,
  e0 as LinearGradient,
  N as Link,
  Q0 as LinkHelper,
  D as Node,
  qt as NodeHelper,
  Qt as OBB,
  M0 as PI2,
  ec as Path,
  ki as PathLink,
  T as Point,
  Ac as PopupMenu,
  v as Position,
  Gr as PositionInvertMap,
  H0 as RadialGradient,
  ui as RatioNode,
  le as RectDefaultPositions,
  wn as RectShape,
  j as Rectangle,
  it as ResourceLoader,
  Or as Runtime,
  Dr as SelectedGroup,
  qe as SerializerSystem,
  A as Shape,
  vi as Stage,
  Gi as StageLocalDeep,
  St as StageMode,
  ct as Style,
  be as StylePattern,
  Nr as StyleSystem,
  he as TextNode,
  h0 as Theme,
  L0 as TipNode,
  Ve as TipShape,
  Tr as Toolbar,
  Mc as Tooltip,
  go as TopoEvent,
  Pc as TopoPainter,
  on as Transform,
  gi as VERSION,
  Ke as Vertext,
  C0 as VideoNode,
  cr as clickEvent,
  Ut as convertToEndpoint,
  ni as copyKeyboardEvent,
  po as copyMouseEvent,
  lr as dblclickEvent,
  fr as dragEndEvent,
  dr as dragEvent,
  gr as dropEvent,
  br as dropoutEvent,
  pr as dropoverEvent,
  bi as getClass,
  ri as getEndpointNormal,
  cx as getLineIntersectPoint,
  mr as getLineIntersectPoints,
  Eo as getNearestAnchorOnObjects,
  _i as getNearestPointOnLines,
  Co as getNearestPointOnObjectsOBB,
  To as getNearestPositionName,
  ko as getParallelLine,
  vo as getParallelLines,
  Ge as getPointByEndpoint,
  Zi as getRectPositionDirection,
  Ki as getRectPositionRotate,
  vn as isHorizontal,
  wt as jtopo,
  ir as mousedownEvent,
  _o as mousedragEvent,
  hr as mouseenterEvent,
  or as mousemoveEvent,
  ur as mouseoutEvent,
  ar as mouseoverEvent,
  rr as mouseupEvent,
  an as newInstance,
  So as pointProjectToLine,
  kc as randomColor,
  ii as range,
  Kr as regClass,
  yr as selectedEvent,
  d as setProto,
  sr as touchendEvent,
  xi as touchmoveEvent,
  xr as touchstartEvent,
  _r as unselectedEvent,
  Ct as util,
  M as vec2
};
