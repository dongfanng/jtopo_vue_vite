!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@topo/core")):"function"==typeof define&&define.amd?define(["exports","@topo/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).editor={},t.core)}(this,(function(t,e){"use strict";const n=i;!function(t,e){const n=i,s=t();for(;;)try{if(186705===-parseInt(n(296))/1*(-parseInt(n(279))/2)+-parseInt(n(294))/3+parseInt(n(278))/4+parseInt(n(292))/5+parseInt(n(293))/6*(-parseInt(n(298))/7)+-parseInt(n(280))/8+-parseInt(n(276))/9)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(r);class s extends e.EventTarget{constructor(t){const e=i;super(),this[e(295)]=t,this[e(287)],this[e(286)](),this.hide()}[n(286)](){const t=n;let e=document[t(288)](t(275));return e[t(285)][t(302)](t(277)),this[t(295)][t(299)][t(290)](e),this[t(287)]=e,this}[n(306)](){const t=n;return this[t(287)][t(289)][t(303)]=t(282),this}show(){const t=n;return this[t(287)][t(289)][t(303)]=t(281),this}getDragItem(){return this[n(297)]}setConfig(t){const e=n;let s=this;return t.items[e(300)]((function(t){const n=e;let i=document[n(288)](n(275));i.classList[n(302)](n(283)),i[n(301)]=t[n(284)],i[n(291)](n(304),!0),i[n(305)]=function(e){s.dargItem=t},s[n(287)][n(290)](i)})),this}}function i(t,e){const n=r();return(i=function(t,e){return n[t-=275]})(t,e)}function r(){const t=["block","none","item","iconHtml","classList","initDom","domElement","createElement","style","appendChild","setAttribute","885775yiVRfg","9654BJktFW","140850sUnmJz","stage","2tkBGyr","dargItem","196dVdGZn","layersContainer","forEach","innerHTML","add","display","draggable","ondragstart","hide","div","1358316sbNyiZ","topo_iconsPanel","881668VRRBSw","337674SoXROK","2444920aFMMnX"];return(r=function(){return t})()}const o=l;function a(){const t=["fontFamily","appendChild","add","getCtroller","textAlign","selectedGroup","square","setFolderValues","setValue","onFinishChange","GUI","property","onChange","center","text","isNode","__controllers","position","整体透明度","borderWidth","right","height","block","open","1196855dOEbzP","-15px","domElement","图片路径","fontWeight","backgroundColor","removeAll","forEach","keys","355296dhlxgd","className","style","3,3","editor","imageSrc","css","getValue","isLink","lineCap","addFolder","1,10","gray","1733778jFeOOx","show","display","showProperty","边框粗细","12px","layersContainer","init","arial","newFolder","gui","基础属性","folders","inputSystem","184550xXcGzx","getCtrollerValue","sans-serif","0px","2,2","lineWidth","color","nodeCtrlBox","3,7","840923pyZisy","线条粗细","round","serif","top","线条颜色","dat","3187316iMjRWD","strokeStyle","none","width","fontSize","globalAlpha","string","absolute","close","basic","styleSystem","节点属性","__folders","attachTo","zIndex","butt","stage","split","填充颜色","9963688zTbXOt","object","update","lineDash","getStyle","name","hide","连线属性","getFolder"];return(a=function(){return t})()}function l(t,e){const n=a();return(l=function(t,e){return n[t-=289]})(t,e)}!function(t,e){const n=l,s=t();for(;;)try{if(912987===parseInt(n(372))/1+parseInt(n(363))/2+-parseInt(n(336))/3+-parseInt(n(379))/4+-parseInt(n(327))/5+-parseInt(n(349))/6+parseInt(n(294))/7)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(a);class c{constructor(t,e){const n=l;this[n(340)]=t,this[n(378)]=e,this[n(359)]=new(e[n(313)]),this[n(295)],this[n(361)]={}}setCurrentObject(t){const e=l,n=this.editor,s=this[e(340)].stage;s[e(362)].target=t,s[e(308)][e(333)]()[e(305)](t),t[e(344)]?n.linkCtrlBox[e(392)](t):t[e(318)]&&n[e(370)][e(392)](t),n[e(296)](),this[e(352)](t)}[o(352)](t){const e=o;if(null==t)return;this[e(388)]={id:t.id,name:"",x:1,y:1,imageSrc:"",width:1,height:1,text:"",rotation:0};const n=this[e(340)][e(291)][e(389)].currentTheme[e(298)](t[e(337)]);this[e(338)]={lineDash:null,backgroundColor:"",textAlign:n[e(307)]||e(316),textBaseline:n[e(307)]||"middle",strokeStyle:n.strokeStyle||e(348),fillStyle:"",color:n[e(369)]||"",borderWidth:0,fontSize:e(354),fontFamily:e(357),lineWidth:n[e(368)]||0,lineCap:e(290),globalAlpha:1};const s=this.basic,i=this[e(338)];Object[e(335)](s)[e(334)]((function(e){null!=t[e]&&(s[e]=t[e])})),Object[e(335)](i)[e(334)]((function(n){const s=e;let r=t.style[n];null!=t[s(338)][n]&&(i[n]=r)})),null==this.object&&(this[e(295)]=t,this[e(356)]()),this[e(295)]=t,i[e(322)]=t[e(338)][e(322)]||0,i[e(331)]=t[e(338)][e(331)],i[e(383)]=t[e(338)][e(383)],i[e(303)]=t[e(338)][e(303)],this[e(310)](s,i),t[e(318)]&&null!=this[e(302)](e(390))?(this[e(302)]("节点属性")[e(350)](),this[e(302)](e(301))[e(300)]()):null!=this[e(302)]("连线属性")&&(this[e(302)]("连线属性")[e(350)](),this[e(302)](e(390))[e(300)]())}[o(358)](t){const e=o,n=this[e(359)][e(346)](t);return this.folders[t]=n,n}[o(302)](t){return this[o(361)][t]}[o(364)](t,e){const n=o;return this[n(306)](t,e)[n(343)]()}[o(306)](t,e){const n=o;return this[n(302)](t)[n(319)].find((t=>t[n(314)]===e))}setFolderValues(t,e){const n=o;Object[n(335)](this[n(359)][n(391)])[n(334)]((s=>{const i=n;this.gui[i(391)][s][i(319)][i(334)]((function(n){const s=i;let r=n.property;null!=t[r]?n[s(311)](t[r]):null!=e[r]&&n.setValue(e[r])}))}))}init(){const t=o,e=this,n=this[t(340)],s=n[t(291)],i=this[t(388)],r=this.style;let a={"实线":"","虚线1,1":"1,1","虚线2,2":t(367),"虚线3,3":t(339),"虚线7,3":"7,3","虚线3,7":t(371),"虚线10,1":"10,1","虚线1,10":t(347)},l=["Arial",t(375),t(365)],c={"默认":"butt","圆形":t(374),"矩形":t(309)};function h(){const s=t;let i=this.property,r=this.getValue(),o=e.object;null!=o[s(341)]&&(o.style.backgroundColor=null),o[i]=r,n[s(296)]()}function u(){const s=t;let i=this[s(314)],r=this[s(343)](),o=e[s(295)];i===s(297)?null==r||""===r?r=null:typeof r==s(385)&&(r=r[s(292)](",")):i===s(332)&&e[s(295)][s(344)]&&(r=null),null!=o[s(341)]&&(o[s(338)][s(332)]=null),o[s(342)](i,r),n[s(296)]()}const d=this.newFolder(t(360));d[t(305)](i,t(299))[t(312)](h)[t(299)](t(299)),d[t(305)](i,t(317))[t(312)](h)[t(299)]("文字"),d[t(305)](r,t(384),0,1,.1)[t(315)](u).name(t(321)),d[t(305)](r,t(380))[t(312)](u).name(t(377)),d.open();const p=this[t(358)](t(390));p.add(i,"x")[t(312)](h),p[t(305)](i,"y")[t(312)](h),p[t(305)](i,t(382),1)[t(312)](h)[t(299)]("宽度"),p[t(305)](i,t(324),1).onFinishChange(h)[t(299)]("高度"),p[t(305)](r,t(322),0,10).onChange(u)[t(299)](t(353)),p[t(305)](r,t(368),0,10)[t(315)](u)[t(299)](t(373)),p[t(305)](r,"lineDash",a).onChange(u)[t(299)]("虚实"),p[t(305)](r,"fillStyle")[t(312)](u)[t(299)](t(293)),p[t(305)](i,"imageSrc")[t(312)](h)[t(299)](t(330)),p[t(326)]();const f=this[t(358)](t(301));f[t(305)](r,t(368),0,100)[t(315)](u).name(t(373)),f.add(r,t(297),a).onChange(u)[t(299)]("虚实"),f[t(305)](r,t(345),c)[t(315)](u)[t(299)]("末端样式"),f[t(326)]();const g=this[t(358)]("文本");g.add(r,"fontFamily",l)[t(315)](u)[t(299)]("字体名称"),g[t(305)](r,t(383),1,1e3)[t(315)](u)[t(299)]("大小"),g[t(305)](r,"color").onChange(u)[t(299)]("颜色"),g[t(326)]();let y=this[t(359)][t(329)];y.remove(),s[t(355)][t(304)](y),y[t(338)][t(320)]=t(386),y[t(338)][t(323)]=t(328),y[t(338)][t(376)]=t(366),y[t(338)][t(289)]=1e3}[o(326)](){const t=o;this[t(359)][t(326)]()}close(){const t=o;this.gui[t(387)]()}[o(300)](){const t=o;this[t(359)][t(329)].style[t(351)]=t(381)}[o(350)](){const t=o;this[t(359)].domElement[t(338)][t(351)]=t(325)}}const h=u;function u(t,e){const n=f();return(u=function(t,e){return n[t-=438]})(t,e)}!function(t,e){const n=u,s=t();for(;;)try{if(620625===parseInt(n(449))/1+parseInt(n(440))/2*(-parseInt(n(447))/3)+parseInt(n(446))/4*(parseInt(n(453))/5)+-parseInt(n(463))/6+-parseInt(n(444))/7+-parseInt(n(455))/8*(parseInt(n(441))/9)+parseInt(n(439))/10*(parseInt(n(461))/11))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(f);const d=-1!==navigator[h(443)][h(459)]()[h(454)](h(460))?h(450):"Control",p={CtrlOrCmd:d,CreateGroup:d,DropTo_leader:h(442),Delete:["Delete",h(462)],Select_all:[d+"+a"],Select_invert:[d+"+i"],Cut:[d+"+x"],Copy:[d+"+c"],Paste:[d+"+v"],Save:[d+"+s"],Open:[d+"+o"],Undo:[d+"+z"],Redo:[d+"+shift+z"],Copy_style:[h(445)],paste_Style:[h(464)],Move_up:[h(457)],Move_down:[h(451)],Move_left:[h(452)],Move_right:[h(456)],Layout_tree:["t"],Layout_grid:["g"],LocalView:["/"],ResizeKeepAspectRatio:h(438),DrawLine:["l"],Cancel:[h(448)],DiableNodeAlign:h(458)};function f(){const t=["Meta","ArrowDown","ArrowLeft","30brsWjE","indexOf","8zpbZmW","ArrowRight","ArrowUp","Alt","toUpperCase","MAC OS","26781227tKdZeO","Meta+Backspace","1112604PgfJXj","Shift+v","shift","10jpVQEf","92326EvYxkw","4734441MLivHf","Shift","userAgent","6120639TNvJJk","Shift+c","19080owUhVq","33OZqBiB","Escape","251001ttRiUv"];return(f=function(){return t})()}function g(t,e){const n=y();return(g=function(t,e){return n[t-=377]})(t,e)}function y(){const t=["1px solid black","50zwGSrL","222RqeAZJ","gray","5254733EJRUZb","260425qpDqgL","937344wpuWUj","1801373uVkhgO","88722apOBEy","614360vvEjir","pink","#ecb645","16SzHPiB","rgba(0,0,0,0.1)","rgba(255,255,255,0.6)","rgba(0,0,0,0.9)","3px solid orange","6bXIcnQ","orange","black","33365TVvicQ"];return(y=function(){return t})()}const I=g;!function(t,e){const n=g,s=t();for(;;)try{if(259569===parseInt(n(378))/1+-parseInt(n(379))/2+-parseInt(n(390))/3*(-parseInt(n(382))/4)+-parseInt(n(393))/5*(-parseInt(n(396))/6)+-parseInt(n(380))/7*(parseInt(n(385))/8)+parseInt(n(381))/9*(-parseInt(n(395))/10)+parseInt(n(377))/11)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(y);const m={data:{localLastDocName:"topo_last_doc"},anchorPoint:{size:11,style:{strokeStyle:I(397),fillStyle:I(387),lineWidth:1},activeStyle:{fillStyle:"red"},unActiveStyle:{fillStyle:"rgba(255,255,255,0.6)"},drawStartMinDistance:11,drawStartDelay:200},anchorBox:{anchorDist:5.5,nodeDist:12},nodeResizePoint:{width:12,height:12,style:{border:I(394),backgroundColor:I(391)}},nodeRotatePoint:{width:14,height:14,style:{lineWidth:1,strokeStyle:I(392),fillStyle:I(391)},rotateLineStyle:{strokeStyle:I(397)},rotateLineLength:30},guildLine:{styleW:{strokeStyle:I(384),lineDash:[1,1]},styleS:{strokeStyle:I(384),lineDash:[1,1]}},linkCtrlPoint:{size:7,style:{lineWidth:1,strokeStyle:"gray",fillStyle:I(383)},activeStyle:{strokeStyle:I(386),fillStyle:"rgba(0,0,0,0.1)"},unactiveStyle:{strokeStyle:I(388),fillStyle:I(383)},adjustStyle:{strokeStyle:I(397),fillStyle:I(391)},ctrlLinkStyle:{lineDash:[2,2]}},dropBox:{style:{border:I(389),lineDash:[5,3]}},align:{minDistance:10,alignLineStyle:{strokeStyle:I(391),lineDash:[5,3]}},operationTip:{enable:!0}},b=x;function x(t,e){const n=w();return(x=function(t,e){return n[t-=387]})(t,e)}function w(){const t=["3cuKsob","lineDrawingFinished","active","update","setCursor","isDragStart","lineDrawn","drawStartDelay","画线开始","21fUWnSd","now","css","28510ilnUHQ","mouseenterHandler","beginEndpoint","mousemoveHandler","anchorPoint","440UJMENP","setEnd","intersectNode","style","rate","resizeTo","end","findConnectableEndpoint","assert","size","parent","unactive","isIntersectPoint","segIndex","stageToLocalXY","showTip","target","4870665NvrtcP","recordEnd","drawStartInfo","crosshair","stage","link","122635bYDlmG","timeStamp","setIntersect","record","distancePoint","instanceManager","2212779PDuJyD","inputSystem","dragHandler","69080vngipr","editor","5243424tvsvfU","946520ofiQKE","endpoint","auto","anchorBox","isActive","36MgBwNI","4FomzpS","drawStartMinDistance","buttons","intersect","activedPoint","name","show"];return(w=function(){return t})()}!function(t,e){const n=x,s=t();for(;;)try{if(623483===parseInt(n(392))/1*(-parseInt(n(441))/2)+-parseInt(n(438))/3*(-parseInt(n(450))/4)+parseInt(n(432))/5*(-parseInt(n(449))/6)+parseInt(n(401))/7*(parseInt(n(444))/8)+-parseInt(n(426))/9+-parseInt(n(404))/10*(parseInt(n(409))/11)+parseInt(n(443))/12)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(w),b(411);class C extends e.Node{constructor(t,e=0,n=0,s=1,i=1){const r=b;super(null,e,n,s,i),this[r(448)]=!1,this[r(421)]=!1,this.anchorBox=t,this.editor=t.editor,this[r(430)]=this.editor.stage,this[r(414)](m.anchorPoint[r(418)],m[r(408)][r(418)]),this.css(m[r(408)][r(412)]),this[r(420)]()}[b(434)](t){this.intersect=t}[b(405)](){this[b(394)]()}mouseoutHandler(){const t=b;this[t(430)].setCursor(t(446)),this[t(420)]()}[b(407)](){}mousedownHandler(t){const e=b;t.preventDefault(),this[e(442)][e(430)][e(396)](e(429)),this[e(431)]=null}[b(440)](t){const n=b;if(2===t[n(387)])return;const s=this[n(442)],i=s[n(430)];this.anchorBox[n(389)]&&this[n(447)][n(389)][n(420)]();const r=this[n(447)][n(425)];if(t[n(397)]){let s;if(this.isIntersectPoint){let t=this[n(447)][n(388)];s=new e.EndpointSegment(r,t[n(413)],t[n(422)])}else s=new e.EndpointFixedName(r,this[n(390)]);this[n(428)]={x:t.x,y:t.y,beginEndpoint:s,timeStamp:Date[n(402)]()}}else{if(null!=this[n(428)]){let o=e.Point[n(436)](this[n(428)],t);if(Date[n(402)]()-this[n(428)][n(433)]>m.anchorPoint[n(399)]&&o>m.anchorPoint[n(451)]){this.editor[n(424)](n(400)),console[n(417)](null==this[n(431)],this.link),this[n(442)][n(435)]("划线");const t=s.instanceManager[n(398)](null,r,null,this.drawStartInfo[n(406)]);this[n(431)]=t;let e=t[n(419)][n(423)](i[n(439)].x,i.inputSystem.y);t[n(410)](e),this.drawStartInfo=null}}if(null!=this[n(431)]&&null!=this[n(431)].end){let t=this[n(431)][n(419)][n(423)](i[n(439)].x,i.inputSystem.y);this[n(431)].setEnd(t),this[n(445)]=this[n(447)][n(416)]([this[n(431)],this[n(431)][n(415)].target])}}}mouseupHandler(t){const e=b;this[e(391)](),this[e(442)][e(395)](),this.editor[e(430)].setCursor(e(446)),null!=this[e(431)]&&(this[e(445)]&&(this[e(431)].setEnd(this[e(445)]),this.link.upgradeParent(),this[e(431)].updateMatrix()),this[e(442)][e(437)][e(393)](this[e(431)]),this[e(447)][e(416)]([]),this[e(442)][e(427)]("划线")),this.link=null}active(){const t=b;this[t(448)]=!0,this[t(403)](m.anchorPoint.activeStyle)}[b(420)](){const t=b;this.isActive=!1,this[t(403)](m[t(408)].unActiveStyle)}}const v=P;function P(t,e){const n=k();return(P=function(t,e){return n[t-=402]})(t,e)}!function(t,e){const n=P,s=t();for(;;)try{if(140405===-parseInt(n(402))/1*(parseInt(n(418))/2)+-parseInt(n(425))/3*(-parseInt(n(407))/4)+parseInt(n(415))/5+-parseInt(n(410))/6*(parseInt(n(409))/7)+parseInt(n(404))/8*(-parseInt(n(413))/9)+-parseInt(n(423))/10*(-parseInt(n(411))/11)+parseInt(n(417))/12)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(k),v(419),v(405),v(421),v(416),v(403),v(412),v(420),v(424),v(408),v(414),v(406);class S{constructor(t){this[v(422)]=t}}function k(){const t=["delete","open","cut","type","20ZlCQHN","create","37008zuDwtm","1VdYVIA","resize","8ZEiZKg","copy","drawLineEnd","68dQgOus","lineDrawingFinished","14NANLHk","808212LzShXJ","604703nMrzky","save","1780983LtwUol","drawLineStart","573790iAGhOC","paste","4389672mKjkuK","385052kGtAcy"];return(k=function(){return t})()}const L=H;function H(t,e){const n=D();return(H=function(t,e){return n[t-=307]})(t,e)}function E(t,e){const n=H;let s=e[n(309)],i=t.positionToLocalPoint(n(338));return i=t.getStageTransform()[n(341)](i),Math[n(339)](s.y-i.y,s.x-i.x)}!function(t,e){const n=H,s=t();for(;;)try{if(246015===-parseInt(n(328))/1+parseInt(n(327))/2*(-parseInt(n(315))/3)+parseInt(n(318))/4+parseInt(n(333))/5*(parseInt(n(329))/6)+parseInt(n(317))/7*(-parseInt(n(319))/8)+parseInt(n(316))/9+-parseInt(n(348))/10*(-parseInt(n(337))/11))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(D);class T extends e.CircleNode{constructor(t,e){const n=H;super(),this[n(332)]=t[n(332)],this[n(343)]=this[n(332)][n(343)],this[n(307)]=this[n(343)].selectedGroup,this[n(344)](m[n(347)][n(312)]),this[n(322)](m[n(347)][n(331)],m[n(347)][n(336)]),this[n(345)]=e}[L(326)](){const t=L;this.stage.setCursor(e.Cursor[t(334)])}[L(310)](t){const e=L;t.preventDefault();let n=this[e(343)];if(0===this[e(307)][e(330)]()[e(342)])throw new Error(e(335));let s=n[e(309)].target;this[e(340)]=s.rotation,this[e(325)]=E(s,n)}[L(320)](t){const e=L;this[e(343)].setCursor(e(308)),t[e(321)]()}[L(314)](t){const e=L;t[e(321)]();let n=this[e(323)],s=n[e(332)],i=s.stage;if(0===s[e(343)][e(307)][e(330)]().length)throw new Error(e(335));let r=i[e(309)].target,o=E(r,i)-this[e(325)];if(r[e(313)](this[e(340)]+o),n[e(311)](),0!==o){let t=new S("rotate");t[e(346)]=r,t.details={dAngle:o},s[e(324)](t)}}}function D(){const t=["10KywSAg","selectedGroup","auto","inputSystem","mousedownHandler","updateSize","style","rotate","dragHandler","6sSfvSN","2414682mSmJoA","156954dlSots","1512528QriMEa","136DiYzNz","mouseupHandler","preventDefault","resizeTo","parent","dispatchEvent","mouseInitAngle","mousemoveHandler","430816YgwOKU","283607JxZSBr","4362AWHgmP","getNoChildrensObjects","width","editor","2455GaLKxh","move","selectedGroup.length is 0!","height","3720475VpJLym","center","atan2","elementInitAngle","point","length","stage","css","name","object","nodeRotatePoint"];return(D=function(){return t})()}const N=M;function j(){const t=["width","mousemoveHandler","4782FvCKlD","24twTImq","nodeResizePoint","details","339392dQsdly","getNoChildrensObjects","1565gxKmpo","updateSize","target","6cMnxHJ","inputSystem","positionToLocalPoint","24oglCSu","selectedGroup.length is 0!","editor","9JSCibz","style","keyboard","resizeWith","mouseupHandler","selectedGroup","adjustFixedDirection","height","setCursor","object","92665jqvjdU","name","translateWith","2268728IqqxUo","mousedownHandler","mouseenterHandler","86072wSrodF","w-resize","nw-resize","nodeCtrlBox","s-resize","7304099ReTpAj","n-resize","ResizeKeepAspectRatio","dragHandler","4582540TdIjby","sw-resize","stage","preventDefault","mouseoutHandler","e-resize","ne-resize","resize","dispatchEvent","stageToLocalXY","transformPoint"];return(j=function(){return t})()}function M(t,e){const n=j();return(M=function(t,e){return n[t-=157]})(t,e)}!function(t,e){const n=M,s=t();for(;;)try{if(607771===parseInt(n(164))/1*(parseInt(n(201))/2)+parseInt(n(193))/3*(parseInt(n(196))/4)+-parseInt(n(198))/5*(-parseInt(n(192))/6)+-parseInt(n(170))/7+-parseInt(n(167))/8*(-parseInt(n(207))/9)+parseInt(n(179))/10+parseInt(n(175))/11*(-parseInt(n(204))/12))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(j);class O extends e.Node{constructor(t,e){const n=M;super(),this[n(173)]=t,this.editor=t[n(206)],this.stage=this.editor[n(181)],this.selectedGroup=this[n(181)].selectedGroup,this.resizeTo(m[n(194)].width,m[n(194)].height),this.css(m[n(194)][n(208)]),this[n(165)]=e}[N(169)](){}[N(191)](){const t=N;let n,s=this[t(165)];s===e.Position.lt?n=t(172):s===e.Position.ct?n=t(176):s===e.Position.rt?n=t(185):s===e.Position.lm?n=t(171):s===e.Position.rm?n=t(184):s===e.Position.lb?n=t(180):s===e.Position.cb?n=t(174):s===e.Position.rb&&(n="se-resize"),this[t(206)].stage[t(162)](n)}[N(183)](t){}[N(168)](t){t[N(182)]()}[N(158)](t){t.preventDefault()}[N(178)](t){const n=N;let s=this[n(173)][n(206)],i=s[n(181)],r=this[n(165)];if(0===this[n(159)][n(197)]().length)throw new Error(n(205));let o=i[n(202)][n(200)],a=o[n(188)](t.x,t.y),l=o.positionToLocalPoint(r),c=a.x-l.x,h=a.y-l.y;if(r===e.Position.lt?(c=-c,h=-h):r===e.Position.ct?(c=0,h=-h):r===e.Position.rt?h=-h:r===e.Position.lm?(c=-c,h=0):r===e.Position.rm?h=0:r===e.Position.lb?c=-c:r===e.Position.cb?c=0:e.Position.rb,s[n(209)].isKeydown(p[n(177)])){h=c*(o[n(161)]/(o[n(190)]||1))}if(this[n(160)](o,{dx:c,dy:h},r),0!==c&&0!==h){let t=new S(n(186));t[n(163)]=o,t[n(195)]={dx:c,dy:h,ctrl:r},s[n(187)](t)}}[N(160)](t,n,s){const i=N;let r=e.PositionInvertMap[s],o=t[i(203)](r);o=t[i(189)](o),t[i(157)](n.dx,n.dy);let a=t[i(203)](r);a=t[i(189)](a);let l=o.x-a.x,c=o.y-a.y;t[i(166)](l,c),this.nodeCtrlBox[i(199)]()}}const z=A;function A(t,e){const n=F();return(A=function(t,e){return n[t-=127]})(t,e)}!function(t,e){const n=A,s=t();for(;;)try{if(806979===-parseInt(n(160))/1+-parseInt(n(146))/2+parseInt(n(159))/3+-parseInt(n(131))/4*(-parseInt(n(166))/5)+-parseInt(n(163))/6+-parseInt(n(135))/7+parseInt(n(148))/8)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(F);class B extends e.Node{constructor(t,n=0,s=0,i=1,r=1){const o=A;super(null,n,s,i,r),this[o(169)]=e.DefaultZIndexs.NodeCtrlBox,this[o(152)]=t,this.mouseEnabled=!1,this[o(129)]()}[z(143)](){const t=z;this.visible&&this[t(165)]()}[z(157)](){}[z(150)](){}[z(158)](t){const n=z;this[n(134)]();let s=t[n(138)](),i=this;s[n(137)]((t=>{const s=n;if(i.createCtrlPoint(t),t===s(141)){let t=function(){return i[s(149)](e.Position.ct)},n=i[s(136)](s(141)),r=new e.Link(null,n,t);r[s(167)](m[s(161)].rotateLineStyle),r.mouseEnabled=!1,i[s(162)](r)}}))}[z(136)](t){let e;return e="rotate"===t?new T(this,t):new O(this,t),this.addChild(e),e}clearTarget(){const t=z;this[t(144)]=null,this[t(129)]()}[z(155)](t){const n=z;if(!function(t){const n=A;let s=t.parent;return s instanceof e.Link&&(s[n(130)]===t||s.endArrow===t)}(t)){if(!0!==t.editable)throw new Error(n(132));null!==this[n(144)]&&this[n(158)](t),this[n(144)]=t,this[n(165)](),this[n(140)]()}}[z(165)](){const t=z;let e=this[t(144)];if(null==e||!1===e[t(168)]||null==e[t(156)])return this[t(144)]=null,void this[t(129)]();this[t(145)](e),this[t(164)]()}[z(164)](){const t=z;let n=this[t(154)]();for(let s=0;s<n[t(153)];s++){let i,r=n[s];r instanceof e.Link||(r[t(133)]===t(141)?(i=this.positionToLocalPoint(e.Position.ct),i.y-=m.nodeRotatePoint[t(147)]):i=this[t(149)](r[t(133)]),r instanceof e.Node&&r.translateTo(i.x,i.y))}}[z(145)](t){const n=z;let s=t[n(128)](),i=s[n(127)](t[n(149)](e.Position.center)),r=s.point(t[n(149)](e.Position.rm)),o=Math.atan2(r.y-i.y,r.x-i.x);s.rotate(-o);let a=s[n(127)](t.positionToLocalPoint(e.Position[n(139)])),l=s.point(t[n(149)](e.Position.rb)),c=2*(l.x-a.x),h=2*(l.y-a.y);this[n(142)](c,h),this.rotate(o),this[n(151)](i.x,i.y)}}function F(){const t=["length","getChildren","attachTo","parent","mouseoutStageHandler","initCtrlPoint","196101ZYBMCV","1203896nqCIlv","nodeRotatePoint","addChild","3853800zsUtIi","initPoints","updateSize","388845xKncLN","css","isSelected","zIndex","point","getStageTransform","hide","beginArrow","4FdLAVp","attach not Node or not editable","name","removeAllChild","1371944tVKGSe","createCtrlPoint","forEach","getCtrlPoints","center","show","rotate","resizeTo","update","currNode","viewClone","764972QmBcNZ","rotateLineLength","24708136BVvkpw","positionToLocalPoint","mouseenterStageHandler","translateTo","editor"];return(F=function(){return t})()}function R(t,e){const n=G();return(R=function(t,e){return n[t-=124]})(t,e)}function G(){const t=["isActive","hide","stageToLocalXY","setCtrlPoint1","60634GQwkFU","ctrlPoint2","setCtrlPoint","getK","target","activeStyle","center","ctrlPoint","w_resize","positionToLocalPoint","ctrlPoint1","fold1","canConnectEndpoint","css","608592gIZQke","1160365sitnAO","e_resize","132714gtLjXI","setFold1Offset","name","fold2","begin","active","976OahDve","anchorBox","1212832vkKRWQ","size","inputSystem","unactiveStyle","crosshair","unActive","setCtrlPoint2","setBegin","s_resize","mouseupHandler","setCursor","preventDefault","points","parent","n_resize","isDragStart","mousedownHandler","stage","413209qRXYqN","linkCtrlPoint","findConnectableEndpoint","dragHandler","setEnd","setCenterOffset","upgradeParent","move","452506XFZVBd","linkCtrlBox","editor","end","isConnectPoint","mousemoveHandler","updateMatrix","resetOffset","attachedLink"];return(G=function(){return t})()}const V=R;!function(t,e){const n=R,s=t();for(;;)try{if(307692===-parseInt(n(186))/1+-parseInt(n(130))/2+-parseInt(n(157))/3+parseInt(n(168))/4+-parseInt(n(158))/5+parseInt(n(160))/6+-parseInt(n(143))/7*(-parseInt(n(166))/8))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(G);class K extends e.CircleNode{constructor(t){const e=R;super(),this[e(134)]=!0,this[e(139)]=!1,this.setRadius(m[e(187)][e(169)]),this.linkCtrlBox=t,this[e(132)]=this[e(131)][e(132)],this[e(156)](m[e(187)].style)}active(){const t=R;this.css(m[t(187)][t(148)]),this[t(139)]=!0}unActive(){const t=R;this[t(156)](m[t(187)][t(171)]),this.isActive=!1}[V(135)](){const t=V;this[t(132)][t(167)][t(140)](),this.editor.stage.setCursor(e.Cursor[t(129)]);let n=this[t(181)],s=this[t(132)].stage,i=n[t(138)];if(i instanceof e.AutoFoldLink){let n=null,r=i[t(180)][0],o=i[t(180)][1],a=i[t(180)][4],l=i.points[5];this[t(162)]===e.Position[t(154)]?n=e.isHorizontal(i.getK(0,.5))?o.x>r.x?e.Cursor[t(151)]:e.Cursor[t(159)]:o.y>r.y?e.Cursor[t(176)]:e.Cursor[t(182)]:this.name===e.Position.fold2?n=e.isHorizontal(i[t(146)](4,.5))?a.x>l.x?e.Cursor[t(151)]:e.Cursor[t(159)]:a.y>l.y?e.Cursor[t(176)]:e.Cursor[t(182)]:this[t(162)]===e.Position.center&&(n=e.isHorizontal(i[t(146)](2,.5))?e.Cursor[t(176)]:e.Cursor[t(159)]),n&&s[t(178)](n)}}[V(184)](t){const e=V;this[e(132)].stage.setCursor(e(172)),this.canConnectEndpoint=null}[V(125)](t){const n=V;let s=this[n(181)],i=s[n(181)].stage;const r=this.editor;let o=s[n(138)];r.anchorBox[n(140)]();const a=this[n(162)];this[n(132)].stage[n(178)](e.Cursor[n(172)]);let l=o.parent[n(141)](i[n(170)].x,i[n(170)].y);if(t[n(183)]&&(a===e.Position[n(164)]||a===e.Position[n(133)])&&this[n(165)](),a===e.Position[n(164)])return o instanceof e.AutoFoldLink&&o[n(137)](),o[n(175)]({x:l.x,y:l.y}),o[n(136)](),void(this.canConnectEndpoint=r[n(167)].findConnectableEndpoint([o]));if(a===e.Position[n(133)])return o instanceof e.AutoFoldLink&&o[n(137)](),o[n(126)]({x:l.x,y:l.y}),o[n(136)](),void(this[n(155)]=r.anchorBox[n(124)]([o]));if(o instanceof e.CurveLink)this[n(162)]===e.Position.ctrlPoint&&(null==o.ctrlPoint?o[n(145)](o[n(152)](a)):(o[n(150)].x+=l.x-o[n(150)].x,o[n(150)].y+=l.y-o[n(150)].y,o[n(145)](o[n(150)])));else if(o instanceof e.BezierLink)a===e.Position[n(153)]?null==o.ctrlPoint1?o[n(142)](o[n(152)](a)):(o[n(153)].x+=l.x-o[n(153)].x,o[n(153)].y+=l.y-o.ctrlPoint1.y,o[n(142)](o[n(153)])):a===e.Position[n(144)]&&(null==o[n(144)]?o[n(174)](o[n(152)](a)):(o.ctrlPoint2.x+=l.x-o[n(144)].x,o[n(144)].y+=l.y-o.ctrlPoint2.y,o.setCtrlPoint2(o[n(144)])));else if(o instanceof e.AutoFoldLink)if(a===e.Position[n(154)]){let t=o[n(152)](e.Position[n(154)]);const s=l.x-t.x,i=l.y-t.y;o[n(161)](s,i),o[n(136)]()}else if(a===e.Position[n(149)]){let t=o[n(152)](e.Position[n(149)]);const s=l.x-t.x,i=l.y-t.y;o[n(127)](s,i),o.updateMatrix()}else if(a===e.Position[n(163)]){let t=o[n(152)](e.Position.fold2);const s=l.x-t.x,i=l.y-t.y;o.setFold2Offset(s,i),o[n(136)]()}}[V(177)](t){const n=V;this[n(132)][n(185)][n(178)](e.Cursor.auto),t.event[n(179)](),this[n(139)]&&this[n(173)]();let s=this.parent[n(138)];if(null!=this.canConnectEndpoint){let t=this[n(155)],i=t[n(147)];if(i.isLink){let r=i;r.end[n(147)]!==s&&r[n(164)][n(147)]!==s&&(this[n(162)]===e.Position[n(164)]?s.setBegin(r,t):this[n(162)]===e.Position[n(133)]&&s[n(126)](r,t),s.upgradeParent(),s.updateMatrix())}else this[n(162)]===e.Position[n(164)]?s[n(175)](i,t):this[n(162)]===e.Position[n(133)]&&s.setEnd(i,t),s[n(128)](),s[n(136)]();this[n(155)]=null}}}const W=_;function Z(){const t=["fillColor","ctrlPoint1","background","point","anchorNameStr","addChild","center","1544tPzwqy","linkCtrlPoint","hideAllPoint","init","updateSize","length","clearTarget","ctrlPoint","hide","ctrlPoint2","3648432aHNyjH","inputSystem","4FYIooe","updateFllow","23598810mgSTgH","removeAllChild","matrixDirty","css","getCtrlPoints","getStageTransform","mouseenterStageHandler","ctrlPointStyle","ctrlPointInfo","2989398ZhHNoj","translateTo","draw","3447130zDZOXZ","createNodeResizePoint","setBegin","parent","ctrlLinkStyle","target","name","attachedLink","editor","mouseoutStageHandler","stage","7791882oHabiX","7bbygVa","Link","visible","updateCtrlPoints","9485730bbVWun","attachTo","1814ofEXCQ","join","isConnectPoint","zIndex","begin","LinkCtrlBox","setEnd","end"];return(Z=function(){return t})()}function _(t,e){const n=Z();return(_=function(t,e){return n[t-=290]})(t,e)}!function(t,e){const n=_,s=t();for(;;)try{if(734274===parseInt(n(303))/1*(-parseInt(n(318))/2)+parseInt(n(341))/3+parseInt(n(330))/4*(parseInt(n(344))/5)+parseInt(n(296))/6+parseInt(n(297))/7*(parseInt(n(328))/8)+parseInt(n(301))/9+-parseInt(n(332))/10)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Z);class X extends e.Node{constructor(t){const n=_;super(),this[n(340)]={},this[n(306)]=e.DefaultZIndexs[n(308)],this[n(293)]=t,this[n(339)]=new e.Style({}),this[n(321)]()}[W(294)](){}[W(338)](){}[W(345)](t){const e=W;let n=new K(this);return n[e(291)]=t,this[e(316)](n),n}[W(321)](){const t=W;this.ctrlPointInfo={},this[t(326)]()}[W(343)](t){const e=W;!1!==this[e(299)]&&this[e(322)]()}[W(322)](){const t=W,e=this[t(293)][t(295)][t(329)][t(290)];this[t(292)]?null==this.attachedLink[t(347)]||null==e||this[t(292)]!==e?(this[t(292)]=null,this.hide()):this[t(302)](this[t(292)]):this[t(326)]()}[W(300)](t){const n=W;this[n(292)]=t;let s=t[n(336)]();this[n(315)]=s.join(",");for(let t=0;t<s.length;t++){let i=s[t],r=this.ctrlPointInfo[i];if(null==r){if(r=this.createNodeResizePoint(i),i!==e.Position[n(307)]&&i!==e.Position.end&&(r[n(311)]=this[n(339)][n(313)],r[n(335)](m[n(319)].adjustStyle),r[n(305)]=!1),i===n(312)){let t=new e.Link;t[n(335)](m[n(319)][n(348)]),t[n(346)](r,n(317));let s=this.ctrlPointInfo[n(307)];t[n(309)](s,n(317)),this[n(316)](t),this[n(340)][i+n(298)]=t}else if(i===n(327)){let t=new e.Link;t.css(m[n(319)][n(348)]),t[n(346)](r,n(317));let s=this[n(340)][n(310)];t.setEnd(s,n(317)),this[n(316)](t),this[n(340)][i+n(298)]=t}else if(i===n(325)){let t=new e.Link;t[n(335)](m.linkCtrlPoint.ctrlLinkStyle),t[n(346)](r,n(317));let s=this[n(340)][n(307)];t[n(309)](s,n(317)),this[n(316)](t),this[n(340)][i+n(298)]=t}this[n(340)][i]=r}}}[W(320)](){const t=W;let e=this[t(340)];for(let n in e)e[n][t(326)]()}updateFllow(){const t=W,e=this.attachedLink;let n=e[t(337)](),s=e[t(336)]();this[t(320)]();for(let i=0;i<s[t(323)];i++){const r=s[i];let o=this[t(340)][r];if(null==o)continue;let a=e.positionToLocalPoint(r),l=n[t(314)](a);o[t(342)](l.x,l.y),o.show();let c=this[t(340)][r+t(298)];c&&c.show()}}[W(302)](t){const n=W;if(this[n(334)]=!0,null!=t.parent){if(this[n(292)]===t)return t instanceof e.AutoFoldLink&&t.getCtrlPoints()[n(304)](",")!==this[n(315)]&&this.updateCtrlPoints(t),this[n(331)](),void this.show();this[n(340)]={},this.removeAllChild(),this[n(300)](t),this[n(331)](),this.show()}}[W(324)](){const t=W;this.attachedLink=null,this[t(340)]={},this[t(333)](),this[t(326)]()}}const q=U;function U(t,e){const n=Q();return(U=function(t,e){return n[t-=146]})(t,e)}!function(t,e){const n=U,s=t();for(;;)try{if(352009===parseInt(n(210))/1+parseInt(n(204))/2+parseInt(n(154))/3+-parseInt(n(155))/4*(parseInt(n(194))/5)+-parseInt(n(171))/6*(parseInt(n(203))/7)+parseInt(n(213))/8*(-parseInt(n(196))/9)+parseInt(n(158))/10)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Q);class J extends e.Node{constructor(t,e=0,n=0,s=1,i=1){const r=U;super(null,e,n,s,i),this[r(193)]=t,this[r(170)]=this[r(206)]("intersectNode"),this.ctrlIntersectPoint[r(211)]=!0,this[r(170)][r(167)]()}[q(201)](){}mouseoutStageHandler(){}[q(183)](){}[q(205)](){const t=q;this[t(184)]=null,this[t(167)]()}[q(169)](t){const n=q;if(this[n(151)](t)){if(this.target!==t){if(this.target=t,null!=t&&(t instanceof e.Node||t instanceof e.Link)){let e=t[n(180)]();if(this[n(165)][n(153)]-1!=e[n(153)]){this[n(165)][n(153)]=1;for(var s=0;s<e[n(153)];s++){let t=e[s];this[n(206)](t)}}}this.update()}this[n(165)][n(187)]((t=>t.unactive())),this[n(170)][n(167)](),this[n(197)]()}}[q(151)](t){const n=q;return null!=t&&!function(t){let n=t[U(191)];return n instanceof e.Link&&(n.beginArrow===t||n.endArrow===t)}(t)&&(t[n(150)]&&t.mouseEnabled&&t[n(174)]&&t[n(147)])}setTargetWithName(t,e){const n=q;if(null==e)throw new Error("activeNameOrPoint is null");this[n(169)](t),this[n(176)](e),this[n(197)]()}[q(200)](){const t=q;this.activedPoint&&this.activedPoint[t(214)](),this.ctrlIntersectPoint.hide()}[q(176)](t){const e=q;this[e(164)]&&this[e(164)][e(214)]();let n=this[e(165)][e(188)]((n=>n[e(212)]==t))[0];this.activedPoint=n,n[e(186)](),this.ctrlIntersectPoint.hide()}[q(157)](t){const e=q;if(this[e(207)]=t,null==t)return void this[e(170)][e(167)]();let n=t[e(152)],s=t[e(217)];const i=this[e(184)];let r=i.getLocalPoint(n,s),o=i.getStageTransform()[e(218)](r);this.ctrlIntersectPoint[e(162)](o.x,o.y),this.ctrlIntersectPoint[e(160)](m[e(149)].activeStyle),this.ctrlIntersectPoint.show()}[q(192)](){const t=q;if(null==this[t(184)]||null==this[t(184)][t(191)])return void this[t(205)]();const e=this[t(184)],n=e[t(202)](),s=this.children;for(let i=0;i<s[t(153)];i++){const r=s[i],o=r[t(212)];if(!r[t(211)]){let s=e.positionToLocalPoint(o),i=n[t(218)](s);r[t(162)](i.x,i.y)}}}[q(206)](t){const e=q,n=new C(this);return n.name=t,n[e(179)]=this,this.addChild(n),n}[q(173)](t){const n=q;let s=this.editor.stage,i=this[n(193)][n(168)](),r={x:s.inputSystem.x,y:s.inputSystem.y};return e.getNearestPointOnObjectsOBB(i,r,t,m[n(179)].nodeDist)}[q(209)](t){const n=q,s=this.editor,i=this,r=s[n(178)],o=r[n(156)],a={x:o.x,y:o.y},l=e.getNearestAnchorOnObjects(a,t,m[n(149)][n(181)]/2),c=s[n(166)][n(177)]();if(0==l[n(153)]&&!c){let t=function(t,n){const s=U,i=t[s(168)](),r={x:i.mouseX,y:i[s(148)]};let o=i[s(216)][s(188)]((t=>t[s(189)])),a=o[s(175)](((t,n)=>{const i=s;let o=t[i(195)][i(208)].getCenter();return{index:n,dist:e.Point[i(199)](r,o)}}));return a=a[s(188)]((t=>t[s(198)]<=n)),0==a[s(153)]?null:(a[s(163)](((t,e)=>t[s(198)]-e[s(198)])),o[a[0][s(190)]])}(r,100);return this.canConnectable(t)&&i.setTarget(t),null}if(l[n(153)]>0){l.sort(((t,s)=>{const i=n;let r=t[i(185)],o=s[i(185)];if(c){return(r instanceof e.Link?0:1)-(o instanceof e.Link?0:1)}return(r instanceof e.Node?0:1)-(o instanceof e.Node?0:1)}));const t=l[0],s=t[n(185)];let r=t[n(146)];const o=new e.EndpointFixedName(s,r);return i.setTargetWithName(s,r),o}const h=this[n(173)](t);if(null!=h){const t=h[n(185)];i[n(169)](t);const s=new e.EndpointSegment(t,h.rate,h[n(217)]);return this.showIntersectAnchor(h),s}return i[n(205)](),null}[q(215)](t){const e=q,n=this.editor,s=this;const i=n.stage[e(172)][e(161)]()[e(182)](null,(function(n){const i=e;return-1==t[i(159)](n)&&s[i(151)](n)}),!0);return this.getConnectableEndpointFromObjects(i)}}function Q(){const t=["182189xYdmMJ","1048686fOWIdh","clearTarget","createAnchorPoint","intersect","aabb","getConnectableEndpointFromObjects","107593eIKeEe","isIntersectPoint","name","58088jOnjSz","unactive","findConnectableEndpoint","displayList","segIndex","point","anchorName","painted","mouseY","anchorPoint","visible","canConnectable","rate","length","824745fWgKXC","2630420wGSsht","inputSystem","showIntersectAnchor","4640230ZwIVca","indexOf","css","getObject","translateTo","sort","activedPoint","children","keyboard","hide","getCurrentLayer","setTarget","ctrlIntersectPoint","18MbGdLF","localView","getObjectsIntersect","connectable","map","activePointByName","isControlDown","stage","anchorBox","getAnchorPoints","size","_findChildren","mouseenterStageHandler","target","object","active","forEach","filter","isNode","index","parent","update","editor","5hMlNwN","_obb","351UIRzjL","show","dist","distancePoint","clearActived","cancel","getStageTransform"];return(Q=function(){return t})()}function Y(t,e){const n=tt();return(Y=function(t,e){return n[t-=303]})(t,e)}const $=Y;function tt(){const t=["undo","338639hOwMgR","1264616cTxDHD","pop","4899420BCRfVM","52400IpVvLZ","辅助粘贴","4OXQfXT","copy","1695883qDrAvb","redo","push","redoHistory","length","type","18uZNcaI","undoFn","redoFn","779005wNRdRv","剪切粘贴","尺寸修改","连线调整","6VhakcU","editor","1318917mbdTle","位置改变","undoHistory"];return(tt=function(){return t})()}!function(t,e){const n=Y,s=t();for(;;)try{if(232620===parseInt(n(321))/1+parseInt(n(325))/2+-parseInt(n(317))/3*(-parseInt(n(327))/4)+-parseInt(n(311))/5*(parseInt(n(315))/6)+-parseInt(n(329))/7+-parseInt(n(322))/8*(-parseInt(n(308))/9)+-parseInt(n(324))/10)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(tt);const et={cut:"cut",copy:$(328),delete:"删除",modify:"修改",addChild:"添加图元",pasteCopy:$(326),pasteCut:$(312),resize:$(313),rotate:"旋转",dragNodeOrLink:$(318),modifyLink:$(314)};class nt{constructor(t,e,n){const s=$;this[s(307)]=t,this.undoFn=n,this[s(310)]=e}[$(303)](){this[$(310)]()}[$(320)](){this[$(309)]()}}class st extends e.EventTarget{constructor(t){const e=$;super(),this[e(316)]=t,this[e(319)]=[],this.redoHistory=[]}clear(){const t=$;this[t(319)]=[],this[t(305)]=[]}[$(304)](t,e,n){const s=$;let i=new nt(t,e,n);return i[s(316)]=this[s(316)],this.redoHistory[s(306)]=0,this[s(319)][s(304)](i),i}undo(){const t=$;if(0===this[t(319)][t(306)])return null;let e=this.undoHistory.pop();return e[t(320)](),this[t(305)][t(304)](e),e}[$(303)](){const t=$;if(0===this.redoHistory[t(306)])return null;let e=this[t(305)][t(323)]();return e[t(303)](),this.undoHistory[t(304)](e),e}undoAll(t=500){let e=this;!function n(){let s=e[Y(320)]();e.editor.update(),null!=s&&setTimeout(n,t)}()}redoAll(t=500){let e=this;!function n(){const s=Y;e[s(316)].update(),null!=e[s(303)]()&&setTimeout(n,t)}()}}const it=ot;function rt(){const t=["复制样式","772040soMqhO","Layout_grid","Move_down","filter","getNoChildrensObjects","724383oyKQjA","toogleLocalView","Move_up","粘贴样式","forEach","pasteHandler","keyboard","clearCtrlBoxs","openLasted","update","KeysConfig","displayList","localView","editorEventManager","copyHandler","Move_right","removeAll","Select_invert","preventDefault","716646pDEjID","showOpTooltip","children","cutHandler","选编组-","length","inputSystem","doGridLayout","bindKey","Move_left","onEsc","Shift","stage","265wsqBhX","redoUndoSys","clipboardManager","imageToBase64","1618316pepsrk","editor","flatten","objects","isNode","Copy_style","parent","notContains","Cut","selectedGroup","centerBy","678412tlFRtR","Copy","styleCopyHandler","Undo","14004ZiwhHx","redo","127045ZHjZty","Save","addAll","select","layoutManager"];return(rt=function(){return t})()}function ot(t,e){const n=rt();return(ot=function(t,e){return n[t-=150]})(t,e)}!function(t,e){const n=ot,s=t();for(;;)try{if(252827===-parseInt(n(169))/1+parseInt(n(163))/2+parseInt(n(180))/3+-parseInt(n(167))/4*(parseInt(n(212))/5)+parseInt(n(199))/6+-parseInt(n(152))/7+parseInt(n(175))/8)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(rt),it(210);class at{constructor(t){this[it(153)]=t,this.init()}init(){const t=it,n=this[t(153)],s=n.stage,i=n.currentLayer;let r=n.stage[t(186)];const o=n.KeysConfig;function a(e,n,s){e[t(184)]((t=>{r.bindKey(t,(function(t){n(t)}),s)}))}r.on("keydown",(function(){n[t(189)]()})),r.on("keyup",(function(t){n.update()})),a(o.Delete,(e=>n[t(193)].deleteHandler(e))),a(o[t(160)],(e=>n[t(150)][t(202)](e))),a(o[t(164)],(e=>{const s=t;n[s(200)]("复制"),n[s(150)][s(194)](e)})),a(o.Paste,(e=>n[t(150)][t(185)](e))),a(o[t(166)],(e=>{const s=t;n[s(200)]("撤销"),n[s(213)].undo(),n.clearCtrlBoxs()})),a(o.Redo,(e=>{const s=t;n[s(200)]("重做"),n[s(213)][s(168)](e),n[s(187)]()})),a(o.Select_all,(i=>{const r=t;n[r(200)]("全选");let o=s[r(192)].getObject(),a=e.DisplayObject[r(154)](o[r(201)],(t=>1==t.visible));s.select(a)})),a(o[t(197)],(e=>{const r=t;n[r(200)]("反选");let o=s[r(161)].getNoChildrensObjects();s[r(172)](i[r(191)][r(178)]((t=>o[r(159)](t))))})),a(o[t(170)],(e=>{const s=t;n.showOpTooltip("保存"),n.saveHandler(e,n[s(151)])}),!1),a(o.Open,(e=>{const s=t;n[s(200)]("打开"),n[s(188)](e)}),!1),a(o.LocalView,(e=>{n[t(181)]()})),a(o[t(157)],(e=>{const s=t;n[s(200)](s(174)),n.clipboardManager[s(165)](e)}),!1),a(o.paste_Style,(e=>{const s=t;n[s(200)](s(183)),n[s(150)].stylePasteHandler(e)}),!1),a(o[t(208)],(e=>{const n=t;s[n(161)][n(179)]()[n(178)]((t=>t[n(156)]))[n(184)]((t=>{t.x-=1}))})),a(o[t(195)],(e=>{const n=t;s[n(161)][n(179)]()[n(178)]((t=>t.isNode)).forEach((t=>{t.x+=1}))})),a(o[t(182)],(e=>{const n=t;s[n(161)][n(179)]()[n(178)]((t=>t[n(156)]))[n(184)]((t=>{t.y-=1}))})),a(o[t(177)],(e=>{const n=t;s[n(161)].getNoChildrensObjects()[n(178)]((t=>t[n(156)]))[n(184)]((t=>{t.y+=1}))})),a(o[t(176)],(e=>{const s=t;n[s(173)][s(206)]()})),function(t,e,n){const s=it,i=t[s(186)];let r={};function o(e){const n=s;r[e]=t.stage[n(161)].objects.slice(),t[n(200)]("编组-"+e)}function a(e){const n=s;let i=r[e];if(i)return i=i[n(178)]((t=>null!==t[n(158)])),i[n(204)]>0&&(t[n(200)](n(203)+e),t.stage[n(161)][n(196)]()[n(171)](i),t[n(211)][n(205)].target=i[0]),i}for(let r=0;r<=9;r++)i[s(207)](""+t[s(190)].CreateGroup+r,(function(t){t.preventDefault(),o(r)})),i.bindKey(""+r,(function(t){t[s(198)](),a(r)})),i[s(207)](""+r+r,(function(t){const i=s;t[i(198)](),a(r)&&n[i(162)](e[i(161)][i(155)])}))}(n,s,i),a(o.Cancel,(e=>{n[t(209)](e)}))}}const lt=ct;function ct(t,e){const n=ut();return(ct=function(t,e){return n[t-=147]})(t,e)}!function(t,e){const n=ct,s=t();for(;;)try{if(121471===-parseInt(n(157))/1*(-parseInt(n(156))/2)+-parseInt(n(169))/3+-parseInt(n(164))/4+-parseInt(n(168))/5*(-parseInt(n(160))/6)+-parseInt(n(155))/7*(-parseInt(n(173))/8)+-parseInt(n(152))/9*(parseInt(n(176))/10)+parseInt(n(166))/11)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(ut);class ht{constructor(t){const e=ct;this._disabled=!0,this[e(154)]=t,this[e(170)]()}[lt(170)](){const t=lt,n=this[t(154)],s=new e.Link;s.mouseEnabled=!1,s.css(m[t(148)][t(175)]),s.hide(),this[t(174)]=s,n[t(163)][t(171)](this.guildlineW);const i=new e.Link;i[t(147)]=!1,i.css(m[t(148)].styleS),i[t(167)](),this[t(158)]=i,n[t(163)].addChild(this[t(158)])}disable(){this[lt(161)]=!0,this.hideGuidLine()}[lt(159)](){this._disabled=!1}[lt(153)](t){const e=lt;if(this[e(161)])return;const n=this.editor[e(150)],s=this[e(174)],i=this[e(158)];s[e(165)]({x:0,y:t.y}),s[e(149)]({x:n[e(151)],y:t.y}),s[e(162)](),i[e(165)]({x:t.x,y:0}),i[e(149)]({x:t.x,y:n.height}),i[e(162)]()}[lt(172)](){const t=lt;this[t(174)].hide(),this[t(158)][t(167)]()}}function ut(){const t=["6336WYqqBb","guildlineW","styleW","10bDYtJj","mouseEnabled","guildLine","setEnd","stage","width","2048769pqmNYF","showGuildLine","editor","1533NnzoGq","572wSasyB","95zNdMse","guildlineS","enable","8562KjnTGf","_disabled","show","handlerLayer","181596DxqksV","setBegin","4082166YujXmT","hide","210yfgOWM","711441DKrrRv","init","addChild","hideGuidLine"];return(ut=function(){return t})()}function dt(){var t=["copy","copyPut","4601560RiIGwj","take","source","104vZUqHT","48YuXmcZ","23903935JJKCyZ","904136gHMcQb","580617vssjhx","12JjFPDo","184492yKDbaq","134168phwWfG","10440250nTCXHH","type","3lWssKb","cutPut","cut"];return(dt=function(){return t})()}function pt(t,e){var n=dt();return(pt=function(t,e){return n[t-=182]})(t,e)}var ft=pt;!function(t,e){for(var n=pt,s=t();;)try{if(611969===-parseInt(n(199))/1*(-parseInt(n(183))/2)+parseInt(n(186))/3*(parseInt(n(197))/4)+-parseInt(n(191))/5+parseInt(n(195))/6*(parseInt(n(182))/7)+-parseInt(n(194))/8*(parseInt(n(198))/9)+-parseInt(n(184))/10+parseInt(n(196))/11)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(dt);class gt{constructor(){this[pt(192)]=0}[ft(190)](t){var e=ft;this.take=0,this.type=e(189),this.source=t}[ft(187)](t){var e=ft;this[e(192)]=-1,this[e(185)]="cut",this[e(193)]=t}takeSource(){var t=ft;return this[t(192)]++,this[t(193)]}isFirstCutPaste(){var t=ft;return this[t(185)]===et[t(188)]&&0===this[t(192)]}}function yt(t,e){const n=mt();return(yt=function(t,e){return n[t-=178]})(t,e)}const It=yt;function mt(){const t=["takeSource","jsonToObjects","map","recordEnd","forEach","cut","cutPut","stage","stageToLocalXY","4879764bDrKeF","pasteHandler","concat","stylePasteHandler","35psHfXB","粘贴样式","record","cssClipBoard","anchorBox","copyAndToJSON","className","1665MpDlFl","673624XgfWyk","nodeCtrlBox","editor","aabb","styleCopyHandler","serializerSystem","clearTarget","object","2619102ENEeqW","getCenter","copyHandler","7212fwuYXM","1003403bTsNOd","css","copySetStyle","1706378IeaCOE","10dDVQrq","inputSystem","objects","length","copyPut","getNoChildrensObjects","cutHandler","9533439MaBtnK","selectedGroup","style","addChild","dispatchEvent","clipboard","target","unionRects"];return(mt=function(){return t})()}!function(t,e){const n=yt,s=t();for(;;)try{if(558197===parseInt(n(218))/1+parseInt(n(221))/2+-parseInt(n(214))/3+parseInt(n(217))/4*(-parseInt(n(205))/5)+parseInt(n(194))/6+-parseInt(n(198))/7*(-parseInt(n(206))/8)+-parseInt(n(229))/9*(parseInt(n(222))/10))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(mt);class bt{constructor(t){const e=yt;this.cssClipBoard=new gt,this[e(182)]=new gt,this[e(201)]=new gt,this[e(208)]=t}[It(216)](){const t=It;let e=this.editor[t(192)],n=[][t(196)](e[t(178)][t(227)]());if(0===n[t(225)])return;let s=n.map((t=>t.parent));this[t(182)].copyPut([n,s]);let i=new S("copy");i.object=n,this[t(208)][t(181)](i)}[It(228)](){const t=It;let n=this[t(208)],s=n[t(192)],i=[][t(196)](s[t(178)][t(227)]());if(0===i.length)return;let r=i[t(187)]((t=>t.parent));this[t(182)][t(191)]([i,r]),n.record("剪切"),i[t(189)](((t,n)=>{r[n].removeChild(t),e.LinkHelper.disconnect(t,i)})),n.recordEnd("剪切"),s[t(223)].target=null,n[t(202)][t(212)](),n[t(207)][t(212)](),n.linkCtrlBox[t(212)]();let o=new S(t(190));o[t(213)]=i,this[t(208)][t(181)](o)}[It(195)](){const t=It;let n=this[t(208)],s=this[t(182)].takeSource();if(null==s)return;let i=n.currentLayer,r=n[t(192)],o=s[0],a=s[1],l=o.map((e=>e._obb[t(209)])),c=e.Rectangle[t(184)](l)[t(215)](),h=i[t(193)](r[t(223)].x,r[t(223)].y),u=h.x-c.x,d=h.y-c.y;n[t(200)]("粘贴");let p=o,f=r[t(211)][t(203)](o);p=r[t(211)][t(186)](f),p.forEach(((t,e)=>{t.translateWith(u,d)})),p[t(189)](((e,n)=>{const s=t;a[n][s(180)](e)})),n[t(188)]("粘贴");let g=new S("paste");g[t(213)]=p,this[t(208)].dispatchEvent(g)}[It(210)](){const t=It;let e=this[t(208)].stage,n=e.inputSystem[t(183)];null==n&&(!e[t(178)].isEmpty()&&(n=e[t(178)].objects[0]),null==n)||this[t(201)][t(226)](n)}[It(197)](){const t=It;let e=this.editor,n=this[t(201)][t(185)]();if(null==n)return;let s=e[t(192)][t(178)][t(224)],i=this;e[t(200)]("粘贴样式"),s[t(189)]((e=>{i[t(220)](e,n)})),e[t(188)](t(199))}[It(220)](t,e){const n=It;t!==e&&t[n(204)]===e[n(204)]&&t[n(219)](e[n(179)])}}function xt(){const t=["lineDrawingFinished","selectedGroupDragHandler","mouseupHandler","button","buttons","setCursor","showAt","mouseoutHandler","mousedragHandler","onLinkCreate","changeParent","dispatchEvent","round","4952588BuGUGI","isDragStart","mousedown","defaultPrevented","popupMenu","mousemove","deleteHandler","KeysConfig","isAncestors","getAllVisiable","editable","controlTarget","object","delete","length","localView","crosshair","getAABB","stage","target","onLineDrawnHandler","isOutOfParent","selectedGroup","setTarget","guidlineManager","mouseOverTarget","8586696QSskcq","recordEnd","editor","hide","mode","207MnKLxC","event","getObject","isLink","canConnectable","objects","112986uoFJyl","mousewheelHandler","currObject","Shift","init","getCurrentLayer","record","zoom","removeChild","DropTo_leader","inputSystem","dragHandler","getNoChildrensObjects","Control","drawLineEnd","filter","isSelected","attachTo","nodeCtrlBox","_cameraVisible","isMouseOn","clearTarget","dblclickHandler","groupdragend","linkCtrlBox","selectedGroupDragEndHandler","_obb","mousemoveHandler","upgradeLinks","addChild","forEach","isDragEnd","groupdrag","isNode","5740518bzBGcO","lineDrawn","379855HUSLFO","getCenter","30650TeffZx","parent","aabb","9AaVaWs","anchorBox","mouseoutStageHandler","modeChange","dropToBox","assert","keyboard","mousedownHandler","控制点","isKeydown","alignManager","showGuildLine","3242915ZLMhDO","findConnectableEndpoint","instanceManager","currentLayer","newMode","对象拖拽","mouseenterStageHandler","pickUpChild","move","handlerLayer","preventDefault"];return(xt=function(){return t})()}const wt=Ct;function Ct(t,e){const n=xt();return(Ct=function(t,e){return n[t-=113]})(t,e)}!function(t,e){const n=Ct,s=t();for(;;)try{if(652058===-parseInt(n(215))/1+parseInt(n(217))/2*(parseInt(n(173))/3)+parseInt(n(142))/4+parseInt(n(118))/5+-parseInt(n(179))/6+-parseInt(n(213))/7+-parseInt(n(168))/8*(parseInt(n(220))/9))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(xt);const vt=null!=e.ResourceLoader.w?e.ResourceLoader.w.charAt(3):"1";function Pt(t,e){const n=Ct;let s,i=t[n(121)],r=t.currentLayer[n(151)]().filter((t=>t[n(212)]&&!0!==t[n(195)]&&t.mouseEnabled&&t[n(198)])),o=e.filter((t=>t[n(163)]()||t[n(218)]===i));for(let t=0;t<o.length;t++){if(s=St(o[t],r),null!=s)break}return null==s&&(s=i,o=o[n(194)]((t=>t[n(218)]!==i))),console[n(225)](!0!==s[n(176)],!0,s),{parent:s,objects:o}}function St(t,e){const n=Ct,s=t[n(159)](),i=e[n(194)]((e=>e!==t[n(218)]&&e!==t&&!t[n(150)](e)));for(let t=i.length-1;t>=0;t--){const e=i[t];if(e[n(159)]().isIntersectRect(s))return e}return null}class kt{constructor(t){this.editor=t,this.init()}[wt(183)](){const t=wt;let n=this[t(170)],s=n[t(160)],i=s[t(189)],r=n[t(127)];null==s[t(157)][t(172)]&&(s.camera.on(t(186),(function(){n.update()})),s.on(e.EventNames[t(223)],(function(s){const i=t;let o=s[i(122)],a=n[i(197)],l=n[i(203)],c=n[i(224)],h=n[i(221)];o===e.StageMode.edit?(r[i(208)](a),r[i(208)](l),r[i(208)](h),r[i(208)](c)):(r[i(187)](a),r[i(187)](l),r[i(187)](h),r[i(187)](c)),n.update()})),i.on("dragover",(function(e){const s=t;e[s(128)](),n[s(140)](i)})),i.on("drop",(function(){const e=t;i[e(174)].defaultPrevented||n[e(140)](i)})),i.on(t(144),(function(e){const s=t;i[s(174)].defaultPrevented||n[s(146)].hide()})),i.on("mouseup",(function(e){const s=t;2==i.button?!i[s(210)]&&n[s(146)][s(135)](i.x,i.y):n[s(146)][s(171)]()})),i.on(t(147),(function(){})),s.selectedGroup.on(e.EventNames[t(211)],(function(t){n.selectedGroupDragHandler(t,s.selectedGroup.getNoChildrensObjects())})),s.selectedGroup.on(e.EventNames[t(202)],(function(e){const i=t;n[i(204)](e,s[i(164)].getNoChildrensObjects())})))}[wt(148)](){const t=wt;let e=this.editor,n=e[t(160)][t(164)];if("1"!=vt)return null;let s=n.getNoChildrensObjects();n.removeAll(),e[t(120)][t(155)](s);let i=new S(t(155));i.object=s,e[t(140)](i)}[wt(113)](t){const e=wt,n=this.editor,s=n[e(160)][e(189)];let i=n[e(127)],r=n[e(197)],o=n[e(203)];if(n[e(116)][e(113)](s),n[e(153)]=i[e(125)](),n[e(221)][e(171)](),null!=n[e(153)]){let t=n[e(153)][e(218)];return t!==r?r[e(171)]():t!==o&&o[e(171)](),n[e(153)].mousedownHandler(s),void s.event.preventDefault()}o.hide(),r.hide()}[wt(180)](t){}[wt(201)](t){}[wt(131)](t){const n=wt,s=this[n(170)],i=s[n(160)][n(189)];s[n(166)].hideGuidLine(),s[n(116)][n(131)](i);let r=s[n(160)],o=s[n(197)],a=s[n(203)],l=s[n(153)];if(null!=l)return i[n(210)]&&!(l instanceof C)&&s[n(169)](n(114)),l.mouseupHandler(i),i[n(174)][n(128)](),void s.update();if(2===i[n(132)])return;let c=r[n(189)].target;if(null!=c?(c[n(152)]&&(c instanceof e.Link?a[n(196)](c):o.attachTo(c)),s[n(221)][n(177)](c)&&s[n(221)][n(165)](c)):(s[n(221)].clearTarget(),o[n(200)](),a.clearTarget()),null!=s[n(224)][n(181)]){let t=s[n(164)][n(191)](),e=Pt(s,t),i=e[n(218)];e[n(178)][n(209)]((t=>{const e=n;t[e(139)](i),t[e(207)]()}))}s[n(224)][n(196)](null)}[wt(137)](t){const n=wt,s=this.editor,i=s.stage[n(189)];if(2==i[n(133)])return;s[n(226)][n(115)](n(182))&&s[n(160)].setCursor(e.Cursor[n(158)]),s[n(166)][n(117)](i);let r=s[n(153)];if(null!=r){if(i.isDragStart&&!(r instanceof C)&&s[n(185)](n(114)),r[n(190)](i),i[n(174)]instanceof MouseEvent&&1==i[n(174)][n(145)])return;return void i[n(174)].preventDefault()}s[n(116)][n(137)](i),s[n(224)][n(171)]();const o=s[n(149)][n(188)];if(s[n(160)].inputSystem[n(161)]&&s[n(226)][n(115)](o)){let t=s[n(164)].getNoChildrensObjects(),e=Pt(s,t)[n(218)];null!=e&&e[n(152)]&&s[n(224)][n(196)](e)}}[wt(206)](t){const e=wt,n=this[e(170)];let s=n.stage;const i=s.handlerLayer;if(s.localView[e(175)](),s[e(134)]("auto"),n[e(226)][e(115)](e(192))&&n[e(221)][e(119)]([]))return;let r=i[e(125)]();if(r!==n[e(167)]&&(null!=n[e(167)]&&n[e(167)][e(136)](t),null!=r&&r.mouseenterHandler(t)),n[e(167)]=r,null!=r)return void r[e(206)](t);let o=s.getCurrentLayer()[e(125)]();null!=o&&(n[e(160)][e(134)](e(126)),o[e(212)]&&n[e(221)][e(177)](o)&&n.anchorBox.setTarget(o))}mouseenterHandler(t){const e=wt,n=this[e(170)];n[e(203)].mouseenterStageHandler(),n[e(197)][e(124)](),n[e(221)][e(124)]()}[wt(136)](t){const e=wt,n=this[e(170)];n.linkCtrlBox[e(222)](),n[e(197)][e(222)](),n.anchorBox[e(222)]()}[wt(162)](t){const e=wt,n=this.editor;if(n[e(138)])n.onLinkCreate(t);else{let s=new S(e(214));s[e(154)]=t,n[e(140)](s),s=new S("drawLineStart"),s.object=t,n[e(140)](s)}}onlineDrawingFinishedHandler(t){const e=wt,n=this[e(170)];let s=new S(e(129));s.object=t,n[e(140)](s),s=new S(e(193)),s[e(154)]=t,n[e(140)](s)}[wt(130)](t,e){const n=wt,s=this[n(170)];if(s[n(160)][n(189)][n(143)]&&s[n(185)](n(123)),1==e[n(156)]){const t=e[0],i=s[n(184)]().toStageRect(t[n(205)][n(219)])[n(216)]();s[n(166)][n(117)](i)}}selectedGroupDragEndHandler(t,e){const n=wt,s=this[n(170)];s[n(160)].inputSystem[n(199)]?(e[n(209)]((t=>{const e=n;t[e(212)]&&(t.x=Math[e(141)](t.x),t.y=Math[e(141)](t.y))})),s.recordEnd("对象拖拽")):s.recordInterrupt()}}const Lt=Et;function Ht(){const t=["resizeTo","editor","translateWith","_obb","getBottom","ceil","左对齐","网格布局","getUnionRect","sqrt","移至顶部","update","上移一层","width","10040520BCnQSw","easeInQuart","outerGrid","unionRects","3471VTWkLo","doGridLayout","getCenter","2578596mVevZx","3FHVrzX","selectedGroup","doLayout","map","zIndex","7023123cHSNbE","filter","178QBQwgC","stage","aabb","showOpTooltip","getNoChildrensObjects","shapeLayout","155HYPZls","7408687ORbYWU","setZIndex","isNode","160074TFqoPY","length","底部对齐","8EpsPuP","垂直中心对齐","evenSpacing","getRight","align","右对齐","isAlone","8461061WAvzqD","translate"];return(Ht=function(){return t})()}function Et(t,e){const n=Ht();return(Et=function(t,e){return n[t-=272]})(t,e)}!function(t,e){const n=Et,s=t();for(;;)try{if(851278===-parseInt(n(278))/1*(parseInt(n(289))/2)+parseInt(n(282))/3*(parseInt(n(281))/4)+-parseInt(n(295))/5*(-parseInt(n(299))/6)+parseInt(n(309))/7*(-parseInt(n(302))/8)+-parseInt(n(287))/9+parseInt(n(274))/10+parseInt(n(296))/11)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Ht);class Tt{constructor(t){this[Et(312)]=t}[Lt(297)](t,e){const n=Lt;e===n(272)?t[n(286)]++:"下移一层"===e?t.zIndex--:e===n(321)?t[n(286)]=1e3:"移至底部"===e&&(t.zIndex=0),t.parent.updatezIndex()}[Lt(304)](t){const n=Lt;let s=this.editor.stage[n(283)][n(293)]();s=s.filter((t=>t[n(298)]||t instanceof e.Link&&t[n(308)]())),s[n(300)]}[Lt(306)](t){const n=Lt,s=this[n(312)];let i=s[n(290)][n(283)][n(293)]();if(i=i[n(288)]((t=>t[n(298)]||t instanceof e.Link&&t[n(308)]())),0===i.length)return;let r=i[n(285)]((t=>t[n(314)][n(291)])),o=e.Rectangle[n(277)](r);for(let e=0;e<i[n(300)];e++){let s=i[e],r=s[n(314)][n(291)];t===n(317)?s[n(313)](o.x-r.x,0):t===n(307)?s[n(313)](o[n(305)]()-r[n(305)](),0):"顶部对齐"===t?s[n(313)](0,o.y-r.y):t===n(301)?s.translateWith(0,o[n(315)]()-r[n(315)]()):"水平中心对齐"===t?s[n(313)](0,o[n(280)]().y-r.getCenter().y):t===n(303)&&s[n(313)](o[n(280)]().x-r[n(280)]().x,0)}s[n(322)]()}[Lt(279)](){const t=Lt;let n=this.editor,s=n.stage,i=s[t(283)][t(293)]()[t(288)]((t=>t instanceof e.Node));if(i.length<2)return;let r=Math[t(316)](Math[t(320)](i.length)),o=e.NodeHelper[t(319)](i)[t(280)](),a=e.Shape[t(276)](r,r),l=s.layoutSystem[t(294)](i,a),c=i[0][t(273)]*r;l[t(311)](c,c),l[t(310)](o.x,o.y),l[t(284)]({effect:t(275),duration:300}),n[t(292)](t(318))}}const Dt=Nt;function Nt(t,e){const n=Mt();return(Nt=function(t,e){return n[t-=170]})(t,e)}!function(t,e){const n=Nt,s=t();for(;;)try{if(962448===parseInt(n(171))/1*(parseInt(n(189))/2)+-parseInt(n(177))/3+-parseInt(n(187))/4+-parseInt(n(202))/5+-parseInt(n(200))/6*(-parseInt(n(201))/7)+parseInt(n(203))/8+-parseInt(n(184))/9*(-parseInt(n(206))/10))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Mt);class jt{constructor(t){this[Nt(196)]=t}delete(t){const n=Nt;let s=this.editor;s[n(173)]("删除"),t.forEach((function(t){const s=n;e.LinkHelper.disconnect(t),t[s(183)]()})),s[n(197)]("删除"),s[n(209)]("删除")}[Dt(207)](t){const e=Dt,n=this.editor;this.editor[e(172)][e(195)].getObject()[e(176)](t);let s=new S("create");s[e(198)]=t,n[e(185)](s)}[Dt(170)](t){const n=Dt;let s=this.editor[n(172)][n(195)][n(181)](),i=s.x,r=s.y,o=e.getClass(t);if(-1!==t[n(194)]("Node")){let t=new o(null,i,r,64,64);return this[n(207)](t),t}if(-1!==t[n(194)](n(204))){let e=new o(null,{x:i-40,y:r},{x:i+40,y:r+(t===n(204)?0:80)});return this[n(207)](e),e}throw new Error(n(175)+t)}[Dt(180)](t,n,s,i){const r=Dt;let o=this[r(196)];const a=new(e.getClass(o.LinkClassName))(t,n,s,i),l=Object[r(193)]({},o.newLinkProperties);l.css&&(a[r(186)](l[r(186)]),delete l[r(186)]),Object[r(179)](l)[r(182)]((t=>{const e=r;let n=l[t];typeof n==e(191)?a[t]=n():a[t]=n}));let c=n[r(188)]||n[r(208)]?n[r(192)]:o.currentLayer;return a[r(174)]=e.DefaultZIndexs.EditorNewLink,c[r(176)](a),o[r(178)][r(199)](a),a}[Dt(190)](t){const e=Dt;this[e(196)][e(178)][e(205)](t)}}function Mt(){const t=["onLineDrawnHandler","231024XKtSWg","112nyAWiG","5234415hmkVMy","1406000hKPBPz","Link","onlineDrawingFinishedHandler","147380uvMHiO","addNewInstance","isLink","recordEnd","create","1tnxxfa","stage","record","zIndex","unknow classname:","addChild","1228191vHRjkU","editorEventManager","keys","lineDrawn","getMouseXY","forEach","removeFromParent","1494FNdcXH","dispatchEvent","css","4268672EgDrZD","isNode","495148IdbWHB","lineDrawingFinished","function","parent","assign","indexOf","localView","editor","showOpTooltip","object"];return(Mt=function(){return t})()}const Ot=At;function zt(){const t=["10zOKBms","37042335KKiwpr","bottom","align","setBegin","2981184TCtVSO","init","DiableNodeAlign","disable","left","alignInfo","visible","yType","mousedownHandler","aabb","7606638szsJfm","length","toStageRect","isNode","findAlignRectInfo","4560680dUjajN","1616500VmgHQS","133UZGyjH","isIntersectRect","abs","setEnd","getAlignInfo","isKeydown","keyboard","minDistance","dyLine","right","2QeOsjp","mouseupHandler","css","beginArrow","_obb","middle","stageToLocalXY","show","hide","center","editor","objects","alignLineStyle","stage","label","map","update","getCurrentLayer","MAX_VALUE","yRect","endArrow","581032NvnApl","distance","sort","target","parent","mouseEnabled","rect","xRect","top","5WVkLYu","filter","_disabled","addChild","dxLine","displayList","enable","174444YfKjDz","xType"];return(zt=function(){return t})()}function At(t,e){const n=zt();return(At=function(t,e){return n[t-=397]})(t,e)}!function(t,e){const n=At,s=t();for(;;)try{if(525739===-parseInt(n(404))/1*(parseInt(n(454))/2)+-parseInt(n(427))/3+-parseInt(n(443))/4*(parseInt(n(413))/5)+-parseInt(n(420))/6*(-parseInt(n(444))/7)+-parseInt(n(442))/8+-parseInt(n(437))/9+-parseInt(n(422))/10*(-parseInt(n(423))/11))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(zt);class Bt{constructor(t){const e=At;this.minDistance=m[e(425)][e(451)],this[e(415)]=!1,this[e(433)]=!1,this[e(464)]=t,this[e(428)](t)}init(t){const n=At;let s=new e.Link(null,{x:0,y:0},{x:100,y:100});s[n(456)](m[n(425)].alignLineStyle),s.mouseEnabled=!1,this.dxLine=s;let i=new e.Link(null,{x:0,y:0},{x:100,y:100});i[n(456)](m[n(425)][n(466)]),i[n(409)]=!1,this.dyLine=i,s[n(462)](),i[n(462)](),t.handlerLayer[n(416)](s),t.handlerLayer.addChild(i)}[Ot(430)](){const t=Ot;this._disabled=!0,this[t(417)].hide(),this[t(452)][t(462)]()}[Ot(419)](){this[Ot(415)]=!1}[Ot(448)](t,e){const n=Ot,s=this[n(464)][n(467)];let i=t[n(407)];if(s.selectedGroup[n(465)][n(438)]>1)return null;let r=this[n(464)].getCurrentLayer();const o=s[n(400)]()[n(418)][n(414)]((t=>t[n(440)]&&t!==i&&t!==t.parent[n(457)]&&t!==t[n(408)][n(403)]&&t!==t.parent[n(397)]))[n(398)]((t=>r[n(439)](t[n(458)].aabb)));return this.findAlignRectInfo(r[n(439)](i[n(458)][n(436)]),o,e)}[Ot(435)](t){}[Ot(455)](t){const e=Ot;if(this[e(415)])return;let n=!this[e(417)][e(433)]&&!this[e(452)][e(433)];if(this[e(417)].hide(),this[e(452)].hide(),n)return;let s=t.target,i=this.alignInfo;if(s&&s[e(440)]&&null!=i){if(this[e(464)][e(400)](),null!=i[e(421)]){let t=i[e(411)],n=i.xType,r=t[i.xType];r=s[e(408)][e(460)](r,0).x,n===e(431)?s[e(431)]=r:n===e(463)?s.x=r:n===e(453)&&(s[e(453)]=r)}if(null!=i[e(434)]){let t=i[e(402)],n=i[e(434)],r=t[i[e(434)]];r=s[e(408)][e(460)](0,r).y,n===e(412)?s[e(412)]=r:n===e(459)?s.y=r:n===e(424)&&(s[e(424)]=r)}this.editor[e(399)](),this.alignInfo=null}}mousedragHandler(t){const e=Ot;if(this._disabled)return;let n=t.target;if(null==n||!n.isNode||(this.dxLine.hide(),this[e(452)][e(462)](),this[e(464)][e(450)][e(449)](p[e(429)])))return;let s=this[e(417)],i=this.dyLine;const r=this.getAlignInfo(t,this[e(451)]);if(this[e(432)]=r,null==r)return;let o=r[e(410)];if(null!=r[e(421)]){let t=r[e(411)],n=t[r[e(421)]],i=(o[e(459)]+t[e(459)])/2,a=Math.abs(o[e(459)]-t[e(459)]);s[e(426)]({x:n,y:i-a/2}),s[e(447)]({x:n,y:i+a/2}),s[e(461)]()}if(null!=r.yType){let t=r[e(402)],n=(o[e(463)]+t[e(463)])/2,s=t[r[e(434)]],a=Math.abs(o.center-t[e(463)]);i[e(426)]({x:n-a/2,y:s}),i.setEnd({x:n+a/2,y:s}),i.show()}}[Ot(441)](t,n,s){const i=Ot;let r,o,a,l,c,h=Number[i(401)],u=Number[i(401)];n[i(406)](((n,s)=>e.Point.distance(t[i(463)],t[i(459)],s[i(463)],s.middle)-e.Point[i(405)](t.center,t[i(459)],n.center,n[i(459)])));for(let e=0;e<n[i(438)];e++){let d=n[e];d[i(445)](t)||(c=Math.abs(t[i(412)]-d[i(412)]),c<=u&&c<=s&&(o=i(412),u=c,l=d),c=Math.abs(t[i(424)]-d.bottom),c<=u&&c<=s&&(o=i(424),u=c,l=d),c=Math[i(446)](t.middle-d.middle),c<=u&&c<=s&&(o=i(459),u=c,l=d),c=Math[i(446)](t.left-d[i(431)]),c<=h&&c<s&&(r=i(431),h=c,a=d),c=Math[i(446)](t.right-d.right),c<=h&&c<s&&(r="right",h=c,a=d),c=Math[i(446)](t.center-d.center),c<=h&&c<s&&(r=i(463),h=c,a=d))}return{x:h,y:u,rect:t,xRect:a,yRect:l,xType:r,yType:o}}}!function(t,e){const n=Rt,s=t();for(;;)try{if(683380===-parseInt(n(139))/1*(-parseInt(n(132))/2)+-parseInt(n(140))/3*(-parseInt(n(143))/4)+-parseInt(n(146))/5+parseInt(n(138))/6*(parseInt(n(134))/7)+-parseInt(n(130))/8+-parseInt(n(142))/9+-parseInt(n(135))/10)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Gt);const Ft={getItem:function(t){return localStorage.getItem(t)},setItem:function(t,e){localStorage.setItem(t,e)},saveWithVersion(t,e){const n=Rt;t+=Date[n(137)](),this[n(136)](t,e)},getAllVersions(t){const e=Rt;return Object[e(145)](localStorage).filter((n=>n[e(133)](t))).sort()},getLastVersion(t,e){const n=Rt;let s=this[n(144)](t).reverse();if(0===s[n(131)])return;null==e&&(e=0),e+1>=s[n(131)]&&(e=s[n(131)]-1);let i=s[e];return this[n(141)](i)}};function Rt(t,e){const n=Gt();return(Rt=function(t,e){return n[t-=130]})(t,e)}function Gt(){const t=["11168370ByofiF","12khrkBb","getAllVersions","keys","13555Bvjhim","1956912okpfHZ","length","6NfWkZG","startsWith","6570627RInAzf","6734780CbKYZf","setItem","now","6DvTqyR","180393BEPUNb","1365273pqmZgJ","getItem"];return(Gt=function(){return t})()}const Vt=Kt;function Kt(t,e){const n=Wt();return(Kt=function(t,e){return n[t-=458]})(t,e)}function Wt(){const t=["3226026eOwiwK","76122SNkHTG","attach not Node","center","NodeCtrlBox","resizeTo","show","4xwjjVZ","attachTo","2764013CldkFP","962377lhTQxI","currObject","2802065rrQuia","608uFXtes","365757hFSChy","getStageTransform","updateSize","css","rotate","hide","dropBox","zIndex","isLink","positionToLocalPoint","style","viewClone","editor","editable","translateTo","point","2682954lQhVHQ"];return(Wt=function(){return t})()}!function(t,e){const n=Kt,s=t();for(;;)try{if(726226===-parseInt(n(470))/1+parseInt(n(459))/2+parseInt(n(474))/3+parseInt(n(467))/4*(-parseInt(n(472))/5)+parseInt(n(460))/6+-parseInt(n(469))/7+-parseInt(n(473))/8*(-parseInt(n(461))/9))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Wt);class Zt extends e.Node{constructor(t,n=0,s=0,i=1,r=1){const o=Kt;super(null,n,s,n,r),this[o(481)]=e.DefaultZIndexs[o(464)],this[o(486)]=t,this[o(477)](m[o(480)][o(484)]),this.mouseEnabled=!1,this[o(479)]()}update(){this.visible&&this.updateSize()}[Vt(468)](t){const e=Vt;if(null==t||!0!==t[e(487)])return this[e(471)]=null,void this[e(479)]();if(t[e(482)])throw new Error(e(462));this.currObject=t,this[e(476)](),this[e(466)]()}updateSize(){const t=Vt;null!=this.currObject&&this.viewClone(this[t(471)])}[Vt(485)](t){const n=Vt;let s=t[n(475)](),i=s[n(458)](t[n(483)](e.Position[n(463)])),r=s[n(458)](t[n(483)](e.Position.rm)),o=Math.atan2(r.y-i.y,r.x-i.x);s.rotate(-o);let a=s[n(458)](t[n(483)](e.Position[n(463)])),l=s[n(458)](t[n(483)](e.Position.rb)),c=2*(l.x-a.x),h=2*(l.y-a.y);this[n(465)](c+8,h+8),this[n(478)](o),this[n(488)](i.x,i.y)}}function _t(){const t=["pasteHandler","顶部对齐","右对齐","evenSpacing","zIndex","setZIndex","806790bGwNBV","200spRxdr","水平中心对齐","addEventListener","stage","移至顶部","底部对齐","30trmPAu","align","updateZIndex","移至底部","垂直中心对齐","4833010WvvYqO","2435615zGsHLJ","9221zjgNSJ","左右等距","下移一层","上下等距","860332oFgyXx","36iqzBCz","update","1904472CRGYXz","1880rUKEsm","item","parent","deleteHandler","左对齐","target","上移一层",'\n<div class="header">编辑</div>\n<a>剪切</a>\n<a>复制</a>\n<a>粘贴</a>\n<a>删除</a>\n<hr>\n<div class="header">前后</div>\n<a>上移一层</a>\n<a>下移一层</a>\n<a>移至顶部</a>\n<a>移至底部</a>\n<div class="header">对齐</div>\n<a>左对齐</a>\n<a>右对齐</a>\n<a>顶部对齐</a>\n<a>底部对齐</a>\n<a>水平中心对齐</a>\n<a>垂直中心对齐</a>\n',"copyHandler","layoutManager"];return(_t=function(){return t})()}const Xt=Ut;!function(t,e){const n=Ut,s=t();for(;;)try{if(476963===parseInt(n(282))/1*(parseInt(n(269))/2)+-parseInt(n(289))/3+parseInt(n(286))/4+parseInt(n(268))/5*(parseInt(n(275))/6)+-parseInt(n(281))/7+parseInt(n(290))/8*(-parseInt(n(287))/9)+-parseInt(n(280))/10)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(_t);let qt=Xt(297);function Ut(t,e){const n=_t();return(Ut=function(t,e){return n[t-=262]})(t,e)}const Jt=Qt;function Qt(t,e){const n=Yt();return(Qt=function(t,e){return n[t-=117]})(t,e)}function Yt(){const t=["getCurrentLayer","keyboard","setItem","mousedragHandler","mouseupHandler","newLinkProperties","lastLayerState","mousemoveHandler","cancel","3tnPIgb","handlerLayer","style","99Hgvtsj","localLastDocName","width","assign","instanceManager","mousewheelHandler","dispatchEvent","black","4099160SCusQi","camera","create","opTooltip","restoreToJson","1425968MiAVtL","toFileJson","mousedownHandler","1046380RKgBoV","enable","4305665jedRtZ","686712SPDudo","target","fadeOut","linkCtrlBox","KeysConfig","mouseOverTarget","height","mouseenterHandler","redoUndoSys","saveHandler","clearTarget","getItem","nodeCtrlBox","DataCenter","clearCtrlBoxs","openLasted","500412HnDSAt","selectedGroupDragEndHandler","4ZIxDxu","anchorBox","guidlineManager","popupMenu","selectedGroupDragHandler","imageToBase64","inputSystem","openJson","warn","object","lineDrawn","mouseoutHandler","open","sendKey","20px","serializerSystem","data","editor","editorEventManager","record","stage","update","msg","keyManager","LinkClassName","recordInterrupt","save","currentLayer","domElement","showAt","setLinkClassName","dblclickHandler","alignManager","targetOnly","723777sXrhOy","newLink","recordName","clipboardManager","dropToBox","getState","selectedGroup","AutoFoldLink"];return(Yt=function(){return t})()}!function(t,e){const n=Qt,s=t();for(;;)try{if(482360===parseInt(n(148))/1+-parseInt(n(203))/2*(parseInt(n(165))/3)+-parseInt(n(205))/4*(parseInt(n(176))/5)+parseInt(n(187))/6+-parseInt(n(186))/7+parseInt(n(181))/8+-parseInt(n(168))/9*(-parseInt(n(184))/10))break;s.push(s.shift())}catch(t){s.push(s.shift())}}(Yt);class $t extends e.EventTarget{constructor(t){const n=Qt;super(),this[n(191)]=p,this.EditorConfig=m,this[n(138)]=n(155),this[n(161)]={},this.DataCenter=Ft,this[n(119)]=!1,this.stage=t,t[n(131)]=this,this[n(141)]=this.getCurrentLayer(),this[n(166)]=t[n(166)],this[n(154)]=this[n(134)].selectedGroup,this[n(157)]=t[n(157)],this[n(151)]=new bt(this),this.instanceManager=new jt(this),this[n(132)]=new kt(this),this[n(137)]=new at(this),this[n(199)]=new B(this),this.linkCtrlBox=new X(this),this[n(206)]=new J(this),this[n(152)]=new Zt(this),this[n(117)]=function(t){const n=Xt,s=t[n(272)];let i=new e.PopupMenu(s,qt);return i[n(271)]("select",(function(e){const i=n,r=e[i(291)];let o=s.inputSystem[i(295)];"剪切"===r?t.clipboardManager.cutHandler():"复制"===r?t.clipboardManager[i(298)]():"粘贴"===r?t.clipboardManager[i(262)]():"删除"===r&&t.editorEventManager[i(293)](),null!=o&&(r===i(296)||r===i(284)?t.layoutManager[i(267)](o,r):r===i(273)?t[i(299)][i(267)](o,r):r===i(278)?t[i(299)].setZIndex(o,r):"左对齐"===r?t[i(299)][i(276)](i(294)):r===i(264)?t[i(299)][i(276)](i(264)):r===i(263)?t[i(299)][i(276)]("顶部对齐"):r===i(274)?t[i(299)][i(276)](i(274)):r===i(270)?t[i(299)][i(276)](i(270)):r===i(279)?t.layoutManager.align(i(279)):r===i(283)?t.layoutManager[i(265)](i(283)):r===i(285)&&t.layoutManager[i(265)](i(285)),o[i(266)]<0?o[i(266)]=0:o[i(266)]>1e3&&(o[i(266)]=1e3),null!=o[i(292)]&&o[i(292)][i(277)](),t[i(288)]())})),i}(this),this[n(134)][n(120)][n(188)]=null,this.controlTarget=null,this[n(192)]=null,this.inputTextfield=new e.InputTextfield(this),this.redoUndoSys=new st(this),this.layoutManager=new Tt(this),this[n(207)]=new ht(this),this[n(146)]=new Bt(this),this[n(179)]=new e.Tooltip(t),Object[n(171)](this[n(179)][n(142)][n(167)],{paddingLeft:n(128),paddingRight:"20px",color:n(175)})}[Jt(144)](t){this[Jt(138)]=t}[Jt(156)](){const t=Jt;return this[t(134)][t(156)]()}defineKeys(t){const e=Jt;Object[e(171)](this[e(191)],t)}showOpTooltip(t){const e=Jt;m.operationTip[e(185)]&&(this[e(179)].setHtml(t),this[e(179)][e(143)](.5*this[e(134)][e(170)],.5*this[e(134)][e(193)]),this[e(179)][e(189)](80))}[Jt(196)](t,e=!1){const n=Jt;let s=this.getCurrentLayer()[n(182)]({imageToBase64:e});this[n(200)][n(158)](m[n(130)][n(169)],s);const i=new S(n(140));i.object=s,i[n(119)]=e,this[n(174)](i)}[Jt(202)](){const t=Jt,e=this[t(156)](),n=this[t(200)][t(198)](m[t(130)][t(169)]);return null!=n?e[t(121)](n):null}[Jt(145)](t){const e=Jt;this[e(132)].dblclickHandler(t),this[e(135)]()}[Jt(173)](t){const e=Jt;this[e(132)][e(173)](t),this.update()}[Jt(183)](t){const e=Jt;this[e(132)][e(183)](t),this.update()}mouseupHandler(t){const e=Jt;this[e(132)][e(160)](t),this[e(135)]()}mousedragHandler(t){const e=Jt;this[e(132)][e(159)](t),this[e(135)]()}mousemoveHandler(t){const e=Jt;if(this.stage[e(120)].isDragging)return this[e(159)](t);this.editorEventManager[e(163)](t),this[e(135)]()}[Jt(194)](t){const e=Jt;this[e(132)][e(194)](t),this[e(135)]()}[Jt(125)](t){const e=Jt;this.editorEventManager[e(125)](t),this[e(135)]()}[Jt(118)](t,e){const n=Jt;this[n(132)][n(118)](t,e)}[Jt(204)](t,e){const n=Jt;this.editorEventManager[n(204)](t,e)}[Jt(139)](){const t=Jt;this.recordName=null,this[t(162)]=null}[Jt(133)](t){const e=Jt;let n=this[e(141)][e(134)][e(129)];null!=this.recordName&&console[e(122)]("record和recordEnd没有成对出现",this[e(150)]+":"+t),this.recordName=t,this[e(162)]=n[e(153)](this[e(141)])}recordEnd(t){const e=Jt;this.recordName,this[e(150)]=null;let n=this.currentLayer,s=n[e(134)][e(129)],i=this[e(162)],r=s[e(153)](n);this[e(195)].push(t,(function(){s[e(180)](n,r)}),(function(){s.restoreToJson(n,i)}))}[Jt(149)](t,e,n,s){const i=Jt;return this[i(172)][i(124)](t,e,n,s)}[Jt(135)](){const t=Jt;this[t(152)][t(135)](),this[t(199)].update(),this[t(206)][t(135)](),this[t(134)].update()}toJson(t=!1){const e=Jt;return this[e(156)]()[e(182)](t)}[Jt(121)](t){const e=Jt;this[e(156)]()[e(121)](t);let n=new S(e(126));n[e(123)]=t,this[e(174)](n)}showTip(t,e=""){const n=Jt;let s=new Event("log");s[n(136)]=t+e,this[n(174)](s)}create(t){const e=Jt;return this.instanceManager[e(178)](t)}[Jt(201)](){const t=Jt;this[t(206)][t(197)](),this.nodeCtrlBox[t(197)](),this[t(190)].clearTarget()}toogleLocalView(){const t=Jt;let e=this[t(134)][t(120)][t(188)];this[t(134)][t(177)][t(147)](e),this[t(201)](),this[t(135)]()}[Jt(127)](t,e){const n=Jt;this[n(157)][n(127)](t,e)}onEsc(){const t=Jt;this[t(206)][t(164)]()}}const te=ne;function ee(){const t=["3662712SEhjsS","20dpniBb","65330aqsqFl","shape","Editor","12313urSpjg","pickType","Circle","getOwnPropertyDescriptor","6ATJkfL","length","118872UGypIv","KeysConfig","1992716rFwJuX","4656328rqMmLy","prototype","1856715irgDWs"];return(ee=function(){return t})()}function ne(t,e){const n=ee();return(ne=function(t,e){return n[t-=401]})(t,e)}!function(t,e){const n=ne,s=t();for(;;)try{if(349912===-parseInt(n(411))/1*(parseInt(n(410))/2)+-parseInt(n(403))/3+parseInt(n(405))/4+parseInt(n(408))/5+parseInt(n(401))/6*(-parseInt(n(414))/7)+parseInt(n(406))/8+-parseInt(n(409))/9)break;s.push(s.shift())}catch(t){s.push(s.shift())}}(ee);let se=(t,e,n,s)=>{let i;for(let s=t[ne(402)]-1;s>=0;s--){let r=t[s];r&&(i=r(e,n,i)||i)}return i&&Object.defineProperty(e,n,i),i};se([e.setProto(e.Shape[te(416)])],C[te(407)],te(412)),se([e.setProto("shape")],C[te(407)],te(415)),$t[te(404)]=p,e.topo[te(413)]=$t,t.Editor=$t,t.IconsPanel=s,t.PropertiesPanel=c}));
